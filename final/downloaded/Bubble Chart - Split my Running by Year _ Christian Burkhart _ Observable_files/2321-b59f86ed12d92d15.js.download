"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2321],{28923:function(e,t,n){n.d(t,{D:function(){return l},a:function(){return i}});var s=n(85893),a=n(65988),r=n.n(a);function i(e,t,n,s){return!["public","enterprise","pro_enterprise"].includes(e)&&null!==t&&void 0!==t&&!s&&!n}const l=e=>{let{startDate:t,endDate:n,className:a}=e;const i=n?Math.max(0,Math.round((1e3*n-Date.now())/864e5)):0,l=t&&n?(n-t)/86400:1,o=Math.round(i/l*100);return(0,s.jsxs)("div",{className:r().dynamic([["5665d072c2b690da",[o,100===o?"4px":"4px 0px 0px 4px"]]])+" "+"flex items-center lh-f6 ".concat(a),children:[(0,s.jsx)("span",{className:r().dynamic([["5665d072c2b690da",[o,100===o?"4px":"4px 0px 0px 4px"]]])+" observable-purple pr2",children:"".concat(i," day").concat(1===i?"":"s"," left in trial")}),(0,s.jsx)("div",{role:"img","aria-label":"Countdown bar showing ".concat(o," percent left"),className:r().dynamic([["5665d072c2b690da",[o,100===o?"4px":"4px 0px 0px 4px"]]])+" fullBar br2 bg-observable-light-purple",children:(0,s.jsx)("div",{className:r().dynamic([["5665d072c2b690da",[o,100===o?"4px":"4px 0px 0px 4px"]]])+" remainingBar bg-observable-purple h-100"})}),(0,s.jsx)(r(),{id:"5665d072c2b690da",dynamic:[o,100===o?"4px":"4px 0px 0px 4px"],children:".fullBar.__jsx-style-dynamic-selector{background-color:#f6efff;width:100px;height:8px}.remainingBar.__jsx-style-dynamic-selector{background-color:#a463f2;width:".concat(o,"px;-webkit-border-radius:").concat(100===o?"4px":"4px 0px 0px 4px",";-moz-border-radius:").concat(100===o?"4px":"4px 0px 0px 4px",";border-radius:").concat(100===o?"4px":"4px 0px 0px 4px","}")})]})}},79209:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},e),{children:[(0,r.jsx)("circle",{cx:"8",cy:"8",r:"8"}),(0,r.jsx)("path",{d:"M6.87036 3.5L7.05786 9.18359H8.93286L9.12036 3.5H6.87036ZM7.99536 12.1602C8.75122 12.1602 9.19653 11.7676 9.19653 11.0938C9.19653 10.4141 8.75122 10.0215 7.99536 10.0215C7.2395 10.0215 6.80005 10.4141 6.80005 11.0938C6.80005 11.7676 7.2395 12.1602 7.99536 12.1602Z",fill:"white"})]}))},54329:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,r.jsx)("path",{d:"M8 2H3C2.44772 2 2 2.44772 2 3V8M8 2V8M8 2H13C13.5523 2 14 2.44772 14 3V8M8 8H2M8 8V14M8 8H14M2 8V13C2 13.5523 2.44772 14 3 14H8M8 14H13C13.5523 14 14 13.5523 14 13V8",stroke:"currentColor",strokeWidth:"2"})}))},14500:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",stroke:"none"},e),{children:[(0,r.jsx)("circle",{r:"2",cy:"8",cx:"2"}),(0,r.jsx)("circle",{r:"2",cy:"8",cx:"8"}),(0,r.jsx)("circle",{r:"2",cy:"8",cx:"14"})]}))},3304:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,a.Z)((0,s.Z)({viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor"},e),{children:(0,r.jsx)("path",{d:"M14.0609 4.65755C13.435 3.58505 12.5859 2.73595 11.5135 2.11005C10.4409 1.48413 9.26999 1.17125 7.99989 1.17125C6.72994 1.17125 5.55864 1.48423 4.4863 2.11005C3.4138 2.73591 2.56476 3.58505 1.9388 4.65755C1.31295 5.73002 1 6.90116 1 8.17095C1 9.69625 1.44501 11.0678 2.33526 12.2861C3.22542 13.5044 4.37536 14.3474 5.78501 14.8153C5.94909 14.8457 6.07056 14.8243 6.14954 14.7516C6.22855 14.6787 6.26801 14.5875 6.26801 14.4782C6.26801 14.46 6.26644 14.296 6.26341 13.9861C6.26028 13.6761 6.25881 13.4057 6.25881 13.175L6.04917 13.2113C5.91551 13.2358 5.74689 13.2461 5.54331 13.2432C5.33983 13.2404 5.1286 13.219 4.90989 13.1794C4.69109 13.1401 4.48757 13.0489 4.29919 12.9062C4.11091 12.7634 3.97725 12.5764 3.89823 12.3457L3.80709 12.136C3.74634 11.9963 3.6507 11.8412 3.52004 11.6712C3.38937 11.501 3.25724 11.3856 3.12358 11.3249L3.05977 11.2792C3.01724 11.2488 2.97779 11.2122 2.9413 11.1697C2.90484 11.1273 2.87755 11.0847 2.85932 11.0421C2.84106 10.9995 2.85619 10.9646 2.90487 10.9371C2.95356 10.9097 3.04154 10.8964 3.1692 10.8964L3.35142 10.9236C3.47295 10.948 3.62328 11.0208 3.80259 11.1424C3.98181 11.2639 4.12914 11.4218 4.2446 11.6162C4.38443 11.8654 4.55289 12.0552 4.75046 12.1859C4.94788 12.3166 5.14692 12.3818 5.3474 12.3818C5.54788 12.3818 5.72103 12.3666 5.86692 12.3364C6.01265 12.306 6.14938 12.2603 6.27704 12.1996C6.33173 11.7923 6.48062 11.4794 6.72359 11.2607C6.37728 11.2243 6.06593 11.1695 5.78938 11.0966C5.51299 11.0236 5.22737 10.9052 4.93271 10.741C4.6379 10.577 4.39334 10.3733 4.19895 10.1304C4.00454 9.88734 3.84499 9.56824 3.72052 9.17337C3.59598 8.77835 3.5337 8.32268 3.5337 7.80622C3.5337 7.07086 3.77377 6.4451 4.2538 5.92858C4.02893 5.37573 4.05016 4.75597 4.31755 4.06936C4.49377 4.01461 4.75509 4.05569 5.1014 4.19236C5.44777 4.32909 5.70137 4.44621 5.86245 4.54332C6.02354 4.6404 6.15261 4.72267 6.24984 4.78939C6.81505 4.63147 7.39832 4.55249 7.99982 4.55249C8.60133 4.55249 9.18473 4.63147 9.74996 4.78939L10.0963 4.57075C10.3331 4.42486 10.6128 4.29116 10.9347 4.16963C11.2567 4.04816 11.503 4.0147 11.6732 4.06945C11.9465 4.75609 11.9709 5.37582 11.7459 5.92867C12.2259 6.4452 12.4661 7.07112 12.4661 7.80632C12.4661 8.32277 12.4036 8.77989 12.2793 9.17794C12.1548 9.57606 11.9938 9.89485 11.7964 10.135C11.5988 10.3751 11.3526 10.5771 11.058 10.7411C10.7633 10.9052 10.4776 11.0236 10.2012 11.0966C9.92465 11.1695 9.6133 11.2244 9.26699 11.2608C9.58284 11.5342 9.7408 11.9656 9.7408 12.555V14.478C9.7408 14.5872 9.77879 14.6784 9.85483 14.7513C9.93078 14.8241 10.0507 14.8455 10.2148 14.815C11.6246 14.3472 12.7746 13.5041 13.6647 12.2858C14.5547 11.0676 14.9999 9.69599 14.9999 8.17069C14.9996 6.90106 14.6865 5.73002 14.0609 4.65755Z"})}))},46564:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},e),{children:[(0,r.jsx)("rect",{x:"1",y:"2",width:"14",height:"2",rx:"0.7"}),(0,r.jsx)("rect",{x:"1",y:"7",width:"14",height:"2",rx:"0.7"}),(0,r.jsx)("rect",{x:"1",y:"12",width:"14",height:"2",rx:"0.7"})]}))},52155:function(e,t,n){var s,a=n(41799),r=n(69396),i=n(85893);n(67294);t.Z=e=>(0,i.jsx)("svg",(0,r.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:null!==(s=e.fill)&&void 0!==s?s:"none"},e),{children:(0,i.jsx)("path",{d:"M12.6514 4.65742C12.3827 4.38555 12.0636 4.16989 11.7124 4.02277C11.3612 3.87565 10.9848 3.79995 10.6047 3.79999C9.83662 3.79999 9.10061 4.24307 8.558 4.79183L7.99981 5.35727L7.44162 4.79183C6.31148 3.64889 4.47834 3.51449 3.34821 4.65742C3.0793 4.92926 2.86598 5.25202 2.72045 5.60726C2.57491 5.9625 2.5 6.34326 2.5 6.72778C2.5 7.1123 2.57491 7.49306 2.72045 7.84829C2.86598 8.20353 3.0793 8.52629 3.34821 8.79813L3.9064 9.36172L7.99981 13.8L12.0932 9.36172L12.6514 8.79813C12.9204 8.52635 13.1338 8.20361 13.2794 7.84837C13.4251 7.49312 13.5 7.11234 13.5 6.72778C13.5 6.34322 13.4251 5.96243 13.2794 5.60719C13.1338 5.25194 12.9204 4.9292 12.6514 4.65742Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}))},25091:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M14.1386 12.3101C14.9964 11.0907 15.5 9.60418 15.5 8C15.5 3.85786 12.1421 0.5 8 0.5C3.85786 0.5 0.5 3.85786 0.5 8C0.5 12.1421 3.85786 15.5 8 15.5C10.4547 15.5 12.634 14.3207 14.0022 12.4978L14.1642 12.3358L14.1386 12.3101ZM12.6949 10.8665C13.2056 10.0317 13.5 9.05025 13.5 8C13.5 6.82263 13.1301 5.73166 12.5001 4.837L11.2958 6.04126C11.6372 6.61449 11.8333 7.28435 11.8333 8C11.8333 8.58609 11.7018 9.14147 11.4666 9.63821L12.6949 10.8665ZM11.357 12.357L10.1643 11.1643C9.54841 11.5864 8.80304 11.8333 7.99999 11.8333C7.19695 11.8333 6.45158 11.5864 5.83567 11.1643L4.643 12.357C5.57179 13.0737 6.73611 13.5 8 13.5C9.26389 13.5 10.4282 13.0737 11.357 12.357ZM4.53335 9.63822C4.29819 9.14148 4.16666 8.5861 4.16666 8C4.16666 7.43752 4.28781 6.90333 4.50543 6.42211L3.27188 5.18856C2.78163 6.01126 2.5 6.97274 2.5 8C2.5 9.05025 2.79437 10.0317 3.30511 10.8665L4.53335 9.63822ZM7.99999 4.16667C7.17422 4.16667 6.40943 4.42778 5.78369 4.87193L4.59344 3.68169C5.53022 2.94169 6.71353 2.5 8 2.5C9.13759 2.5 10.1945 2.84537 11.0716 3.43698L9.86081 4.64782C9.30978 4.34128 8.67527 4.16667 7.99999 4.16667ZM9.83332 8C9.83332 9.01252 9.01251 9.83333 7.99999 9.83333C6.98747 9.83333 6.16666 9.01252 6.16666 8C6.16666 6.98748 6.98747 6.16667 7.99999 6.16667C9.01251 6.16667 9.83332 6.98748 9.83332 8Z"})}))},15706:function(e,t,n){n.d(t,{g:function(){return l},v:function(){return i}});var s=n(41799),a=n(69396),r=n(85893);n(67294);const i=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("path",{d:"M13 6C13 7.63582 11.7144 9.58779 10.5 10.5L9.5 14H8H6.5L5.5 10.5C4.28555 9.58779 3 7.63582 3 6C3 3.23858 5.23858 1 8 1C10.7614 1 13 3.23858 13 6Z",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("line",{x1:"10",y1:"13",x2:"6",y2:"13",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M9.43036 7.31526C11.416 5.7963 8.97597 2.61382 7.00002 4.13824",stroke:"currentColor",strokeWidth:"1.5"})]})),l=e=>(0,r.jsx)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3.75C6.20743 3.75 4.75 5.2087 4.75 7.01338C4.75 7.48983 4.94316 8.07729 5.28309 8.65861C5.61992 9.2346 6.05717 9.72936 6.45139 10.0265L6.63668 10.1661L7.25452 12H8.74548L9.36332 10.1661L9.54861 10.0265C9.94283 9.72936 10.3801 9.2346 10.7169 8.65861C11.0568 8.07729 11.25 7.48983 11.25 7.01338C11.25 5.2087 9.79257 3.75 8 3.75ZM5.35961 11.0737L6 12.9745V13H6.00858L6.26126 13.75H9.73874L9.99142 13H10V12.9745L10.6404 11.0737C11.1503 10.6451 11.6375 10.0558 12.0118 9.41581C12.4289 8.70241 12.75 7.84996 12.75 7.01338C12.75 4.385 10.6257 2.25 8 2.25C5.37429 2.25 3.25 4.385 3.25 7.01338C3.25 7.84996 3.57107 8.70241 3.98824 9.41581C4.36249 10.0558 4.84972 10.6451 5.35961 11.0737ZM9.84978 8.48747C10.4024 8.06472 10.6386 7.4743 10.6296 6.88661C10.6211 6.32587 10.3938 5.79339 10.0764 5.37886C9.759 4.96439 9.30427 4.6062 8.76528 4.45229C8.20009 4.2909 7.5688 4.36635 7.01818 4.79158L7.93502 5.97877C8.07961 5.8671 8.21033 5.85378 8.35342 5.89464C8.52272 5.94298 8.72254 6.07807 8.88545 6.29081C9.04831 6.5035 9.12708 6.73218 9.12978 6.90945C9.13207 7.05977 9.08465 7.18422 8.9384 7.29609L9.84978 8.48747Z",fill:"currentColor"})}))},81685:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("circle",{cx:"8",cy:"5",r:"2.5",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M4 14V11C4 9.34315 5.79086 8 8 8C10.2091 8 12 9.34315 12 11V14",stroke:"currentColor",strokeWidth:"2"})]}))},5163:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("path",{d:"M1.5 13.5V11.5C1.5 9.84315 2.61929 8.5 4 8.5C5.38071 8.5 6.5 9.84315 6.5 11.5V13.5",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M9.5 13.5V11.5C9.5 9.84315 10.6193 8.5 12 8.5C13.3807 8.5 14.5 9.84315 14.5 11.5V13.5",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("circle",{cx:"4",cy:"5.5",r:"2",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("circle",{cx:"12",cy:"5.5",r:"2",stroke:"currentColor",strokeWidth:"2"})]}))},2537:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("circle",{cx:"8",cy:"5",r:"2.5",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 11C5 10.5569 5.23714 10.0795 5.77157 9.67868C6.30631 9.27762 7.09088 9 8 9C8.90912 9 9.69369 9.27762 10.2284 9.67868C10.3211 9.74818 10.4048 9.81998 10.4799 9.89351C11.0142 9.45957 11.6626 9.16069 12.3731 9.04885C12.1157 8.67805 11.7923 8.35157 11.4284 8.07868C10.5155 7.39395 9.30002 7 8 7C6.69998 7 5.48455 7.39395 4.57157 8.07868C3.65829 8.76364 3 9.78625 3 11V14H5V11Z",fill:"currentColor"}),(0,r.jsx)("line",{x1:"13",y1:"10",x2:"13",y2:"16",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("line",{x1:"16",y1:"13",x2:"10",y2:"13",stroke:"currentColor",strokeWidth:"2"})]}))},21013:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11.4C15 12.8359 13.8359 14 12.4 14L11 14H3.6C2.35959 14 1.32206 13.1314 1.0625 11.9692C1.02158 11.786 1 11.5955 1 11.4V11V10.7071V4.6C1 3.16406 2.16406 2 3.6 2H12.4C13.8359 2 15 3.16406 15 4.6V10.5V11.4ZM3 11.4C3 11.7314 3.26863 12 3.6 12H8.96914L5.90178 8.01243L3 10.9142L3 11.4ZM11.4924 12L7.20927 6.43192C6.62039 5.66638 5.49265 5.59314 4.8097 6.27609L3 8.08579L3 4.6C3 4.26863 3.26863 4 3.6 4L12.4 4C12.7314 4 13 4.26863 13 4.6V10.5V11.4C13 11.7314 12.7314 12 12.4 12H11.4924ZM12 6.5C12 7.32843 11.3284 8 10.5 8C9.67156 8 8.99999 7.32843 8.99999 6.5C8.99999 5.67157 9.67156 5 10.5 5C11.3284 5 12 5.67157 12 6.5Z"})}))},33396:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,a.Z)((0,s.Z)({viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor"},e),{children:(0,r.jsx)("path",{d:"M15 3.429c-.517.24-1.07.402-1.651.477a3.028 3.028 0 0 0 1.264-1.675 5.761 5.761 0 0 1-1.827.728 2.8 2.8 0 0 0-2.1-.959C9.1 2 7.812 3.355 7.812 5.025c0 .24.027.47.074.691-2.39-.119-4.509-1.327-5.926-3.153-.25.444-.39.96-.39 1.522 0 1.052.509 1.977 1.279 2.52a2.758 2.758 0 0 1-1.302-.379c.66 1.819 1.428 2.821 2.306 3.007a2.783 2.783 0 0 1-1.293.052c.37 1.202 1.43 2.078 2.691 2.102A5.588 5.588 0 0 1 1 12.641 7.886 7.886 0 0 0 5.417 14c5.291 0 8.181-4.611 8.181-8.604 0-.128 0-.258-.008-.387.374-.283.844-.81 1.41-1.58z"})}))},4647:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,r.jsx)("path",{d:"M13.2333 3.24677C12.4622 2.44348 11.1651 2.485 10.447 3.33597L9.76423 4.14496L8.23578 2.85505L8.9185 2.04607C10.4025 0.287658 13.0827 0.201856 14.6761 1.86175C16.1327 3.37915 16.1131 5.78144 14.6318 7.27482L13.71 8.20422L12.29 6.79579L13.2119 5.86638C13.9287 5.14367 13.9382 3.9811 13.2333 3.24677ZM3.03261 12.837C3.78864 13.6246 5.03662 13.6602 5.83634 12.917L6.53533 12.2675L7.8968 13.7325L7.19781 14.3821C5.59821 15.8686 3.102 15.7973 1.58979 14.222C0.0425434 12.6102 0.115806 10.0434 1.75247 8.52243L2.38027 7.93902L3.74174 9.40408L3.11394 9.98749C2.29569 10.7479 2.25906 12.0312 3.03261 12.837ZM9.5206 5.1554L5.19215 9.31046L6.57717 10.7533L10.9056 6.59822L9.5206 5.1554ZM15 11H11V9H15V11ZM11 11H9V15H11V11ZM1 5H5V7H1V5ZM5 5H7V1H5V5Z",fill:"currentColor"})}))},18794:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.89801 6.46758C3.55652 5.76872 4.64688 5.74644 5.3334 6.41782L6.87767 7.92804L8.24924 6.47243L6.70496 4.9622C5.22874 3.51853 2.88413 3.56644 1.46812 5.06922C0.0521088 6.572 0.100923 8.96057 1.57714 10.4042L3.12141 11.9145L4.49298 10.4589L2.94871 8.94863C2.26219 8.27725 2.23949 7.16645 2.89801 6.46758ZM9.68546 13.0606C9.0257 13.7607 7.93326 13.7831 7.24544 13.1104L5.69922 11.5983L4.32766 13.0539L5.87388 14.566C7.3514 16.011 9.69809 15.963 11.1153 14.4589C12.5326 12.9548 12.4838 10.5641 11.0062 9.11918L9.46 7.60705L8.08844 9.06266L9.63466 10.5748C10.3225 11.2474 10.3452 12.3604 9.68546 13.0606ZM5.39589 7.51709L8.70672 10.7549L7.33516 12.2105L4.02433 8.9727L5.39589 7.51709Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M13.9087 13.3714V13.3714C14.4609 13.3714 14.9095 12.9237 14.9095 12.3714L14.9095 4.42179L11.6095 1.17179L4.90955 1.17179C4.35726 1.17179 3.90955 1.61959 3.90955 2.17187V2.17187",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M11.594 1.1718L11.594 4.4218L14.894 4.4218",stroke:"currentColor",strokeWidth:"2"})]}))},22255:function(e,t,n){var s=n(41799),a=n(69396),r=n(85893);t.Z=e=>(0,r.jsxs)("svg",(0,a.Z)((0,s.Z)({width:"15",height:"14",viewBox:"0 0 15 14",stroke:"currentColor",strokeWidth:"1.8",fill:"none"},e),{children:[(0,r.jsx)("path",{d:"M9.82089 1.93099C10.0377 1.41845 10.6312 1.1815 11.1414 1.40381L13.3744 2.37686C13.8769 2.5958 14.1095 3.17838 13.896 3.68316L11.1838 10.0952C11.1074 10.2759 10.9795 10.4302 10.8161 10.5387L8.30663 12.2053C8.00426 12.4061 7.59541 12.2279 7.53662 11.8697L7.04682 8.88551C7.01623 8.69914 7.03904 8.50792 7.11262 8.33399L9.82089 1.93099Z"}),(0,r.jsx)("path",{d:"M3.75 13H1.75C1.61193 13 1.5 12.8881 1.5 12.75C1.5 12.6119 1.61193 12.5 1.75 12.5H3.75C3.88807 12.5 4 12.6119 4 12.75C4 12.8881 3.88807 13 3.75 13Z"})]}))},62806:function(e,t,n){n.d(t,{H:function(){return r},x:function(){return l}});var s=n(41799),a=n(69396);function r(e){const t={collectionCount:e.collection_count,commentCount:e.comment_count,creator:e.creator,authors:e.authors,defaultThumbnail:e.default_thumbnail,forked:e.fork_of,id:e.id,likes:e.likes,listing_type:e.listing_type,notebookDescription:e.notebook_description,owner:e.owner,publishLevel:e.publish_level,publishTime:e.publish_time,publishVersion:e.publish_version,roles:e.roles,saveTime:e.update_time||new Date,saveVersion:e.version,sharing:e.sharing,slug:e.slug,thumbnail:e.thumbnail,title:e.title,trashed:!1,type:"notebook_reader",isForking:!1,isPublishing:!1,isReverting:!1,isUnpublishing:!1,isClosingSuggestion:!1,isSuggesting:!1,isUpdatingTrash:!1,isMerging:!1};return e.collection&&(t.collection=e.collection),"notebook_owner"===e.type?(0,a.Z)((0,s.Z)({},t),{lastEditTime:e.last_edit_time,lastEditor:e.last_editor,lastPublishTime:e.last_publish_time,openSuggestionCount:e.open_suggestion_count,publisher:e.publisher,trashed:e.trashed,type:e.type}):t}function i(e){return e.map(r)}function l(e){return"results"in e?(0,a.Z)((0,s.Z)({},e),{results:i(e.results)}):i(e)}},23105:function(e,t,n){n.d(t,{r2:function(){return se},TO:function(){return ce},pg:function(){return ve},c1:function(){return ue},vR:function(){return be}});var s=n(41799),a=n(69396),r=n(99534),i=n(85893),l=n(8385),o=n(88725),c=n(11163),d=n.n(c),u=n(25091);const h=e=>{let{notebook:t}=e;return{onSelect:()=>{d().replace("".concat((0,o.Bi)(t),"/safe"))},children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{className:"mr2 h1 w1"}),"View in safe mode"]})}};var m=n(79209),b=n(95357),p=n(76267),x=n(87769),f=n(46564),v=n(52155),g=n(15706),C=n(92946),j=n(22027),w=n(84749),y=n(81685),k=n(5163),N=n(11846),L=n(84193),Z=n(86384),S=n(43164),M=n(83065),q=n(54239),_=n(66421);const T=e=>{let{notebook:t,dispatch:n}=e;return(0,_.rY)(t)?{onSelect:()=>n({type:"trashRequested",trashed:!1,relocate:!1}),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q.Z,{className:"mr2 h1 w1"}),"Move out of trash"]})}:null};var F=n(14903),U=n(2239),P=n(21013),R=n(67294);const D=e=>{let{notebook:t,dispatch:n}=e;return(0,_.fW)(t)?{onSelect:()=>n({type:"showModal",modal:"setNotebookThumbnail"}),disabled:!1,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.Z,{className:"mr2 h1 w1"}),"Set thumbnail\u2026"]})}:null};var A=n(2840),B=n(77061),I=n(28555),V=n(80453),E=n(49282),z=n(88379),O=n(602),H=n(14151),W=n(12447),Y=n(93939),G=n(74873),K=n(70915),$=n(27193),X=n(3142),J=n(62990),Q=n(36448),ee=n(80835),te=n(65538),ne=n(7483);const se={fontSize:"2rem"};function ae(e,t){let n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>(0,i.jsx)("span",{className:"black bg-lightest-yellow",children:e}),a=0,r=0;const l=[],o=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");if(!e)return null;for(;null!==(n=o.exec(e));)n.index!==a&&l.push(e.substring(a,n.index)),l.push(R.cloneElement(s(n[0]),{key:++r})),a=n.index+n[0].length;return a!==e.length&&l.push(e.substring(a)),l}function re(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u2026";return t+=1,(e=e.trim()).length<=t?e:(e=e.substr(0,t-n.length)).substr(0,e.lastIndexOf(" "))+n}const ie=e=>{let{notebook:t}=e;const[n]=(0,O.h_)("/document/".concat(t.id));return n&&n.fork_of?(0,i.jsxs)("div",{className:"mw5 pa2 pr3 f7 fw5",children:[(0,i.jsx)("div",{className:"mb1 gray",children:"Fork of"}),(0,i.jsx)(L.Z,{href:(0,o.Bi)(n.fork_of),children:(0,i.jsx)("a",{className:"no-underline dark-gray hover-blue",children:(0,$.Ui)(n.fork_of)})}),(0,i.jsx)("span",{className:"mid-gray",children:" by "}),(0,i.jsx)(L.Z,{href:(0,Q.GN)(n.fork_of.owner),children:(0,i.jsx)("a",{className:"no-underline dark-gray hover-blue",children:(0,Q.RX)(n.fork_of.owner)})})]}):n?(0,i.jsx)("div",{className:"flex mw5 pa2 f7 fw5 gray items-center",children:(0,i.jsx)("span",{children:"Fork information isn\u2019t available: parent notebook may be trashed or private."})}):(0,i.jsxs)("div",{className:"flex mw5 pa2 f7 fw5 gray items-center",children:[(0,i.jsx)(j.Z,{className:"mr2 blue"}),(0,i.jsx)("span",{children:"Loading\u2026"})]})},le=e=>{let{notebook:t}=e;return(0,i.jsx)(ee.u,{label:(0,i.jsx)(ie,{notebook:t}),children:(0,i.jsxs)("span",{className:"nowrap",children:["\xa0",(0,i.jsx)(p.F,{title:"This notebook is a fork",className:"dib v-btm moon-gray"})]})})},oe=e=>{let{notebook:t,url:n,format:s="grid"}=e;const a=(0,W.GS)("(max-width: 640px)");return(0,i.jsx)(L.Z,{href:n,children:(0,i.jsx)("a",{"aria-label":(0,o.$h)(t),tabIndex:-1,children:(0,i.jsx)(ne.p,{className:"relative ba b--silver hover-b--light-gray hover-light-shadow br2 overflow-hidden\n           ".concat("grid"===s?"thumbnail-grid":"thumbnail-list"),style:"grid"===s?{width:"100%",paddingTop:"62.5%",backgroundImage:t.thumbnail?"none":"var(--checkerboard)"}:{width:a?72:108,height:66,backgroundImage:t.thumbnail?"none":"var(--checkerboard)"},hash:t.thumbnail})})})},ce=e=>{let{owner:t,authors:n,isTeam:s,className:a}=e;const r=n.filter((e=>{let{id:n}=e;return n!==t.id}));return(0,i.jsxs)("div",{className:"flex flex-wrap items-center dark-gray ".concat(a||""),children:[(0,i.jsx)(L.Z,{href:(0,Q.GN)(t),children:(0,i.jsx)("a",{className:"no-underline hover-blue",children:(0,Q.RX)(t)})}),r.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"ph1",children:s?"\u2022":"and"}),1===r.length?(0,i.jsx)(L.Z,{href:(0,Q.GN)(r[0]),children:(0,i.jsxs)("a",{className:"inline-flex no-underline hover-blue items-center",children:[r[0].approved?(0,i.jsx)(l.q,{user:r[0],size:16,className:"br-100 mr1 nt1 nb1"}):(0,i.jsx)(m.Z,{className:"yellow w1 h1 mr1 nt1 nb1"}),(0,Q.RX)(r[0])]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"inline-flex items-center nt1 nb1",style:{marginLeft:10},children:r.slice(0,V.P).map(((e,t,s)=>(0,i.jsx)(L.Z,{href:(0,Q.GN)(e),children:(0,i.jsx)("a",{children:e.approved?(0,i.jsx)(l.q,{user:e,size:16,style:{verticalAlign:"text-bottom",marginLeft:(-9.6*s.length-1)/s.length},className:"br-100 b--white ba mr1"}):(0,i.jsx)(m.Z,{className:"yellow w1 h1 mr1 br-100 b--white ba",style:{verticalAlign:"text-bottom",marginLeft:(-9.6*n.length-1)/n.length}},t)})},t)))}),r.length," ",s?"authors":"others"]})]})]})},de=(0,te.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{let{notebook:t,currentUser:n,dispatch:s}=e;const a={currentUser:n,notebook:t,dispatch:e=>{s({type:"selectNotebook",notebook:t}),s(e)}},r={collections:(0,Z.b)(a)};return(0,i.jsx)(E._i,{actions:r,buttonType:"list"})})),ue=e=>{let{collection:t,format:n,hideMeta:s=!1,index:a,notebook:r,currentUser:c,query:d,saveListingSelectionEvent:u=(()=>{}),light:h=!1,maxTitleLength:m=85}=e;const p=t?(0,K.L7)(r,t):(0,o.Bi)(r),{owner:x,authors:f,publishTime:g,publishLevel:j,saveTime:y,commentCount:k,likes:N,forked:Z}=r,S=g||y,M=(0,H.d)((0,R.useCallback)((()=>"".concat((0,X.s9)(r)?"Published":(0,X.cg)(r)?"Shared":"Edited"," ").concat((0,J.mr)(S))),[r,S])),q=(0,$.Ui)(r),T=t&&t.ordered,F=h?"white":"near-black",U=null===c||void 0===c?void 0:c.teams.some((e=>(0,_.pb)(e)));return(0,i.jsxs)("div",{"data-cy":"notebook-listing",className:"".concat("grid"===n?"":"flex items-center"," pb2 relative"),onClick:u,children:[T&&"grid"!==n&&void 0!==a&&(0,i.jsxs)("div",{className:"mr2 f6 fw6",children:[a+1,"."]}),(0,i.jsx)(oe,{url:p,notebook:r,format:n}),(0,i.jsxs)("div",{className:"flex".concat("list"===n?"-auto":" justify-between"," items-center"),children:[(0,i.jsxs)("div",{className:"".concat("grid"===n?"pt2":"pl3"," flex-auto"),children:[(0,i.jsxs)("div",{style:{paddingBottom:2},className:"f6 fw6 no-underline ".concat(F," hover-blue lh-f7"),children:[(0,i.jsx)(L.Z,{href:p,children:(0,i.jsx)("a",{className:"break-word",title:q,children:d?ae(q,d):re(q,m)})}),Z?(0,i.jsx)(le,{notebook:r}):(0,X.s9)({publishLevel:j})||(0,X.fN)({publishLevel:j})?null:"\xa0",!s&&(0,X.ws)({publishLevel:j})?(0,i.jsx)("span",{title:"Private",children:(0,i.jsx)(w.Z,{className:"dib v-btm moon-gray"})}):!s&&(0,X.cg)({publishLevel:j})?(0,i.jsx)("span",{title:"Shared",children:(0,i.jsx)(C.ZP,{className:"dib v-btm moon-gray"})}):null]}),(0,i.jsxs)("div",{className:"flex pt1 f7 fw5".concat(s?" items-center":""),children:[(0,i.jsx)(L.Z,{href:(0,Q.GN)(x),children:(0,i.jsx)("a",{className:"inline-flex pr1 mr1 items-center",children:(0,i.jsx)(l.q,{user:x,size:24,className:"br-100"})})}),(0,i.jsxs)("div",{className:"flex-auto ".concat(s?"items-center":""),children:[(0,i.jsx)(ce,{owner:x,authors:f,isTeam:(0,X.p0)(r)}),!s&&(0,i.jsxs)("div",{className:"gray",style:{paddingTop:2},children:[(0,i.jsx)("span",{title:M,className:"nowrap",children:(0,J.LN)(S)}),(N>0||k>0)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"ph1 light-gray",children:"\u2022"}),N>0&&(0,i.jsxs)("span",{className:"mr2 nowrap",children:[(0,i.jsx)(v.Z,{className:"v-top moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,$.CZ)(N)]}),k>0&&(0,i.jsxs)("span",{className:"mr2 nowrap",children:[(0,i.jsx)(b.L,{className:"v-top moon-gray",style:{width:16,height:16,marginRight:-1}})," ",(0,$.CZ)(k)]})]})]})]})]})]}),!s&&U&&"grid"===n&&(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(de,{notebook:r})})]}),U&&"list"===n&&(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(de,{notebook:r})})]})},he=e=>{let{user:t,currentUser:n}=e;return(0,i.jsx)(L.Z,{href:(0,Q.GN)(t),children:(0,i.jsx)("a",{className:"mr1 no-underline dark-gray hover-blue",children:n&&t.id===n.id?"You":(0,Q.RX)(t)})})},me=e=>{let{notebook:t,currentUser:n}=e;const{publishTime:s,lastPublishTime:a,lastEditor:r,publisher:l,saveVersion:o,lastEditTime:c,publishVersion:d,publishLevel:u}=t,h=s||c,m=(0,Y.L)(h);function b(e){const{publishTime:t,lastPublishTime:n}=e;return(0,X.s9)({publishLevel:u})?n>t?"republished":"published":(0,X.cg)({publishLevel:u})?n>t?"reshared":"shared":(0,X.fN)({publishLevel:u})?"made public":null}const p=(0,H.d)((0,R.useCallback)((()=>a?(0,J.LN)(a,m):""),[a,m])),x=(0,H.d)((0,R.useCallback)((()=>a?(0,J.mr)(a):""),[a])),f=(0,H.d)((0,R.useCallback)((()=>(0,J.LN)(c,m)),[c,m])),v=(0,H.d)((0,R.useCallback)((()=>(0,J.mr)(c)),[c]));return d&&o!==d?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(he,{user:r,currentUser:n}),(0,i.jsx)("span",{className:"mr1",children:"edited"}),(0,i.jsxs)("span",{title:v,className:"mr1",children:[" ","".concat(f,",")," "]}),l.id!==r.id?(0,i.jsx)(he,{user:l,currentUser:n}):null,(0,i.jsx)("span",{className:"mr1",children:b(t)}),(0,i.jsx)("span",{title:x,children:p})]}):a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(he,{user:l,currentUser:n}),(0,i.jsx)("span",{className:"mr1",children:b(t)}),(0,i.jsx)("span",{title:x,children:p})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(he,{user:r,currentUser:n}),(0,i.jsx)("span",{className:"mr1",children:"edited"}),(0,i.jsx)("span",{title:v,children:f})]})},be=e=>{let{notebook:t}=e;if((0,X.dI)(t))return(0,i.jsx)(i.Fragment,{children:"Trashed"});const n={className:"mr1 gray",height:13,width:13};let a=null,r=null;return(0,_.yF)(t)&&!(0,X.dO)(t.owner)&&((0,X.hv)(t)?a=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,(0,s.Z)({},n)),"You"]}):(0,X.PW)(t)?a=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.Z,(0,s.Z)({},n)),"Shared"]}):(0,X.nt)(t)&&(a=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.Z,(0,s.Z)({},n)),"Team"]}))),(0,X.dO)(t.owner)?r=(0,i.jsx)(z.i,{iconSize:"13",isUnstyled:!0,notebook:t}):(0,X.cg)(t)?r=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.ZP,(0,s.Z)({},n)),"Published (unlisted)"]}):(0,X.s9)(t)&&(r=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.Z,(0,s.Z)({},n)),"Published"]})),(0,i.jsxs)(i.Fragment,{children:[r,r&&a&&(0,i.jsx)("span",{className:"light-gray ph1",children:"\u2022"}),a]})},pe=e=>{let{notebook:t}=e;const{openSuggestionCount:n,likes:s,commentCount:a}=t;return(0,i.jsxs)(i.Fragment,{children:[n>0?(0,i.jsxs)("div",{className:"dib",title:"This notebook is a suggestion",children:[(0,i.jsx)(g.g,{className:"v-top ml2 moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,$.CZ)(n)]}):null,t.likes>0?(0,i.jsxs)("div",{className:"dib",children:[(0,i.jsx)(v.Z,{className:"v-top ml2 moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,$.CZ)(s)]}):null,a>0?(0,i.jsxs)("div",{className:"dib",children:[(0,i.jsx)(b.L,{className:"v-top ml2 moon-gray",style:{width:16,height:16,marginRight:-1}})," ",(0,$.CZ)(a)]}):null]})},xe=(0,te.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{let{notebook:t,currentUser:n,dispatch:r}=e;const{trashed:l}=t,o={currentUser:n,notebook:t,dispatch:e=>{r({type:"selectNotebook",notebook:t}),r(e)}},c=(0,X.fN)(t)||(0,X.dO)(t.owner),d=l?{Putback:T(o)}:(0,a.Z)((0,s.Z)({},c?{Share:(0,M.Y1)(o)}:(0,a.Z)((0,s.Z)({},(0,X.ws)(t)?{Publish:(0,M.OZ)(o)}:{Publish:{Republish:(0,M.u8)(o),settings:(0,M.dZ)(o),unpublish:(0,I.h)(o)}}),{Share:(0,F.X)(o)})),{Fork:(0,S.AH)(o),divider_1:null,collections:(0,Z.b)(o),divider_2:null,View:{safeMode:h(o)},Settings:{slug:(0,U.t)(o),thumbnail:D(o),divider_1:null,transfer:(0,A.M)(o,{relocate:!1})},divider_3:null,Delete:(0,B.q)(o,{relocate:!1})});return(0,i.jsx)(E._i,{actions:d,buttonType:"list"})})),fe=e=>{const{collection:t,format:n,index:a,isMinimal:r,light:c=!1,notebook:d,query:u,reorder:h,showMenu:m=!0}=e,b=c?"white":"near-black",p=t?(0,K.L7)(d,t):(0,o.Bi)(d),x=(0,X.dI)(d),v=(0,$.Ui)(d),g=m&&(!x||(0,_.c)(d)),C=(0,W.GS)("(max-width: 640px)"),j=t&&t.ordered,w=(0,R.useRef)(null);return(0,G.z)({index:a,ref:w,dataSelector:"collection-order",onDrop:h,disabled:!j}),(0,i.jsxs)("div",{"data-cy":"notebook-listing",className:"".concat("grid"===n?"":"flex items-center"," pb2 relative"),children:[j&&void 0!==a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{"aria-label":"Drag to reorder",className:"pv2 pr2 moon-gray hover-dark-gray bg-transparent bn tooltipped tooltipped-e",ref:w,style:{cursor:"grab",lineHeight:0},children:(0,i.jsx)(f.Z,{style:{width:14}})}),(0,i.jsxs)("div",{className:"mr2 f6 fw6",children:[a+1,"."]})]}),(C||!r)&&(0,i.jsx)(oe,{url:p,notebook:d,format:n}),(0,i.jsxs)("div",{className:"".concat("list"!==n||!C&&r?"":"ml3"," flex-auto"),children:["grid"===n&&(0,i.jsxs)("div",{className:"pt2 flex items-center justify-between f7 fw5 lh-f7 gray",children:[(0,i.jsx)("div",{className:"flex truncate flex-wrap items-center",children:(0,i.jsx)(be,{notebook:d})}),(0,i.jsx)("div",{className:"fw6 moon-gray flex-no-shrink",children:(0,i.jsx)(pe,{notebook:d})})]}),(0,i.jsxs)("div",{className:"unified"===r?"flex justify-between items-end":"relative",children:[(0,i.jsx)("div",{className:"".concat(r?"mr2":"mr4"),children:(0,i.jsxs)("div",{className:"f6 fw6 no-underline ".concat(b," hover-blue lh-f7"),children:[(0,i.jsx)(L.Z,{href:p,children:(0,i.jsx)("a",{className:"v-mid break-word",title:v,children:u?ae(v,u):re(v,85)})}),d.forked&&(0,i.jsx)(le,{notebook:d})]})}),"unified"===r&&(0,i.jsx)(l.q,{user:d.owner,size:16,className:"br-100"}),g&&"grid"===n&&(0,i.jsx)("div",{className:"absolute top-0 right-0 nt3 nr2",children:(0,i.jsx)(xe,{notebook:d})})]}),(0,i.jsxs)("div",{className:"flex pr4 mt1 f7 fw5 gray lh-f7 flex-wrap items-center",children:[!r&&"list"===n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(be,{notebook:d}),(0,i.jsx)("span",{className:"ph1 light-gray",children:"\u2022"})]}),(0,i.jsx)(me,(0,s.Z)({},e)),"list"===n&&!r&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("span",{className:"ml1",children:[" ",(0,i.jsx)(pe,{notebook:d})," "]})})]})]}),g&&!r&&"list"===n&&(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(xe,{notebook:d})})]})},ve=e=>{const{notebook:t,type:n}=e,a=(0,r.Z)(e,["notebook","type"]);return"reader"!==n&&"notebook_owner"===t.type?(0,i.jsx)(fe,(0,s.Z)({notebook:t},a)):(0,i.jsx)(ue,(0,s.Z)({notebook:t},a))}},7483:function(e,t,n){n.d(t,{p:function(){return l}});var s=n(41799),a=n(69396),r=n(99534),i=n(85893);n(67294);const l=e=>{var{hash:t,style:n}=e,l=(0,r.Z)(e,["hash","style"]);return(0,i.jsx)("div",(0,a.Z)((0,s.Z)({},l),{style:(0,a.Z)((0,s.Z)({},n),{backgroundImage:t?"none":"var(--checkerboard)"}),children:t&&(0,i.jsx)("img",{alt:"thumbnail",className:"absolute top-0 left-0 w-100 h-100",style:{objectFit:"cover"},loading:"lazy",src:"https://".concat("static.observableusercontent.com","/thumbnail/").concat(t,".jpg")})}))}},65091:function(e,t,n){n.d(t,{y:function(){return k},z:function(){return N}});var s=n(41799),a=n(69396),r=n(85893),i=n(56424),l=n(92876),o=n(28923),c=n(37497),d=n(87769),u=n(73046),h=n(36815),m=n(13812),b=n(602),p=n(98055),x=n(66421),f=n(36448),v=n(41664),g=n.n(v),C=n(67294),j=n(40042),w=n(2545),y=n(93452);const k=e=>(0,r.jsxs)("p",(0,a.Z)((0,s.Z)({},e),{children:["Contact"," ",(0,r.jsx)("a",{className:"blue",href:"mailto:".concat(h.k7),children:h.k7})," ","to make changes to your plan."," "]})),N=e=>{let{onDismiss:t,user:n,nextPath:v,initialTier:N=null}=e;var L,Z,S,M,q;const _=(0,j.I0)(),[T]=(0,b.h_)("/billing/".concat(n.login)),F=T?(0,w.th)(T):null,U=(0,j.v9)((e=>e.currentUser)),{0:P,1:R}=(0,C.useState)(N),{0:D,1:A}=(0,C.useState)(null),B="public"!==n.tier&&"public"===P,I="public"===n.tier&&"public"!==P,V="team"===n.type,E=P===(null===T||void 0===T?void 0:T.tier)&&n.delinquent,z=!!P&&(0,x.FS)(n,n.tier,P),O=!!U&&(0,o.a)(n.tier,null===F||void 0===F||null===(L=F.stripe_customer)||void 0===L||null===(Z=L.subscriptions)||void 0===Z?void 0:Z.data[0].trial_end,(0,f.yb)(U,n)&&!["pro_enterprise","enterprise"].includes(n.tier),void 0!==(null===F||void 0===F||null===(S=F.stripe_customer)||void 0===S?void 0:S.billing)),H=!!(null===F||void 0===F||null===(M=F.stripe_customer)||void 0===M||null===(q=M.subscription)||void 0===q?void 0:q.cancel_at_period_end);(0,C.useEffect)((()=>{N||T&&(R(T.tier),"public"!==T.tier&&A(T.interval))}),[T,N,A,R]),(0,C.useEffect)((()=>{A("public"===P?null:e=>null!==e&&void 0!==e?e:"year")}),[P]);const{value:W,set:Y}=(0,p.$)();(0,C.useEffect)((()=>{Y("in-trial-subscription",O),Y("cancel-at-period-end-paying-subscription",!O&&H),Y("delinquent-account",E),Y("change-tier",!!T&&P!==T.tier),Y("change-interval","public"!==P&&!!T&&D!==T.interval)}),[Y,T,H,D,P,E,O]);const G=(0,C.useCallback)(((e,s)=>{t(),_({type:"changePlan",tier:e,interval:s,nextPath:v,user:n})}),[n,_,v,t]),K=(0,C.useCallback)(((e,s)=>{t(),_({type:"changePlan",tier:e,interval:s,nextPath:v,user:n})}),[n,_,v,t]),$=(0,C.useCallback)(((e,s)=>{t(),_({type:"createSubscription",tier:e,interval:s,nextPath:v,user:n,coupon:null})}),[n,_,v,t]),X=(0,C.useCallback)(((e,r)=>{t(),_((0,a.Z)((0,s.Z)({type:"createSubscription",tier:e,interval:r},v?{nextPath:v}:null),{user:n,coupon:null}))}),[t,_,v,n]),J=(0,C.useCallback)(((e,t,n)=>{!n||"pro"!==e&&"pro_enterprise"!==e||!t?"public"===e&&null===t?G(e,t):"public"!==e&&null!==t?E?$(e,t):K(e,t):(0,l.Tb)(new Error("Invalid tier/interval combo"),{extra:{tier:e,interval:t}}):X(e,t)}),[G,X,K,$,E]);return"enterprise"===n.tier||"pro_enterprise"===n.tier?(0,r.jsxs)(i.Vq,{onDismiss:t,"aria-label":"".concat(h.Yo," modal"),children:[(0,r.jsx)(y.xB,{title:h.Yo,onDismiss:t,icon:d.Z}),(0,r.jsx)(y.fe,{children:(0,r.jsx)(k,{})}),(0,r.jsx)(y.mz,{children:(0,r.jsx)("div",{className:"flex justify-end h2",children:(0,r.jsx)(c.aX,{text:"Cancel",type:"reset",onClick:t})})})]}):T&&P?(0,r.jsxs)(i.Vq,{onDismiss:t,"aria-label":"".concat(h.Yo," modal"),children:[(0,r.jsx)(y.xB,{title:h.Yo,onDismiss:t,icon:d.Z}),!E&&B&&(0,r.jsxs)("div",{className:"pa3 white bg-observable-dark-gold",children:[(0,r.jsx)("div",{className:"fw5 lh-copy",children:"Your notebooks will become read-only after downgrading."}),(0,r.jsxs)("div",{children:["To edit these notebooks again, you can make them public."," ",(0,r.jsx)(g(),{href:"https://observablehq.com/@observablehq/team-and-individual-workspaces",children:(0,r.jsx)("a",{style:{textDecoration:"underline"},target:"_blank",children:"Learn more"})})]})]}),n.delinquent&&(0,r.jsxs)("div",{className:"pa3 white bg-observable-dark-gold",children:[(0,r.jsxs)("div",{className:"fw5 lh-copy",children:["No active subscription found. Your ",V?"team":""," notebooks are currently read-only."]}),(0,r.jsx)("div",{children:"Please resubscribe to make them editable again."})]}),(0,r.jsxs)(y.fe,{children:[(0,r.jsx)("h2",{className:"fw5 f5",children:V?"Team tier":"Tier"}),(0,r.jsxs)("p",{className:"overflow-x-hidden break-word",children:["Select a tier for"," ",V?(0,r.jsxs)(r.Fragment,{children:[" ","the ",(0,r.jsx)("b",{children:(0,f.RX)(n)})," "]}):(0,r.jsx)(r.Fragment,{children:"your personal"})," ","workspace."," ",(0,r.jsx)(g(),{href:"https://observablehq.com/@observablehq/team-and-individual-workspaces",children:(0,r.jsx)("a",{className:"pa0 fw5 blue bn bg-transparent pointer",target:"_blank",children:"Learn more"})})]}),(0,r.jsx)(m.Y,{interval:null!==D&&void 0!==D?D:"year",user:n,selected:P,setSelected:R,previous:n.tier,shouldResubscribe:E,direction:"column",longDescription:!1,showTrial:O}),"public"!==P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"fw5 f5 mb0",children:"Billing cycle"}),(0,r.jsx)("div",{className:"ml2",children:(0,r.jsx)(u.t,{tier:P,selected:D,setSelected:A,userType:n.type})})]})]}),(0,r.jsx)(y.mz,{children:(0,r.jsx)("div",{children:(0,r.jsxs)(c.N6,{children:[(0,r.jsx)(c.kq,{text:"Cancel",type:"reset",onClick:t}),z&&(0,r.jsx)(c.kq,{text:h.wn,onClick:e=>{e.preventDefault(),J(P,D,!0)}}),(0,r.jsx)(c.KM,{type:"submit",disabled:0===W.size,onClick:e=>{e.preventDefault(),J(P,D,!1)},text:I?h.PK:E||H?h.Bq:O&&"public"!==P?h.PK:h.Yo})]})})})]}):null}},5804:function(e,t,n){n.d(t,{V:function(){return ge},Z:function(){return Ce}});var s=n(41799),a=n(85893),r=n(56424),i=n(37497),l=n(33090),o=n(36448),c=n(67294),d=n(40042),u=n(8385),h=n(93452);const m=e=>{const{account:t,onChange:n,options:s,restrictedOptions:r,restrictedMessage:i}=e;return(0,a.jsxs)(a.Fragment,{children:[s.map((e=>(0,a.jsx)(l.E,{name:"account",className:"mv3 flex items-center",onChange:()=>n(e),checked:t.id===e.id,label:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.q,{user:e,size:16,style:{marginBottom:-1},className:"flex mr2 br-100"}),(0,a.jsx)("span",{className:"truncate f6 fw6 near-black",children:(0,o.RX)(e)})]})},e.id))),r.map((e=>(0,a.jsx)(l.E,{className:"mv3",title:i,disabled:!0,checked:t.id===e.id,label:(0,a.jsxs)("div",{className:"flex items-center",title:i,children:[(0,a.jsx)(u.q,{user:e,size:16,className:"flex mr2 br-100",style:{marginBottom:-1}}),(0,a.jsx)("span",{className:"truncate f6 fw6",children:(0,o.RX)(e)})]})},e.id)))]})},b=(0,d.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),null)((e=>{const{currentUser:t,title:n,icon:l,exclude:o,teams:d,restrictedTeams:u=[],restrictedMessage:b="",defaultAccount:p,onDismiss:x,onSelectAccount:f}=e,v=(0,c.useCallback)((e=>!o||o.id!==e.id),[o]),g=[(0,s.Z)({type:"individual"},t)].concat(d).filter((e=>!u.some((t=>t.id===e.id)))).filter(v),C=u.filter(v),{0:j,1:w}=(0,c.useState)(void 0!==p&&g.find((e=>e.id===p.id))||g[0]);return(0,a.jsx)(r.Vq,{onDismiss:x,"aria-labelledby":"modal-title",children:(0,a.jsxs)("form",{onSubmit:e=>{x(),f(j),e.preventDefault()},children:[(0,a.jsx)(h.xB,{title:n,onDismiss:x,icon:l}),(0,a.jsxs)(h.fe,{children:["Select an account to perform this action.",(0,a.jsx)(m,{account:j,options:g,restrictedOptions:C,restrictedMessage:b,onChange:w})]}),(0,a.jsx)(h.mz,{children:(0,a.jsxs)(i.CQ,{children:[(0,a.jsx)(i.kq,{onClick:x,text:"Cancel"}),(0,a.jsx)(i.KM,{type:"submit",text:"Confirm"})]})})]})})}));var p=n(8433),x=n(86723),f=n(12558);var v=n(65091),g=n(77812),C=n(69396),j=n(72815);var w=e=>(0,a.jsx)("svg",(0,C.Z)((0,s.Z)({width:"167",height:"11",viewBox:"0 0 167 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,a.jsx)("path",{d:"M14.8643 9.76167C15.5146 9.73211 15.1195 9.06422 15.2269 8.65775C15.988 8.40902 15.6186 9.1421 15.908 9.47826C16.3788 9.26433 16.7036 8.6032 17.0673 8.60838C17.1 8.72025 17.1734 8.7565 17.1033 8.9038C17.575 8.3189 18.6322 8.77343 19.1624 8.04517C19.2046 8.09392 19.2356 8.15089 19.2535 8.21227C19.1495 7.90868 19.0959 7.59078 19.0947 7.27067C19.385 7.2396 19.6066 6.79751 19.7452 7.25984C19.5692 7.26277 19.5648 7.4427 19.491 7.59006L19.7817 7.37164C20.1034 8.00328 19.3806 7.62562 19.4123 8.10471C19.9896 7.85529 20.645 7.27109 21.1149 7.42439C21.2527 8.0516 20.0635 7.70793 20.7086 8.23302L19.9891 8.03516C20.5963 9.00303 19.5558 7.99741 20.126 9.03334C21.0623 9.1564 21.1371 8.64181 22.0734 8.76486C22.2579 8.38709 21.9721 8.24946 22.1568 7.88292C23.43 7.16852 23.2951 9.41899 24.2049 8.51205C24.4303 8.07364 24.473 7.26732 25.1882 7.64885L25.0096 8.34878C25.9094 8.36377 25.4533 7.28473 26.4258 7.71069C26.2741 8.00174 25.7342 7.99199 25.8772 8.06829C26.5224 8.59713 26.2789 7.63445 26.7493 7.60788L26.8721 8.25407C27.8186 8.09593 28.8426 7.57304 29.8958 7.39064C29.8496 7.58625 29.6773 7.7952 29.9371 7.97448C31.2543 7.57785 32.7911 7.88201 34.1022 8.19368L34.5625 7.61646C34.5975 7.62749 34.6293 7.64672 34.655 7.6725C34.6807 7.69828 34.6996 7.72981 34.7101 7.76436C34.7205 7.7989 34.7222 7.83542 34.7149 7.87072C34.7077 7.90603 34.6917 7.93905 34.6684 7.96692C35.1847 8.14943 34.662 7.61855 34.9028 7.38972C35.189 7.33625 35.291 7.68302 35.1296 7.85807C35.9854 7.34547 37.5932 6.71918 38.5639 7.25759L38.391 7.43283C39.1293 7.61539 39.1352 6.26261 39.8521 6.73779L39.7276 6.84103C41.3191 6.9944 43.0348 6.41127 44.2814 7.17366C44.4697 6.3724 45.8599 7.45464 45.9047 6.34477C46.8327 6.85016 46.5877 7.06032 47.8719 7.36869C48.2132 7.40422 48.345 6.65637 48.756 6.52213L48.7971 7.09474L49.333 6.46381L49.6707 7.14015L50.0505 6.97271C49.9583 6.94724 49.8767 6.89376 49.8176 6.81998C49.7584 6.7462 49.7247 6.65595 49.7214 6.56226C50.321 6.275 51.236 6.91176 51.2641 7.18857L52.6932 6.6327C52.6708 6.86914 52.4313 6.95931 52.2465 7.11601C53.0007 6.49269 52.4145 7.71649 53.1007 7.14301C52.9989 7.0173 53.1365 6.79769 53.1458 6.68137C53.5348 7.01588 54.3228 6.98777 54.913 6.81308L54.817 7.21561C55.8976 7.27631 57.0781 6.93441 58.287 6.89556C57.8437 6.72682 57.9152 6.03243 58.2697 5.95159L58.4377 6.55581C58.6528 6.17753 58.051 6.34118 58.5092 5.86142C58.9619 5.91384 58.8432 6.54157 58.5906 6.75186L59.1299 6.51806C59.1715 6.69723 59.047 6.80047 59.0245 7.03316C59.232 6.655 59.9958 7.60528 60.2937 6.93709L60.3314 7.11632C61.5403 7.07372 62.0796 6.83992 63.0621 6.77111C63.0525 6.24293 63.4371 6.34519 63.7277 5.90945C64.4577 6.05093 65.2686 6.43836 66.1477 6.36377C66.7513 6.08394 66.308 5.91521 66.5741 5.60727C66.6365 6.08585 67.5041 6.01146 67.0666 6.37096C67.9714 6.30541 68.8614 6.11135 69.7089 5.7949C69.56 5.60628 69.3938 5.52286 69.4712 5.3567C69.5344 5.34478 69.5995 5.34646 69.662 5.36162C69.7245 5.37678 69.7829 5.40506 69.8332 5.44451C69.8834 5.48395 69.9243 5.53361 69.953 5.59004C69.9817 5.64648 69.9975 5.70833 69.9994 5.77133L69.9391 5.82479C71.3988 5.05108 73.4078 7.10474 74.5641 6.07005L74.4961 6.12364L75.7071 5.56765C76.2749 5.63689 75.381 5.94778 75.8072 6.22547C77.1087 5.38695 77.9022 6.28427 78.9753 5.72309C79.862 7.11346 81.9693 5.5421 83.1297 6.40334L83.0548 6.07485C83.3434 5.7403 83.4178 6.25241 83.6374 6.3237C83.5982 6.0658 83.3105 6.03312 83.487 5.84658C85.9705 5.37808 88.6465 6.22907 91.208 6.46746C92.1434 6.53807 91.7007 4.73188 92.8977 5.50258L92.5761 6.12994C94.4452 5.34942 96.4298 6.06579 98.2671 5.43193C98.1626 5.57606 98.1621 5.75967 97.9784 5.76273C98.3693 6.20587 99.4216 5.76494 99.4226 5.39771C99.7142 5.43407 99.4976 5.72995 99.677 5.91431C100.065 6.1739 100.65 5.32482 100.865 5.77089C100.901 5.84149 100.757 5.91882 100.685 5.95375C100.937 5.73222 101.876 5.99387 101.621 5.47727C102.319 5.71671 102.945 5.23041 103.502 5.5284C103.874 4.94516 104.693 5.79334 104.797 4.97101C104.759 5.81848 106.023 5.63632 106.456 5.23942C106.311 5.49663 106.843 5.50276 106.674 5.8578C107.171 5.84952 107.627 5.6808 107.539 5.24762C108.469 6.25508 109.384 4.41878 109.913 5.71394C111.283 5.27959 112.685 4.94934 114.106 4.72613C114.064 5.56991 112.626 4.82195 112.692 5.70515C113.957 5.35062 114.686 4.61905 115.945 4.81542C116.273 4.92987 115.761 5.19319 115.652 5.32989C116.917 4.97161 118.104 5.40525 119.228 4.94063C119.23 5.01929 119.105 5.10755 118.991 5.17314C119.213 5.14323 119.506 5.29571 119.48 4.9102L119.264 5.01497C118.909 4.45882 120.146 3.84995 120.183 3.55707C119.82 4.65724 121.298 3.83452 120.703 5.22333C120.8 5.17812 120.88 5.10481 120.932 5.01341C120.985 4.922 121.007 4.81695 120.996 4.7126C121.216 4.78764 121.284 4.94013 121.063 5.23233C121.86 5.02048 121.576 4.61302 122.3 4.62345C122.303 4.807 122.152 4.88072 122.075 5.09932C122.451 4.71836 122.809 4.37518 123.416 4.52994C123.38 4.64295 123.452 4.78789 123.272 4.78714C124.316 4.73229 125.057 3.82066 126.204 4.17252C125.863 4.98007 126.592 4.4396 126.654 5.13926L127.271 4.93041L127.023 4.5898C127.567 4.60697 128.048 4.10061 128.512 4.33271L128.107 4.61672L129.123 4.49114L128.548 4.22344C129.1 3.86577 128.493 3.3363 129.213 3.5379C129.069 3.60775 129.757 3.55133 130.036 3.9626C130.308 3.74076 130.583 3.50761 130.984 3.68453C131.084 3.91144 130.895 4.4579 130.963 4.60666C131.228 4.0252 132.231 4.4544 132.568 3.83053C132.472 4.01053 132.442 4.21734 132.483 4.41648L132.708 3.94436C132.959 4.09755 132.995 4.17189 132.951 4.4649C133.718 4.55705 132.72 3.57695 133.611 3.96304C133.539 4.00171 133.575 4.07231 133.427 4.14597C134.323 4.34839 135.167 3.85471 135.991 4.10329C136.23 4.8075 135.267 4.26897 135.542 4.86017C136.734 4.73916 138.015 4.03587 139.167 4.21904L138.951 4.1402C139.124 3.1481 139.806 4.64305 140.395 4.18361C140.251 4.25346 140.198 4.7302 140.238 4.62087C141.007 4.79168 141.857 4.39908 143.058 4.10181L142.905 4.3554C143.365 4.5913 144.129 4.50365 144.629 4.62647C144.782 4.37663 145.069 4.42055 144.898 4.0487C146.426 5.52209 147.866 3.30234 149.221 4.54628C149.057 4.54902 148.843 4.76242 148.957 4.76426L150.133 4.5536C150.048 4.12035 149.982 4.29006 149.739 3.94564C149.822 3.81635 149.936 3.70899 150.072 3.63293C150.207 3.55687 150.359 3.51443 150.515 3.5093C149.985 3.78417 150.509 4.2026 150.732 4.44995C150.695 4.31567 150.776 4.17192 150.759 4.03733C151.359 4.81796 150.88 3.16599 151.706 3.70306L151.656 3.92871C151.972 3.81854 152.265 3.54386 152.6 3.59826C152.731 4.10191 152.263 3.82493 152.228 4.23394C152.703 4.22604 153.184 3.3075 153.603 3.81388C153.398 3.94842 153.107 3.94577 152.903 4.08032C153.358 4.67602 153.417 4.52891 153.759 4.62812L153.728 4.62863L154.522 4.91144L154.324 4.74987C154.944 3.45807 155.534 4.53489 156.349 3.69697C155.556 4.48955 156.212 4.16388 156.138 4.72716C156.34 4.88867 156.646 5.07468 156.553 5.22985C156.928 4.78147 157.176 5.59419 157.723 4.94434C157.726 5.12789 158.126 4.97136 158.031 5.43008C158.522 5.2945 157.921 5.10965 157.967 4.88033C158.741 4.27167 159.723 5.68293 160.834 4.85509C161.781 4.52832 161.965 3.91823 162.848 3.63375C163.133 3.93626 162.588 4.29381 162.588 4.29381C162.775 4.41716 162.994 4.48686 163.219 4.49502C163.445 4.50319 163.668 4.4495 163.864 4.34002C163.771 4.49519 163.869 4.6322 163.992 4.83999C164.351 4.80404 164.247 4.18375 164.712 4.4533C164.628 4.71249 164.503 4.95728 164.342 5.17888C164.768 5.02191 165.195 4.69257 165.636 4.53909C165.745 4.85951 165.361 5.01579 165.2 5.21706C165.696 5.08891 166.478 4.96347 166.645 4.46608L166.335 4.27639C166.515 4.2734 166.416 4.71345 166.28 4.8019C165.851 5.18375 165.679 4.60956 165.661 4.4375L165.977 4.32733C165.689 3.24923 164.72 4.46441 164.094 4.38489L164.379 3.63075L163.717 4.25628C163.587 4.05236 163.506 3.6153 163.818 3.50519C163.378 3.10783 163.413 3.77048 163.049 3.33064C163.009 3.26385 163.028 3.22607 163.069 3.1954L162.626 3.41637C162.715 3.25752 162.566 2.86655 162.832 2.98577C162.058 2.51529 161.544 3.53554 161.266 2.93691L161.334 2.89081C160.232 3.12274 161.21 3.45867 160.376 4.10955L159.856 2.68309L159.736 3.25089C159.625 3.22652 159.402 3.17777 159.448 2.95219C159.018 3.33404 159.513 3.20214 159.26 3.56608C158.729 3.02784 157.759 3.77092 157.658 2.84334C157.451 3.27393 158.17 3.20952 157.581 3.4816C157.437 2.49853 156.907 3.63522 156.427 3.17482C156.594 2.67369 157.059 2.95073 156.572 2.48671C156.25 3.33514 155.607 2.28169 155.185 2.43485C155.152 3.11737 154.267 2.70118 153.563 2.91524C153.613 2.68585 152.247 2.51374 151.599 2.25474L151.62 2.13823C151.479 2.82254 150.81 2.68004 150.315 2.81193C150.301 2.66293 150.33 2.51305 150.398 2.37939C150.467 2.24574 150.573 2.1337 150.703 2.05607L150.24 2.06377C150.186 2.1676 150.107 2.25686 150.009 2.32379C149.912 2.39072 149.799 2.43329 149.681 2.44779L149.805 1.93612C149.193 1.94631 148.56 2.51515 147.773 2.16105C147.724 2.63773 148.379 3.50364 147.539 3.81364C147.511 3.55181 147.488 3.11005 147.712 3.00515C147.64 3.04007 147.451 3.21557 147.308 3.10555L147.648 2.67272C147.292 2.4763 147.456 3.05062 147.168 2.99172C147.161 2.61713 146.96 2.72165 147.004 2.42864C147.08 2.3974 147.256 2.58557 147.368 2.42259C147.195 2.39078 147.03 2.32308 146.886 2.22402C146.742 2.12496 146.62 1.99684 146.531 1.84824C146.554 2.05769 146.521 2.34676 146.284 2.38817C145.668 2.39843 146.081 1.94191 145.725 1.7455C145.573 2.00283 145.185 1.72826 145.164 2.28316C144.984 2.28615 144.957 2.02058 144.889 1.86808C144.568 2.10948 143.401 1.91908 143.752 2.50901L143.833 2.54887C143.833 2.54887 143.799 2.54945 143.78 2.57599C142.733 3.1105 141.623 2.2372 140.585 2.45306L140.583 2.30322C139.966 2.50458 139.21 2.4085 138.766 2.7981C138.648 2.76287 138.547 2.68626 138.483 2.58293C138.419 2.4796 138.396 2.35681 138.418 2.23807C137.942 2.36965 137.889 2.57288 137.209 2.2582C137.69 1.9392 137.051 1.96857 137.699 2.02523C137.087 1.8593 136.951 1.5618 136.287 2.04874C136.515 1.57655 135.832 1.44929 135.539 1.58905L135.967 1.93041C135.666 1.97741 135.358 1.9711 135.059 1.91179L135.224 1.28705C133.973 0.520983 132.95 2.56141 132.004 1.28818C131.668 1.72094 132.684 1.59911 132.402 2.1059C131.826 2.01807 131.236 1.11737 131.048 1.11674C130.257 0.755213 130.299 2.02101 129.479 1.77985C129.529 1.87255 129.558 1.97473 129.564 2.07935C129.569 2.18397 129.552 2.28851 129.512 2.38575C129.472 2.48299 129.411 2.57059 129.334 2.64251C129.256 2.71442 129.163 2.76893 129.062 2.80225C128.486 2.71442 128.355 1.86226 128.72 1.68384C128.861 1.68148 128.927 1.73659 128.921 1.81163C129.107 1.73359 129.354 1.63955 129.124 1.39608L129.048 1.61842C128.764 1.39083 127.968 1.40782 128.157 1.04497C127.72 1.25457 127.968 1.42281 128.292 1.52609C127.551 1.19744 127.143 1.50399 126.373 1.28823C126.494 1.41362 126.606 1.65907 126.487 1.66104C125.368 1.38365 125.994 2.08143 125.234 2.18027C124.806 1.8389 125.391 1.36829 124.627 1.65454C124.159 1.42251 124.528 1.06415 124.716 0.881166C124.02 1.31243 123.417 0.59928 123.018 0.534733L123.397 0.356051C123.215 0.439995 123.014 0.47565 122.813 0.459445L123.024 0.905576C122.809 0.826734 122.64 0.825791 122.637 0.638496C122.416 0.930688 122.807 1.38506 122.367 1.76711C122.083 1.53951 121.494 2.00645 121.395 1.40857C122.299 1.60712 121.296 0.814437 122.06 0.719287C121.971 0.767193 121.871 0.794643 121.769 0.799585C121.667 0.804527 121.565 0.786833 121.471 0.747827C121.439 0.68091 121.5 0.623703 121.56 0.58897C120.697 0.0637667 121.163 1.25881 120.271 1.24369C120.383 0.912072 120.06 0.613941 119.916 0.683788C120.276 0.6778 120.091 1.23919 119.758 1.49202C119.183 1.23556 119.134 1.68602 118.835 1.65353L119.178 1.77522C119.062 2.11064 118.777 2.06666 118.377 2.16325C118.342 1.90529 118.738 1.98489 118.598 1.87106C118.157 2.45544 117.591 1.2658 116.975 1.65827C116.687 1.43448 116.944 1.03302 116.692 0.879833C116 1.31478 115.938 0.431509 115.213 0.788299C115.424 1.23443 115.46 1.12516 114.948 1.5646L116.144 1.24118L115.39 1.89822C115.754 1.89217 116.151 1.61203 116.37 1.68706C115.994 2.06802 116.042 1.93983 116.217 2.31162C115.719 1.64545 115.237 2.70264 114.685 2.25844L114.695 1.15289C113.833 0.665142 113.175 1.72901 112.052 1.45918L112.411 1.64804C112.266 2.08886 111.724 1.7157 111.363 1.89406C111.395 1.51883 111.166 1.39149 111.009 1.15055C111.033 1.42368 110.193 1.13041 110.096 1.8702L109.597 1.38764C108.69 1.1929 108.575 2.44632 107.7 2.32599C107.957 1.92453 107.562 1.66507 108.138 1.3707C107.851 1.37548 107.589 1.30489 107.586 1.55974C107.391 1.3569 106.765 2.07926 106.499 1.74646C106.376 1.90964 106.341 2.29617 106.015 2.26787C105.994 2.20856 105.992 2.14429 106.011 2.08432C106.015 2.26787 105.507 2.33627 105.794 2.74367C104.892 1.60084 103.308 2.86 102.516 1.8802C101.871 2.02028 101.217 2.11879 100.558 2.17509C100.59 2.06589 100.555 1.99154 100.666 2.02716C99.8678 1.69572 100.196 3.0954 99.2894 2.72454C98.8192 2.13284 99.7619 2.39443 99.4707 2.17071C99.3298 0.955268 98.3907 2.35356 97.773 1.64816L97.9171 1.57456C97.4499 1.14768 96.8116 2.03512 96.0446 1.9617C96.0634 1.90173 96.0622 1.83746 96.0412 1.77815C95.5359 2.40108 94.5638 2.62709 93.8399 2.81151C94.057 2.33202 94.1644 2.55505 94.0175 2.05914C93.6935 2.13573 94.1274 2.83295 93.4793 2.98238C93.2641 2.72741 92.7893 2.50675 92.7147 1.9909L93.3306 1.96566C93.0008 1.30418 92.5351 2.00513 92.2115 1.89436L92.2445 1.60529C91.3048 1.71835 91.3068 2.45274 90.2956 2.42086L90.4068 2.64008C89.8695 3.39844 89.9325 2.23955 89.3952 2.79182L89.2092 2.0455C88.613 2.41109 87.9764 2.70953 87.3115 2.93517C87.6842 2.3819 88.4443 2.08447 88.8938 1.75099C88.5341 1.75698 87.6664 1.82763 87.4856 2.19785C87.6297 2.12426 87.81 1.93765 87.9575 2.04761C87.7702 2.32662 87.5138 2.55462 87.2121 2.71033C86.9104 2.86605 86.5732 2.94443 86.232 2.93815C86.3244 1.50149 84.3465 2.61356 83.7944 1.51738C82.5338 2.08168 81.2611 1.35721 79.7781 1.48306C80.3345 2.59791 79.3464 1.52772 79.4668 2.66856C79.1238 2.75296 78.9933 2.7364 78.9616 2.67697L77.8931 2.02029C77.6345 1.69486 78.2137 1.76016 78.1746 1.50601C77.4077 1.43634 77.8443 1.02814 77.3336 0.736876C77.4483 1.14339 77.088 1.32925 76.649 1.18668L77.2823 1.69323C76.2412 2.33256 76.3387 0.757184 75.2899 1.38916L75.616 1.00902C75.0727 1.2354 73.5954 1.04266 73.0884 1.99535C72.9865 1.8659 72.8507 1.55716 73.0787 1.46718C71.7678 1.37284 70.2006 2.54178 69.165 2.01195L69.2555 1.72942C69.0159 1.81584 68.8481 2.26828 68.5331 1.99624C68.5309 1.88012 68.6236 1.7137 68.5276 1.70031C68.4031 1.79981 67.8977 2.2129 67.5696 2.06099L67.8316 1.73438C66.5432 1.4111 65.9022 2.56837 64.8421 2.79584C64.8271 1.97175 63.8006 1.73403 63.2894 1.62264L63.2873 1.50652C61.7974 1.46387 60.7906 2.29748 59.4308 2.66859C58.5384 1.80664 56.5244 2.40972 55.1267 1.9646C55.3436 2.10338 55.1384 2.60515 54.884 2.71805C54.5519 2.56245 54.0184 3.32449 54.0352 2.56731L54.15 2.5654C53.8761 1.82055 53.222 2.05626 52.7053 2.06111L52.666 3.05473C51.2514 1.68438 49.1416 3.7504 48.3416 2.49721C48.0287 2.76097 47.6232 2.77521 47.3141 3.0389L47.3044 2.50699C46.4824 2.38525 45.6455 2.39918 44.8284 2.5482L45.0359 2.17004C44.4044 2.18055 44.3218 3.7332 43.741 3.79158L43.5277 3.012C42.4263 3.07155 41.2779 2.44243 40.2317 3.21675C40.2295 3.10063 40.2636 2.86774 40.4391 2.83859C39.9225 2.84719 38.4101 2.41148 38.6594 3.48648C38.6044 2.7792 37.5108 3.47562 36.9467 3.8185L37.0096 3.27788C36.5476 3.97128 36.5395 4.15502 35.8545 4.37625C35.685 4.31912 35.6824 3.96694 35.9104 4.0868C35.3433 3.84519 35.5103 4.6068 34.8245 4.36342L35.0555 4.01859C34.4849 4.00561 34.5418 4.18452 34.2505 4.58656C33.9064 4.81711 33.1659 4.51468 33.054 4.04816C32.9942 4.33768 32.7068 4.73965 32.3639 4.62171C32.347 4.55852 32.3489 4.4919 32.3695 4.42978C32.39 4.36766 32.4284 4.31265 32.48 4.2713C31.5098 3.96895 31.1069 4.96113 30.4245 4.48912C30.4203 4.37506 30.3734 4.26647 30.2926 4.18406C30.7275 4.13469 31.1669 4.13492 31.6018 4.18475C31.593 3.70153 30.9605 3.65585 31.4034 2.96277C30.9357 3.34526 30.1473 4.19023 29.5428 4.00169C29.5116 3.94914 29.4874 3.89287 29.4708 3.83428L29.5119 3.77739C29.4446 3.76106 29.3742 3.76204 29.3075 3.78022C29.2407 3.7984 29.1799 3.83317 29.131 3.88115C28.9746 3.80859 28.8043 3.76928 28.6313 3.76582C28.536 3.37022 27.9199 3.59405 27.6136 3.59166C27.673 4.11525 27.2699 4.05452 27.6718 4.4675C27.6213 4.43086 27.7241 4.39918 27.9226 4.3659C27.9696 4.35443 28.0136 4.33325 28.0516 4.3038L28.0333 4.35281C28.2319 4.32328 28.4917 4.29647 28.7974 4.2689C28.5729 4.55367 28.3361 4.78992 27.9828 4.51852C27.8476 4.86925 27.6971 5.22398 27.616 5.39394C27.1552 4.68593 26.3296 4.33621 26.1874 3.89268C25.279 4.24503 24.0152 4.21736 23.4981 5.24141C23.2404 5.38434 23.1755 4.977 23.0656 4.82894C23.2129 4.71783 23.3928 4.72233 23.4667 4.57496C22.959 4.8607 21.9123 4.76946 21.8332 5.46772C21.1468 5.19437 22.1618 4.80652 21.2577 4.97894L21.3685 4.75977C19.4978 3.77921 18.5715 6.71357 16.4848 5.4331C16.6279 5.51315 16.6974 5.54572 16.7339 5.66127C14.4285 5.19379 12.103 6.55146 9.79489 5.72806C9.14138 5.57782 9.10737 6.02053 8.74657 6.38625L8.56415 5.83098L7.94915 6.53068C7.04809 7.07775 6.21488 5.26682 5.09223 6.25599L5.27512 6.62764C4.84186 6.58989 3.93744 6.95342 3.97527 6.51064C3.93831 6.58245 3.86787 6.91711 3.68451 6.72906L3.64855 6.43739L2.62933 7.01267C1.79581 6.85792 2.66131 5.83182 1.45988 5.86306C1.02998 6.00885 0.271413 6.81211 0.454842 7.0039C0.578663 7.00941 0.696741 7.05677 0.788965 7.13791C0.881189 7.21904 0.941856 7.32894 0.960633 7.44887L0.57734 7.63136C0.574181 8.50447 0.338268 9.41893 1.38543 9.95232L2.0102 9.36862L2.26642 9.77278L1.70149 9.86087C2.06424 10.2295 2.2449 9.85183 2.46247 9.60839C2.51427 9.78434 2.63006 9.93569 2.78799 10.0339L3.39962 9.15064C3.50912 9.48606 3.15208 9.84797 3.61815 10.0051C3.90541 9.59562 3.25619 9.2617 3.76002 8.97228C4.12278 9.34095 4.05228 9.67186 4.41307 9.30614C4.44777 9.39015 4.45239 9.48316 4.42617 9.57001C4.39996 9.65686 4.34445 9.73244 4.26871 9.78442C4.59254 9.4905 5.16876 9.60082 5.3132 9.12629C5.70446 9.58815 6.4577 8.91239 6.49581 9.73985C6.69081 9.39737 6.9971 9.12852 7.36611 8.97595C6.8643 10.0035 8.5601 8.95608 8.48759 10.014C8.85361 9.09733 10.0095 9.50525 10.723 8.95755C10.6861 9.0331 10.616 9.1804 10.5426 9.14041C10.9759 9.18191 11.1184 9.43808 11.4083 9.59063C11.3946 8.84145 12.0609 8.64301 12.3852 8.16548C12.9602 8.83787 12.1295 9.04655 12.3446 9.71368C12.2764 9.12279 13.2131 9.06223 12.9976 8.5787C13.4299 8.98743 13.357 8.76757 13.609 9.35915C13.6114 8.44109 13.9885 9.18047 14.2612 8.59889C14.8736 9.01211 14.4719 9.44596 15.09 9.12466C15.4089 9.39664 14.8643 9.76167 14.8643 9.76167ZM29.9155 7.2142L29.6064 7.26431L29.9155 7.2142ZM31.1733 7.12207C30.9883 7.11403 30.8029 7.11711 30.6184 7.1313C30.5653 6.95233 30.6115 6.75671 30.7301 6.75474C30.6754 6.90178 30.9756 6.99046 31.1733 7.12207ZM28.2502 3.65225C28.4476 3.56279 28.5219 3.64773 28.5586 3.77077C28.4393 3.78806 28.3219 3.81636 28.208 3.8553C28.208 3.8553 28.2087 3.8965 28.2091 3.91898C28.2085 3.8285 28.2223 3.7385 28.2502 3.65225Z",fill:"#6384DD"})})),y=n(23869),k=n(12447),N=n(19671),L=n(41664),Z=n.n(L);const S=[{tier:"public",badgeColor:"green",badgeName:"Free Individual",features:[{text:"New notebooks are public with live updates (any existing private notebooks will stay private but read-only)"},{text:"Bring in data via file uploads and fork, suggest, and merge notebooks"},{text:"Invite up to four collaborators to edit public notebooks"}]},{tier:"pro",badgeColor:"purple",badgeName:"Pro Individual",monthlyPrice:"$15",features:[{text:"Create public or private notebooks"},{text:"Use private data sources like databases and secrets"},{text:"Invite up to four collaborators to edit private notebooks"}],footerText:(0,a.jsx)("div",{className:"br2 purple bg-observable-light-purple pa2 mt3 tc fw6",children:"Free trial active until Dec. 1"})}],M=e=>{let{description:t,badgeColor:n,badgeName:s,monthlyPrice:r,features:i,footerText:l}=e;return(0,a.jsxs)("div",{className:"flex flex-column b--near-white bg-white dark-gray w-50 pa3 br3",style:{width:"22em",boxShadow:"0px 5px 12px rgba(0,0,0,0.1)"},children:[(0,a.jsxs)("div",{className:"flex justify-between items-top pb3",children:[(0,a.jsx)("div",{children:(0,a.jsx)(j.C,{className:"f5 fw7 ph2 pv1",isFilled:!0,label:s,type:n})}),r?(0,a.jsxs)("div",{className:"flex flex-column items-end",children:[(0,a.jsx)("div",{className:"f2 fw5 serif mt1",style:{lineHeight:"24px"},children:r}),(0,a.jsx)("div",{className:"fw4 gray mt1",children:"per month"})]}):(0,a.jsx)("div",{style:{height:"48px",visibility:"hidden"}})]}),t&&(0,a.jsx)("div",{className:"mt3",children:t}),i.map(((e,t)=>(0,a.jsx)("div",{className:"mv1",children:e.text},t))),l&&(0,a.jsx)("div",{children:l})]})},q=(0,d.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{let{onDismiss:t,dispatch:n,currentUser:l}=e;const o=(0,k.GS)(k.ro);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.Vq,{"aria-label":"New user tier",onDismiss:t,style:{maxWidth:"50em"},children:[(0,a.jsxs)("div",{className:"pv3 ph4 flex bg-manila br2",children:[(0,a.jsxs)("div",{className:"flex flex-column f6",children:[(0,a.jsxs)("div",{className:"f2 serif",children:["Hello, ",(0,a.jsx)("span",{className:"fw7",children:"Pro"})]}),(0,a.jsx)(w,{style:{marginTop:"-6px"}})]}),(0,a.jsxs)("div",{className:"pt2 ml3 dark-gray",children:["We\u2019re introducing new tiers for individual workspaces:",(0,a.jsx)("span",{className:"fw6",children:" Free"})," and"," ",(0,a.jsx)("span",{className:"fw6",children:"Pro"}),". As a thank-you for being an early part of our community, we\u2019ve activated a free trial of Pro until"," ",(0,a.jsx)("span",{className:"fw6",children:"December 1st, 2022."})]})]}),(0,a.jsx)("div",{className:"br2 br--bottom bg-manila",children:(0,a.jsxs)("div",{className:"pv3 ph4 flex flex-column",style:{gap:"16px"},children:[(0,a.jsx)("div",{className:"flex ".concat(o?"flex-column items-center":"flex-row items-top justify-between"),style:{gap:"16px"},children:S.map(((e,t)=>(0,c.createElement)(M,(0,C.Z)((0,s.Z)({},e),{key:t}))))}),(0,a.jsxs)("div",{className:"f7 dark-gray",children:["At the end of your trial, you will have the option to continue as a Pro user or convert to a Free user. These new tiers are for your individual workspace and will not affect any of your teams. You can manage tiers and payment details in your"," ",(0,a.jsx)(Z(),{href:"/settings/billing",children:(0,a.jsx)("a",{className:"pa0 blue bn pointer bg-transparent",children:"Account Settings."})})]}),(0,a.jsxs)("div",{className:"flex ".concat(o?"flex-column":"flex-row items-center justify-between"),style:{gap:"16px"},children:[(0,a.jsx)("div",{className:"flex f7 dark-gray flex-column",style:{gap:"16px"},children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"fw6",children:"Questions?"})," Contact"," ",(0,a.jsx)(Z(),{href:"mailto:support@observablehq.com",children:(0,a.jsx)("a",{rel:"noopener noreferrer",target:"_blank",className:"no-underline blue",children:"support@observablehq"})})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(i.KM,{icon:y.Z,text:"Got\xa0it",onClick:function(){(0,N.MR)((0,N.a$)({type:"user:manage:ackMigration",eventVersion:1,currentUser:l})),t(),n({type:"updateCurrentUserSetting",key:"confirm_migration",value:null})},autoFocus:!0})})]})]})})]})})}));var _=n(65988),T=n.n(_),F=n(92876),U=n(75713),P=n(99414),R=n(62806),D=n(61142),A=n(602),B=n(88725),I=n(90627),V=n(31536);var E=n(82018),z=n(66421),O=n(24018),H=n(11163),W=n.n(H),Y=n(17764),G=n(49516),K=n(42568);const $=e=>{let{addToCollection:t,setAddToCollection:n,ownerCollections:s,selectedOwner:r}=e;return(0,a.jsx)("div",{className:"ph3 pb3",children:0===(null===s||void 0===s?void 0:s.length)?(0,a.jsx)(i.aX,{className:"w-100 flex justify-between",text:"Add a collection",onClick:()=>W().push("".concat((0,o.$2)(r),"&new=1"))}):(0,a.jsxs)(K.v2,{children:[(0,a.jsx)(i.aX,{className:"w-100 flex justify-between",loading:!s,text:t?t.title:"Select a collection\u2026",iconOnRight:!0,icon:Y.Z,disabled:0===(null===s||void 0===s?void 0:s.length),asMenuButton:!0}),(0,a.jsxs)(K.qy,{style:{maxHeight:150,overflowY:"auto",marginLeft:0},children:[t&&(0,a.jsx)(K.sN,{onSelect:()=>n(null),children:(0,a.jsx)("span",{className:"moon-gray",children:"No collection"})},"none"),null===s||void 0===s?void 0:s.map((e=>(0,a.jsxs)(K.sN,{onSelect:()=>n(e),children:[e.title,e.id===(null===t||void 0===t?void 0:t.id)&&(0,a.jsx)(G.Z,{className:"ml1"})]},e.id)))]})]})})};var X=n(90771),J=n(63231),Q=n(70915),ee=n(33494);const te=e=>{let{title:t,listingId:n,notebookDescription:s,thumbnail:r,onChange:i,isSelected:l,onSubmit:o,setOperationPending:c}=e;const d=r?{background:"url(".concat((0,B.Nl)(r),")"),backgroundSize:"100%",top:-13}:{background:"var(--checkerboard)",top:-13};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{marginLeft:2},className:"jsx-59ede85f7634dcda mv3 mb4-l",children:(0,a.jsxs)("label",{className:"jsx-59ede85f7634dcda relative",children:[(0,a.jsxs)("div",{style:d,onDoubleClick:e=>{i(),c(),o({newTab:e.metaKey||e.ctrlKey})},"aria-label":"notebook-listing-button",className:"jsx-59ede85f7634dcda "+"relative br2 ba w-100 pointer ph0 pv0 bg-transparent template-thumb ".concat(l?"selected b--washed-blue":"b--silver"),children:[(0,a.jsx)("input",{id:n,type:"radio",name:"listings",checked:l,onFocus:ee.Gf,onClick:ee.Jc,onChange:i,className:"jsx-59ede85f7634dcda absolute top-0 h-100 o-0"}),l&&(0,a.jsx)("div",{style:{left:"var(--spacing-small)",bottom:"var(--spacing-small)",borderRadius:"50%"},className:"jsx-59ede85f7634dcda w1 h1 bg-blue absolute br4 b--dark-blue",children:(0,a.jsx)(y.Z,{className:"white"})})]}),(0,a.jsx)("div",{className:"jsx-59ede85f7634dcda f6 fw6 near-black",children:t}),(0,a.jsx)("div",{className:"jsx-59ede85f7634dcda template-description mid-gray f7 mt2",children:s})]})}),(0,a.jsx)(T(),{id:"59ede85f7634dcda",children:".template-description{max-height:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.template-thumb{padding-top:62.5%}.template-thumb:hover{-webkit-box-shadow:var(--box-shadow-2);-moz-box-shadow:var(--box-shadow-2);box-shadow:var(--box-shadow-2);-webkit-transform:translateY(-1px);-moz-transform:translateY(-1px);-ms-transform:translateY(-1px);-o-transform:translateY(-1px);transform:translateY(-1px);-webkit-transition:box-shadow.15s ease,-webkit-transform.15s ease;-moz-transition:box-shadow.15s ease,-moz-transform.15s ease;-o-transition:box-shadow.15s ease,-o-transform.15s ease;transition:box-shadow.15s ease,-webkit-transform.15s ease;transition:box-shadow.15s ease,-moz-transform.15s ease;transition:box-shadow.15s ease,-o-transform.15s ease;transition:box-shadow.15s ease,transform.15s ease;will-change:transform}.selected:focus-within{border-color:var(--observable-blue-light)}"})]})},ne=e=>{let{currentUser:t,collection:n,selectedTemplate:r,setSelectedTemplate:i,selectedCollection:l,setSelectedCollection:o,setOperationPending:c,isLast:d,onSubmit:u}=e;const{title:m,id:b,listings:p}=n;return(0,a.jsxs)("div",{className:"jsx-3e764684d3a6cdf5 "+"collections-section ".concat(d?"bn":"bb b--light-gray"),children:[(0,a.jsxs)("div",{className:"jsx-3e764684d3a6cdf5 flex justify-between",children:[(0,a.jsx)(h.pe,{title:m}),(0,z.D7)(t,n)&&(0,a.jsx)(Z(),{href:(0,Q.WG)(n),children:(0,a.jsxs)("a",{className:"jsx-3e764684d3a6cdf5 mt2 no-underline gray hover-blue f6 flex items-center",children:[(0,a.jsx)(J.Z,{className:"mr1"}),"Edit"]})})]}),(0,a.jsx)("div",{className:"jsx-3e764684d3a6cdf5 listing-grid",children:p.map((e=>(0,a.jsx)(te,(0,C.Z)((0,s.Z)({setOperationPending:()=>c(!0)},e),{isSelected:e.id===r&&m===l,onChange:()=>{i(e.id),o(m)},onSubmit:u,listingId:"".concat(b,"-").concat(e.id)}),"".concat(b,"-").concat(e.id))))}),(0,a.jsx)(T(),{id:"3e764684d3a6cdf5",children:".listing-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));grid-column-gap:1.1em}@media(max-width:30em){.listing-grid{grid-template-columns:repeat(2,1fr)}}.collections-section{min-height:275px}@media(max-width:30em){.collections-section{min-height:210px}}"})]})},se="@observablehq/basic-templates",ae={id:"empty"},re={id:null,title:"Blank",notebookDescription:"Start from scratch with an empty notebook.",thumbnail:"f5beb5d202ca6efe53b577c2049fba15ea046cb43728ae00950a15682d3473dc",saveVersion:0,owner:ae};function ie(e){let{login:t}=e;return"/collection/@".concat(t,"/").concat("templates").concat("observablehq"===t?"-internal":"")}const le=(0,d.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{const{onDismiss:t,dispatch:n,presetTeam:l,presetCollectionId:d,dismissible:u=!0}=e,m=e.currentUser,b=m.teams.filter(o.cX),{0:p,1:x}=(0,c.useState)(re.id),{0:f,1:v}=(0,c.useState)("Basic Templates"),g=[m,...b],j=g.filter((e=>!(0,z.wW)(m,e))),{0:w,1:y}=(0,c.useState)(g[0]),{0:L,1:Z}=(0,c.useState)(null);(0,c.useEffect)((()=>{l&&(0,z.wW)(m,l)?y(l):(0,z.wW)(m,m)?y(m):y(m.teams.find((e=>(0,z.wW)(m,e)))||m)}),[l,m,y]),(0,c.useEffect)((()=>{Z(null)}),[w,Z]);const S=1===g.length&&"pro"!==w.tier&&"public"!==w.tier;let M;try{[M]=(0,A.h_)(S?null:"/collections/@".concat(w.login))}catch(ue){}(0,c.useEffect)((()=>{if(M&&d){const e=M.find((e=>e.id===d));e&&Z(e)}}),[d,M,Z]);const q=S?4:3;let _,H,Y;try{[_]=(0,A.h_)("/collection/".concat(se,"/public?with_listings=true&depth=1"))}catch(he){(0,F.uT)("/collection/".concat(se," failed to load."))}try{[H]=(0,A.h_)("/collection/".concat(O.O5,"/public?with_listings=true&depth=2"))}catch(me){(0,F.uT)("/collection/".concat(O.O5," failed to load."))}let G,K=!1;try{[Y,K]=(0,A.h_)((0,z.LN)(w)?ie(w):null)}catch(be){K=!1}let J=!1;try{[G,J]=(0,A.h_)((0,z.LN)(w)?"".concat(ie(w),"?with_listings=true&depth=2"):null)}catch(pe){J=!1}const Q=(0,c.useMemo)((()=>{const e=[re];return _&&e.push(...(0,R.x)((0,O.Bz)(_))),H&&_&&!K&&!J?function(e,t){const n=[{title:"Basic Templates",id:"basic",slug:"basic-templates",type:"public",owner:ae,listings:e}];if(t){const e=t.map((e=>{const t=(0,R.x)((0,O.Bz)(e)),{title:n,id:s,slug:a,type:r,owner:i}=e;return{title:n,id:s,slug:a,type:r,owner:i,listings:t}})).filter((e=>{let{listings:t}=e;return t.length>0}));return[...n,...e]}return n}(e,[...Y?[(0,C.Z)((0,s.Z)({},Y),{title:"".concat((0,o.RX)(w)," Templates")})]:[],...G?(0,O.o0)(G):[],...(0,O.o0)(H)]):function(e,t){function n(e,t){return Array.from({length:t}).map(((t,n)=>({id:"".concat(e,"-filler-").concat(n),title:"",notebookDescription:"",saveVersion:0,thumbnail:null,owner:ae})))}return[{title:"Basic Templates",id:"basic",slug:"basic-templates",owner:ae,type:"public",listings:[...e,...n("basic",t-e.length)]},{title:"-",id:"second",slug:"",owner:ae,type:"public",listings:n("second",t)}]}(e,q)}),[q,w,_,H,K,Y,J,G]);(0,c.useEffect)((()=>{Q.map((e=>e.listings)).flat().filter((e=>e.id===p)).length||(x(re.id),v("Basic Templates"))}),[p,x,v,Q]);const{0:ee,1:te}=(0,c.useState)(!1),le=u?t:()=>W().push((0,o.GN)(w));async function oe(e){let{trigger:t="click",newTab:a=!1}=e;const r=Q.map((e=>e.listings)).flat().filter((e=>e.id===p)),{id:i,saveVersion:l,title:o,owner:c}=r[0],d="team"===w.type?D.uC[ce]:null;let u;function h(e){a&&u?(e&&(u.location=e),te(!1)):W().push("/[at]/[...specifiers]",e)}if(a&&(u=window.open()),null===i){const e=await async function(e,t){let{live:n,teamId:a,teamRole:r,collectionId:i}=t;const l=[(0,s.Z)({id:0},V.Ev.defaultNode)],o={model:{title:"Untitled",license:null,nodes:l,copyright:"",events:[]}},{model:{title:c,license:d,copyright:u}}=o,h=(0,s.Z)({version:B.Lr,title:c,license:d,live:n,copyright:u,nodes:l,team:a,edits:[{id:0,value:"# Untitled"}]},r?{team_role:r}:void 0,i?{collection_id:i}:void 0);try{return await(0,A.Fv)("/document/new",h)}catch(he){return void(0,I.S)({dispatch:e,message:"Oops, notebook creation failed. Try again?",key:"create",error:he})}}(n,(0,C.Z)((0,s.Z)({},"team"===w.type?{teamId:w.id}:void 0),{teamRole:null!==d&&void 0!==d?d:void 0,collectionId:null===L||void 0===L?void 0:L.id,live:"public"===ce}));e&&((0,N.MR)((0,N.ym)({type:"notebook:manage:create",data:{},eventVersion:5,notebook:e,currentUser:m})),ga("send","event","Notebook","Create"),h((0,B.Bi)(e)))}else{const e={id:i,title:o||"",saveVersion:l},t=await(0,E.R)((0,C.Z)((0,s.Z)({notebook:e,currentUser:m,dispatch:n,trigger:"click",source:"newNotebookModal"},"team"===w.type?{teamId:w.id}:void 0),{showToast:!1,teamRole:d,live:"public"===ce,collectionId:null===L||void 0===L?void 0:L.id}));t&&h("/d/".concat(t.id))}(0,N.MR)((0,N.a$)({type:"newNotebookModalCreateRequested",data:{trigger:t,parentNotebookId:i,type:o||"Untitled",action:null===i?"create":"fork",custom:c.id!==ae.id&&"observablehq"!==c.login},eventVersion:1,currentUser:m}))}const{0:ce,1:de}=(0,c.useState)("private");return(0,a.jsxs)(r.Vq,{onDismiss:le,className:"notebook-modal","aria-label":"New notebook",children:[(0,a.jsxs)(U.l,{className:"relative",onSubmit:e=>{e.preventDefault(),oe({})},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),te(!0),oe({newTab:e.metaKey||e.ctrlKey,trigger:"keypress"}))},children:[(0,a.jsx)(h.xB,{title:"New notebook",icon:P.Z,onDismiss:le}),(0,a.jsxs)("div",{style:{background:"#fbfbfb"},className:"jsx-86af4d9d9276c6d8 "+T().dynamic([["b196a84e1241b029",[k.hs]]])+" middle-max flex-l db justify-between bt bb b--silver",children:[!S&&(0,a.jsxs)("div",{className:"jsx-86af4d9d9276c6d8 "+T().dynamic([["b196a84e1241b029",[k.hs]]])+" w-25-l w-100 br-l bb-0-l bb b--silver",children:[(0,a.jsx)(h.pe,{className:"mt3 ph3 pb2",title:"Workspace"}),(0,a.jsx)("div",{className:"jsx-86af4d9d9276c6d8 "+T().dynamic([["b196a84e1241b029",[k.hs]]])+" owner-panel flex flex-column flex-grow-1 overflow-y-auto overflow-x-hidden",children:(0,a.jsx)(X.a,{owners:g,disabledOwners:j,disabledReason:"Unable to create new notebooks here.",selectedOwner:w,setSelectedOwner:y,hasHighlightBackground:!0})}),!("individual"===w.type&&"basic"===w.tier)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.pe,{className:"mt3 ph3 pt3 pb2 bt b--silver",title:D.qC}),(0,a.jsx)("div",{className:"jsx-86af4d9d9276c6d8 "+T().dynamic([["b196a84e1241b029",[k.hs]]])+" ph3 flex flex-column flex-grow-1",children:(0,a.jsx)(D.YI,{currentUser:m,selectedOwner:w,visibility:ce,setVisibility:de,showProBadge:!0,handleUpsellDismiss:()=>{var e,t;n({type:"showModal",modal:"newNotebook",trigger:"click",source:"changeTierDismiss",modalProps:{dismissible:u,presetCollectionId:null!==(e=null===L||void 0===L?void 0:L.id)&&void 0!==e?e:null,presetTeam:null!==(t=(0,o.RC)(m,w.login))&&void 0!==t?t:void 0}})},nextPath:"".concat(l?"/team/@".concat(l.login,"/new"):"/new").concat(d?"?collection=".concat(d):"")})})]}),(0,a.jsx)(h.pe,{className:"mt3 ph3 pt3 pb2 bt b--silver",title:"Add to collection"}),(0,a.jsx)($,{ownerCollections:M,selectedOwner:w,addToCollection:L,setAddToCollection:Z})]}),(0,a.jsx)("div",{className:"jsx-86af4d9d9276c6d8 "+T().dynamic([["b196a84e1241b029",[k.hs]]])+" templates-body ph4-l ph3 flex-grow-1 overflow-y-scroll",children:Q.map(((e,t)=>(0,a.jsx)(ne,{currentUser:m,collection:e,selectedTemplate:p,selectedCollection:f,setOperationPending:te,setSelectedTemplate:x,setSelectedCollection:v,onSubmit:oe,isLast:t===Q.length-1},e.id)))})]}),(0,a.jsx)(h.mz,{children:(0,a.jsxs)(i.CQ,{children:[(0,a.jsx)(i.kq,{text:"Cancel",type:"reset",onClick:le}),(0,a.jsx)(i.KM,{type:"submit",onClick:e=>{e.preventDefault(),te(!0),oe({newTab:e.metaKey||e.ctrlKey})},loading:ee,text:"Create notebook"})]})})]}),(0,a.jsx)(T(),{id:"86af4d9d9276c6d8",children:".notebook-modal{width:90vw;max-width:var(--max-width-page);height:90vh}@media screen and (min-width:30em){[data-reach-dialog-content]{margin:5vh auto}}@media screen and (max-width:30em){.notebook-modal{width:100vw}}"}),(0,a.jsx)(T(),{id:"b196a84e1241b029",dynamic:[k.hs],children:".middle-max.__jsx-style-dynamic-selector{overflow-y:scroll}@media screen and (max-width:30em){.middle-max.__jsx-style-dynamic-selector{height:-webkit-calc(100vh - 132px);height:-moz-calc(100vh - 132px);height:calc(100vh - 132px);overflow-y:scroll}}@media screen and (min-width:30em)and (max-width:60em){.middle-max.__jsx-style-dynamic-selector{height:-webkit-calc(90vh - 132px);height:-moz-calc(90vh - 132px);height:calc(90vh - 132px);overflow-y:scroll}.owner-panel.__jsx-style-dynamic-selector{max-height:180px;overflow-y:scroll}}@media ".concat(k.hs,"{.middle-max.__jsx-style-dynamic-selector{height:-webkit-calc(90vh - 132px);height:-moz-calc(90vh - 132px);height:calc(90vh - 132px)}}")})]})}));var oe=n(10099),ce=n(15612),de=n(17905),ue=n(22027),he=n(60138),me=n(86320),be=n(38106),pe=n(7131),xe=n(44754),fe=n(81816);const ve=(0,d.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),null)((e=>{let{currentUser:t,onDismiss:n,query:s=null}=e;const o=(0,c.useRef)(null),d=(0,k.GS)(k.ro),[u=[]]=(0,A.h_)(t&&"/user/continue-editing?unified=true"),[h,m,b]=(0,xe.G)(s,500),{0:p,1:x}=(0,c.useState)(!1),f=null===b||b.length<2?null:p&&t?"@".concat(t.login," ").concat(b):b,[v,g]=(0,A.h_)(f&&"/documents/search?".concat((0,fe.P)({query:f,sort:"relevance",direction:"desc",page:1})));(0,c.useEffect)((()=>{b&&(0,N.MR)((0,N.a$)({type:"search:searchBox",data:{query:b},eventVersion:1,currentUser:t}))}),[t,b]);const C=(0,H.useRouter)();let j=[];b&&!p&&(j=(0,be.O)(b));const w=(0,R.x)(null===f?u.filter((e=>!C.asPath.startsWith((0,B.Bi)(e)))):(null===v||void 0===v?void 0:v.results)||[]).filter((e=>!j.find((t=>t.url===(0,B.Bi)(e)))));function y(e){var t;document.activeElement instanceof HTMLElement&&document.activeElement.blur(),"Escape"===(null===(t=e)||void 0===t?void 0:t.key)&&h||n&&n(e)}function L(e,n){if(f){const s=w.findIndex((t=>t.id===e));(0,N.MR)((0,N.a$)({type:"search:resultSelected",data:{query:f,resultId:e,rank:s+1,page:0,source:"suggestion",trigger:n},eventVersion:2,currentUser:t}))}}function S(e,n,s){f&&(0,N.MR)((0,N.a$)({type:"search:curatedResultSelected",data:{query:f,resultId:e,source:"suggestion",trigger:n,resultTitle:s},eventVersion:1,currentUser:t}))}const M=(0,pe.a)(o);function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keypress";const n=e.startsWith("curated-")?j.find((t=>t.id===e)):w.find((t=>t.id===e));n&&("curated_result"!==n.type?L(e,t):S(e,t,n.title),C.push("curated_result"===n.type?n.url:(0,B.Bi)(n)),y())}function _(e,t){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?(e.stopPropagation(),L(t,"click")):(e.preventDefault(),q(t,"click"))}return(0,a.jsxs)(r.Vq,{"aria-label":"Search",style:{padding:0},onDismiss:y,children:[(0,a.jsxs)(ce.hQ,{className:"flex flex-column overflow-hidden",style:{maxHeight:d?"100vh":"75vh"},onSelect:q,openOnFocus:!0,children:[(0,a.jsxs)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa2 relative flex items-center",children:[(0,a.jsx)(he.Z,{className:"absolute top pa2 gray"}),(0,a.jsx)(ce.gA,{autocomplete:!1,spellCheck:!1,onChange:e=>m(e.target.value),onKeyDown:M,onKeyPress:function(e){"Enter"===e.key&&h&&h.length>=2&&(C.push({pathname:"/search",query:{query:h,onlyOwner:p}}),y(e))},maxLength:256,className:"w-100 border-box",type:"search",placeholder:"Search e.g. bar chart @mbostock",value:h||""}),(0,a.jsx)(i.sn,{onClick:n,text:"Cancel"})]}),(0,a.jsx)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 gray fw5 f7 bt b--silver",children:null===f&&w.length>0?"\u2026or jump to a recent notebook":(0,a.jsxs)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" flex justify-between nowrap",children:[(0,a.jsxs)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" dark-gray flex",children:[(0,a.jsx)(l.E,{label:"All Observable",className:"inline-flex mr3",checked:!p,onChange:()=>x(!1)}),(0,a.jsx)(l.E,{label:"Only your notebooks",className:"inline-flex mr3",checked:p,onChange:()=>x(!0),disabled:!t})]}),(0,a.jsx)(Z(),{href:"/@observablehq/searching-on-observable",children:(0,a.jsx)("a",{onClick:n,className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" blue",children:"Search tips"})})]})}),j.length+w.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ce.Gk,{ref:o,className:"overflow-y-scroll bt b--silver near-black",children:[(0,a.jsx)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" "+((j.length>0?"pv2":"pv1")||""),children:j.map(((e,t)=>(0,a.jsx)(ce.O2,{index:t,value:e.id,className:"ph3 curated",children:(0,a.jsx)("a",{href:e.url,onClick:t=>_(t,e.id),className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" no-underline",children:(0,a.jsx)(me.H1,{result:e})})},e.id)))}),w.map(((e,t)=>(0,a.jsx)(ce.O2,{index:j.length+t,value:e.id,className:"ph3",children:(0,a.jsx)("a",{href:(0,B.Bi)(e),onClick:t=>_(t,e.id),className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" no-underline",children:(0,a.jsx)(me.R8,{notebook:e,className:t>0||j.length>0?"bt b--silver":""})})},e.id)))]}),g&&(0,a.jsxs)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 flex bt b--silver",children:[(0,a.jsx)(ue.Z,{className:"blue mr2"})," Loading\u2026"]}),b&&v&&v.total>0?(0,a.jsx)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 fw6 f7 bt b--silver",children:(0,a.jsx)(Z(),{href:{pathname:"/search",query:{query:b,onlyOwner:p}},children:(0,a.jsxs)("a",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" blue flex items-center",children:[v.total>1?"View all ".concat(v.total.toLocaleString()," results "):"View 1 result ",(0,a.jsx)(de.Z,{})]})})}):(v&&v.total>0||!f)&&(0,a.jsx)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pb2"})]}):g?(0,a.jsxs)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 flex bt b--silver",children:[(0,a.jsx)(ue.Z,{className:"blue mr2"})," Loading\u2026"]}):b?(0,a.jsxs)("div",{className:T().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 bt b--silver",children:["No results for \u201c",h,"\u201d"]}):null]}),(0,a.jsx)(T(),{id:"87926020b5c8b00c",dynamic:[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')],children:'div.__jsx-style-dynamic-selector [data-reach-combobox-input]{padding-left:1.75rem;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}div.__jsx-style-dynamic-selector ::-webkit-search-cancel-button{width:16px;height:16px;background:url("data:image/svg+xml,'.concat(encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>'),'")}')})]})})),ge={none:null,accountSelect:b,cancelPlan:e=>{let{onDismiss:t}=e;const n=(0,x.X)(),s=(0,f.I0)();return n?(0,a.jsx)(h.On,{title:"Cancel plan",icon:p.Z,description:(0,a.jsxs)(a.Fragment,{children:["team"===n.type?(0,a.jsxs)(a.Fragment,{children:["Your team ",(0,a.jsx)("strong",{children:(0,o.RX)(n)})]}):(0,a.jsx)(a.Fragment,{children:"Your subscription"})," ","will remain active until the end of this billing cycle, and then it will be deactivated and all notebooks will become read-only."]}),onCancel:t,onConfirm:()=>{t(),s({type:"cancelPlan",user:n})},destructive:!0}):(s({type:"showErrorToast",key:"cancelPlan",message:"Oops, cancelling plan failed. Try again?"}),s({type:"dismissModal"}),null)},changeUserTier:v.z,login:g._,newNotebook:le,reauthenticate:oe.l,search:ve,migrated:q};var Ce=(0,h.zm)(ge)},77812:function(e,t,n){n.d(t,{_:function(){return V},m:function(){return D}});var s=n(85893),a=n(56424),r=n(37497),i=n(89905),l=n(19671),o=n(11163),c=n(67294),d=n(40042),u=n(11233),h=n(54239),m=n(3304),b=n(19868),p=n(22027),x=n(2845),f=n(33396),v=n(602),g=n(25158),C=n(12204);function j(e){(0,l.MR)((0,l.a$)({type:"user:manage:clickLoginProvider",eventVersion:1,data:{provider:e},currentUser:null}))}function w(e){return e.trim().toLowerCase()}const y=e=>{let{provider:t}=e;const n="w1 h1 ml1 mr2";switch(t){case"github":return(0,s.jsx)(m.Z,{className:n});case"twitter":return(0,s.jsx)(f.Z,{className:n,style:{color:"#1DA1F2"}});case"google":return(0,s.jsx)(b.Z,{className:n});case"microsoft":return(0,s.jsx)(x.ZP,{className:n});default:return null}},k=e=>{let{path:t,loginAction:n,msTeams:a=!1}=e;const{0:r,1:i}=(0,c.useState)(),l=(0,c.useRef)(null),o=(0,c.useRef)(null),d=(0,c.useCallback)((e=>{const t=e.target.value;i(t),j(t),n(),o.current&&(o.current.value=t),l.current&&(l.current.token.value=(0,v.FN)(),l.current.submit())}),[n]);return(0,s.jsxs)("form",{ref:l,action:"".concat("https://api.observablehq.com","/login"),method:"post",children:[(0,s.jsx)("input",{type:"hidden",name:"token"}),(0,s.jsx)("input",{type:"hidden",name:"path",value:t}),(0,s.jsx)("input",{type:"hidden",name:"provider",value:"",ref:o}),Array.from(N.keys()).map((e=>{const t=a&&(0,g.t)()&&"google"===e;return(0,s.jsxs)("button",{onClick:d,name:"provider",value:e,type:"button",className:"relative ".concat((0,C.XK)(t)),onKeyDown:e=>{"Enter"===e.key&&d(e)},disabled:t,title:t?"".concat(N.get(e)," login is not supported in this context."):void 0,children:[t&&(0,s.jsx)("div",{className:"absolute top-0 left-0 w-100 h-100 bg-light-gray br2 o-60"}),e===r?(0,s.jsx)(p.Z,{className:"ml1 mr2 dark-gray"}):(0,s.jsx)(y,{provider:e}),"Continue with ",N.get(e)]},e)}))]})},N=new Map([["github","GitHub"],["twitter","Twitter"],["google","Google"],["microsoft","Microsoft"]]),L=e=>{let{onSubmit:t,loginValidation:n,editUsername:a,rawUsername:i}=e;return(0,s.jsxs)("form",{className:"flex flex-column ",onSubmit:t,children:[(0,s.jsxs)("div",{className:"flex items-center mt3 justify-between",children:[(0,s.jsx)("div",{className:"mr1 near-black",children:"@"}),(0,s.jsx)(u.Z,{required:!0,name:"login",spellCheck:"false",autoComplete:"username",autoCorrect:"off",autoCapitalize:"none",autoFocus:!0,minLength:1,maxLength:255,className:"flex-auto",onChange:a,value:i,placeholder:"username"}),(0,s.jsx)(r.KM,{type:"submit",disabled:"notChecked"!==n,text:"Continue",className:"ml2"})]}),"notFound"===n?(0,s.jsx)("div",{className:"w-100 mt1 f6 dark-red",children:"Username not found"}):"invalid"===n?(0,s.jsx)("div",{className:"w-100 mt1 f6 dark-red",children:"Usernames can only include alphanumeric characters or single hyphens."}):null]})},Z=e=>{let{onSubmit:t,emailValidation:n,editEmail:a,rawEmail:i}=e;return(0,s.jsxs)("form",{className:"flex flex-column",onSubmit:t,children:[(0,s.jsxs)("div",{className:"flex items-center mt2 justify-between",children:[(0,s.jsx)(u.Z,{required:!0,name:"email",spellCheck:"false",autoComplete:"email",autoCorrect:"off",autoCapitalize:"none",minLength:1,maxLength:255,className:"flex-auto",onChange:a,value:i,placeholder:"Sign in using email"}),(0,s.jsx)(r.aX,{type:"submit",disabled:"invalidEmail"===n,text:"Continue",className:"ml2"})]}),"invalidEmail"===n?(0,s.jsx)("div",{className:"w-100 mt1 f6 dark-red",children:"Emails cannot include certain characters, including commas, braces, brackets, quotes, and spaces."}):"otpInvalid"===n?(0,s.jsx)("div",{className:"w-100 mt1 f6 dark-red",children:"Passwordless authentication is not supported in this context. Please sign in with another account."}):null]})},S=e=>{let{value:t}=e;return(0,s.jsx)("div",{className:"w-100 pa2 mt2 f6 fw5 dark-gray bg-near-white br2 form-default-clear form-custom-input",children:t})},M=e=>{let{username:t,path:n,provider:a,setLoginValidation:r,loginAction:i}=e;const{0:l,1:o}=(0,c.useState)(!1),d=(0,c.useRef)(null),u=(0,c.useCallback)((()=>{o(!0),j(a),i(),d.current&&(d.current.token.value=(0,v.FN)(),d.current.submit())}),[a,i]);return(0,s.jsxs)("form",{action:"".concat("https://api.observablehq.com","/login"),method:"post",ref:d,children:[(0,s.jsx)("button",{className:"dark-gray bg-transparent hover-bg-black-05 pointer animate-all absolute pa2 f6 fw6 br-100 flex items-center ba b--transparent relative",style:{top:"-1.5rem",left:"-2.5rem"},onClick:()=>r("notChecked"),children:(0,s.jsx)(h.Z,{})}),(0,s.jsx)("div",{className:"flex h1 f6 near-black justify-between",children:(0,s.jsx)("span",{children:"Your username"})}),(0,s.jsx)(S,{value:t}),(0,s.jsx)("input",{type:"hidden",name:"token"}),(0,s.jsx)("input",{type:"hidden",name:"path",value:n}),(0,s.jsx)("input",{type:"hidden",name:"login",value:t}),(0,s.jsxs)("button",{onClick:u,type:"button",autoFocus:!0,className:(0,C.XK)(),onKeyDown:e=>{"Enter"===e.key&&u()},children:[l?(0,s.jsx)(p.Z,{className:"ml1 mr2 dark-gray"}):(0,s.jsx)(y,{provider:a}),"Continue with ",N.get(a)]})]})},q=e=>{let{path:t,loginAction:n,setScreen:a,msTeams:r=!1}=e;const{0:i,1:o}=(0,c.useState)(""),{0:d,1:u}=(0,c.useState)(""),{0:h,1:m}=(0,c.useState)("notChecked"),{0:b,1:p}=(0,c.useState)("notChecked"),{0:x,1:f}=(0,c.useState)(null),{0:g,1:y}=(0,c.useState)(!1);(0,c.useEffect)((()=>{g&&m("otp"===x&&r?"otpInvalid":null!==x?"valid":"notFound")}),[x,g,r]);const N=(0,c.useCallback)((e=>{const t=w(e.target.value);o(t),m(!t||C.tG.test(t)?"notChecked":"invalid"),y(!1)}),[]),S=(0,c.useCallback)((e=>{const t=w(e.target.value);u(t),p(t&&C.uM.test(t)?C.HN.test(t)?"validEmail":"invalidEmail":"notChecked"),y(!1)}),[]),q=(0,c.useCallback)((async e=>{if(e.preventDefault(),(0,l.MR)((0,l.a$)({type:"user:manage:clickLoginUsername",eventVersion:1,data:{},currentUser:null})),"validEmail"!==b){try{const{provider:e}=await(0,v.a8)("/user/@".concat(w(i),"/identity"));"otp"!==e||r||(j("otp"),(0,v.Fv)("/otp/invite",{path:t,login:w(i)}).then((()=>{a("signInEmailSent"),n()}))),f(e)}catch(s){f(null)}y(!0)}else(0,v.Fv)("/otp/invite",{path:t,email:w(d),signin:!0}).then((()=>{a("signInEmailSent"),n()}))}),[i,b,d,t,a,n,r]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"f3 fw7 tc near-black",children:"Sign in"}),(0,s.jsxs)("div",{className:"mt3",children:[x&&"otp"!==x&&"valid"===h?(0,s.jsx)(M,{username:w(i),path:t,loginAction:n,provider:x,setLoginValidation:m}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L,{onSubmit:q,loginValidation:h,editUsername:N,rawUsername:i}),(0,s.jsx)("div",{className:"mv3 f6 tc moon-gray",children:"\u2500\u2500\u2500\u2500\u2500\u2500 or \u2500\u2500\u2500\u2500\u2500\u2500"}),(0,s.jsx)(k,{path:t,loginAction:n,msTeams:r}),!r&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z,{onSubmit:q,emailValidation:b,editEmail:S,rawEmail:d})})]}),(0,s.jsxs)("div",{className:"w-100 mt4 f6 tc",children:[(0,s.jsx)("button",{className:C.f3,onClick:()=>a("recoverLogin"),children:"Forgot your username?"}),(0,s.jsx)("span",{className:"mh1 gray",children:"\u2022"}),(0,s.jsx)("button",{className:C.f3,onClick:()=>a("signup"),children:"Create an account"})]})]})]})},_=e=>{let{path:t,loginAction:n,setScreen:a,signup:i}=e;const{0:l,1:o}=(0,c.useState)(""),{0:d,1:h}=(0,c.useState)(!1),m=(0,c.useRef)(null);function b(e){var s;e.preventDefault(),(null===(s=m.current)||void 0===s?void 0:s.validationMessage)?h(!0):(j("otp"),(0,v.Fv)("/otp/invite",{email:l,path:t}).then((()=>{a(i?"signUpEmailSent":"signInEmailSent"),n()})))}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{className:"flex mt2 justify-between",onSubmit:b,children:[(0,s.jsx)(u.Z,{ref:m,required:!0,type:"email",name:"email",pattern:"^[^{}\\[\\],\"' <>]+$",spellCheck:"false",autoComplete:"username",autoCorrect:"off",autoCapitalize:"none",minLength:1,maxLength:255,onChange:e=>{h(!1),o(e.target.value)},value:l,placeholder:"Sign up with email",className:"flex-auto"}),(0,s.jsx)(r.KM,{disabled:!l.trim(),className:"ml2",onClick:b,text:i?"Continue":"Send link"})]}),(0,s.jsx)("div",{className:"truncate h2 mt1 f7 fw7 dark-pink",children:d&&m.current&&m.current.value&&m.current.validationMessage})]})},T=e=>{let{signin:t}=e;return(0,s.jsxs)("div",{className:"flex flex-column items-center",children:[(0,s.jsx)("div",{className:"w-100 f6 fw7 tc mid-gray",id:"modal-title",children:"Check your email"}),(0,s.jsx)("div",{className:"pt3 near-black lh-copy tc",children:t?(0,s.jsx)(s.Fragment,{children:"We\u2019ve emailed you a link to sign in to Observable. The link will expire in 10 minutes."}):(0,s.jsx)(s.Fragment,{children:"We\u2019ve emailed you a link to sign up for Observable. The link will expire in 10 minutes."})})]})};const F=e=>{let{setScreen:t,email:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mv3 f6 tc dark-green lh-f6",children:"Request submitted! You'll receive an email shortly if we find an account\n        associated with ".concat(n,".")}),(0,s.jsx)(r.KM,{onClick:()=>t("login"),text:"Back to sign in",className:"w-100 mv2"}),(0,s.jsx)("div",{className:"mt3 f6 tc",children:(0,s.jsx)("span",{className:"dark-blue hover-lightest-blue shadow-hover",onClick:()=>t("signup"),children:"Create an account"})})]})},U=e=>{let{setScreen:t,recoverLogin:n,editEmail:a,email:i,status:l}=e;return(0,s.jsxs)("form",{onSubmit:n,children:[(0,s.jsx)("div",{className:"mv3 f6 tc mid-gray lh-f6",children:"Enter your email address below and we'll send you the username\n        associated with the address provided."}),(0,s.jsxs)("label",{htmlFor:"email",className:"f6 near-black",children:["Email",(0,s.jsx)(u.Z,{name:"email",type:"email",spellCheck:"false",autoComplete:"email",autoCorrect:"off",autoCapitalize:"none",autoFocus:!0,minLength:3,maxLength:255,className:"w-100 mt2",onChange:a,value:i,required:!0})]}),(0,s.jsx)(r.KM,{type:"submit",loading:"sending"===l,text:"Send email",className:"w-100 mv2"}),(0,s.jsxs)("div",{className:"mt3 f6 tc",children:[(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:C.f3,onClick:()=>t("login"),children:"Back to sign in"}),(0,s.jsx)("span",{className:"mh1 gray",children:"\u2022"})]}),(0,s.jsx)("button",{className:C.f3,onClick:()=>t("signup"),children:"Create an account"})]})]})},P=e=>{let{setScreen:t}=e;const{0:n,1:a}=(0,c.useState)(""),{0:r,1:i}=(0,c.useState)("notSent"),o=(0,c.useCallback)((e=>{i("notSent"),a(e.target.value)}),[]),d=(0,c.useCallback)((async e=>{e.preventDefault(),"sending"!==r&&((0,l.MR)((0,l.a$)({type:"user:manage:recoverLogin",eventVersion:1,data:{},currentUser:null})),i("sending"),await(0,v.Fv)("/recover-login",{email:n}),i("sent"))}),[n,r]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"f3 fw7 tc near-black",children:"Forgot username"}),"sent"===r?(0,s.jsx)(F,{setScreen:t,email:n}):(0,s.jsx)(U,{status:r,setScreen:t,editEmail:o,email:n,recoverLogin:d})]})},R=/^\/(error|login(-\w+)?|teams|pricing|community|explore|tutorials|document|about|product|solutions)([/?]|$)/i;function D(e){return R.test(e)}function A(e,t){let n;if("login"===t)n="sign in";else{if("signup"!==t)return;n="sign up"}const s={comment:"comment on this notebook",demo:"save your copy of the demo",like:"like this notebook",fork:"save your fork",team:"create a team",suggest:"suggest this notebook",acceptTeamInvitation:"accept this team invitation",acceptNotebookInvitation:"accept this notebook invitation",files:"upload files"}[e];return s?"Please ".concat(n," to ").concat(s,"."):void 0}const B=e=>{let{path:t,loginAction:n,setScreen:a,msTeams:r=!1}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb4 f3 fw7 tc near-black",children:"Sign up"}),(0,s.jsx)(k,{path:t,loginAction:n,msTeams:r}),!r&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(_,{path:t,signup:!0,loginAction:n,setScreen:a})}),(0,s.jsxs)("div",{className:"w-100 f6 tc near-black ".concat(r?"mt3":""),children:["Already have an account?"," ",(0,s.jsx)("button",{className:C.f3,onClick:()=>a("login"),children:"Sign in"})]})]})};function I(e){switch(e){case"fork":case"comment":case"like":case"team":return"signup";default:return"login"}}const V=(0,d.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),null)((e=>{let{currentUser:t,loginReason:n,loginScreen:d=I(n),loginAction:u=(()=>{}),message:h=(n?A(n,d):void 0),onDismiss:m,redirectPath:b,msTeams:p=!1}=e;const x=!!m,{0:f,1:v}=(0,c.useState)(d),g=(0,o.useRouter)();let C=null!==b&&void 0!==b?b:g.asPath;D(C)&&(C="/"),"fork"===n&&(C="/forking");const j=m&&(e=>{(0,l.MR)((0,l.a$)({type:"user:manage:signupCancel",data:{trigger:"click"===(null===e||void 0===e?void 0:e.type)?"click":"keypress"},currentUser:t,eventVersion:1})),m()});return(0,s.jsx)(a.Vq,{onDismiss:x?j:void 0,"aria-label":"Sign in",className:"narrow",style:{padding:"".concat(p?"2rem 4rem":"3rem 4rem")},children:(0,s.jsxs)("div",{className:"relative",children:[x&&(0,s.jsx)(r.hU,{icon:i.Z,onClick:j,colorless:!0,style:{top:"-1.5rem",right:"-2.5rem"},className:"absolute"}),h&&(0,s.jsx)("div",{className:"absolute w-100 tc",style:{bottom:"calc(100% + 2rem)"},children:(0,s.jsx)("div",{className:"dib ph3 pv2 f6 fw5 near-black bg-near-white bb b--light-gray br2",children:h})}),"signup"===f?(0,s.jsx)(B,{loginAction:u,path:C,setScreen:v,onDismiss:m,msTeams:p}):"recoverLogin"===f?(0,s.jsx)(P,{setScreen:v}):"signInEmailSent"===f?(0,s.jsx)(T,{signin:!0}):"signUpEmailSent"===f?(0,s.jsx)(T,{signin:!1}):(0,s.jsx)(q,{path:C,loginAction:u,setScreen:v,msTeams:p}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mt4 f7 fw4 tc mid-gray lh-copy",children:"By continuing you agree to our"}),(0,s.jsxs)("div",{className:"f7 fw4 tc mid-gray lh-copy",children:[(0,s.jsx)("a",{className:"blue hover-dark-blue link",href:"/terms-of-service",rel:"noopener noreferrer",target:"_blank",children:"Terms of Service"})," ","and"," ",(0,s.jsx)("a",{className:"blue hover-dark-blue link",href:"/privacy-policy",rel:"noopener noreferrer",target:"_blank",children:"Privacy Policy"}),"."]})]})]})})}))},12204:function(e,t,n){n.d(t,{HN:function(){return a},XK:function(){return i},f3:function(){return l},tG:function(){return s},uM:function(){return r}});const s=/^[0-9a-z][0-9a-z-]*$/,a=/^[^{}[\],"' <>]+$/,r=/^\S+@\S*$/;function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="flex w-100 justify-center pv2 pl2 pr3 mt2 f6 fw6 dark-gray bg-near-white ba b--light-gray br2 z-2";return e||(t="".concat(t," shadow-2-hover hover-near-black pointer")),t}const l="dark-blue hover-lightest-blue link bg-white b--none pointer ph0"},10099:function(e,t,n){n.d(t,{l:function(){return m}});var s=n(85893),a=n(75713),r=n(81685),i=n(602),l=n(4598),o=n(36448),c=n(11163),d=n(67294),u=n(93452),h=n(77812);const m=e=>{let{onDismiss:t,error:n}=e;var m,b,p,x;const f=(0,c.useRouter)(),v=null===n||void 0===n||null===(m=n.meta)||void 0===m?void 0:m.provider,g=null===n||void 0===n||null===(b=n.meta)||void 0===b?void 0:b.provider_org,C=null===n||void 0===n||null===(p=n.meta)||void 0===p?void 0:p.login;var j;let w=null!==(j=null===n||void 0===n||null===(x=n.meta)||void 0===x?void 0:x.path)&&void 0!==j?j:f.asPath;(0,h.m)(w)&&(w="");let y,k=!!t;"IDENTITY_NOT_VALID"===(null===n||void 0===n?void 0:n.code)?(k=!1,y=(0,s.jsx)(s.Fragment,{children:"Observable requires authorization to validate your identity."})):"MISSING_ORG"===(null===n||void 0===n?void 0:n.code)?y=(0,s.jsxs)(s.Fragment,{children:["You must be authenticated to the ",(0,s.jsx)("b",{children:g})," domain to continue."]}):"IDENTITY_CONFLICT"===(null===n||void 0===n?void 0:n.code)?(k=!1,y=(0,s.jsxs)(s.Fragment,{children:["That ",(0,s.jsx)("b",{children:g})," identity is associated with a different user. Please choose another, or sign out and re-sign in."]})):"EMAIL_CONFLICT"===(null===n||void 0===n?void 0:n.code)?(k=!0,y=(0,s.jsxs)(s.Fragment,{children:["This email address is already associated with an Observable account. Please sign-in with ",(0,s.jsx)("b",{children:(0,l.w)(v)})," to access this account."]})):y=(0,s.jsx)(s.Fragment,{children:"An authentication error occurred. Please continue to sign in again."});const N=(0,d.useRef)(null);return(0,s.jsxs)(a.l,{id:"signIn",action:"".concat("https://api.observablehq.com","/login"),method:"post",ref:N,children:[(0,s.jsx)("input",{type:"hidden",name:"token"}),(0,s.jsx)("input",{type:"hidden",name:"path",value:w}),(0,s.jsx)("input",{type:"hidden",name:"org",value:g}),(0,s.jsx)("input",{type:"hidden",name:"login",value:C}),(0,s.jsx)(u.On,{title:"Authentication required",icon:r.Z,description:y,cancelText:k?"Back":"Sign out",confirmText:"Continue".concat(C&&v?" with ".concat((0,l.w)(v)):""),onCancel:k&&t?t:function(){N.current.action=(0,o.i8)(),N.current.token.value=(0,i.FN)(),N.current.path.value=null,N.current.org.value=null,N.current.submit()},onConfirm:function(){N.current.token.value=(0,i.FN)(),N.current.submit()}})]})}},86320:function(e,t,n){n.d(t,{H1:function(){return j},R8:function(){return C},pl:function(){return g}});var s=n(41799),a=n(69396),r=n(99534),i=n(85893),l=n(65988),o=n.n(l),c=n(8385),d=n(95357),u=n(76267),h=n(52155),m=n(92946),b=n(84749),p=n(27193),x=n(3142),f=n(62990),v=(n(67294),n(23105));const g=e=>{var{hash:t,width:n=108,className:l,style:c}=e,d=(0,r.Z)(e,["hash","width","className","style"]);return(0,i.jsx)("div",(0,a.Z)((0,s.Z)({},d),{style:(0,a.Z)((0,s.Z)({},c),{backgroundImage:t?"url(https://".concat("static.observableusercontent.com","/thumbnail/").concat(t,".jpg)"):"var(--checkerboard)"}),className:o().dynamic([["a49303d82cbb9d50",[n,Math.round(n/1.6)]]])+" "+"br2 ba b--silver bg-white hover-b--light-gray hover-light-shadow flex-shrink-0 ".concat(t?"cover bg-center":""," ").concat(l),children:(0,i.jsx)(o(),{id:"a49303d82cbb9d50",dynamic:[n,Math.round(n/1.6)],children:"div.__jsx-style-dynamic-selector{width:".concat(n,"px;height:").concat(Math.round(n/1.6),"px}")})}))},C=e=>{let{notebook:t,className:n=""}=e;const{commentCount:s,authors:a,forked:r,likes:l,owner:o,publishLevel:C,publishTime:j,thumbnail:w,title:y,saveTime:k}=t,N=j||k;return(0,i.jsxs)("div",{className:"flex pv2 ".concat(n),children:[(0,i.jsx)(g,{hash:w,className:"mr3"}),(0,i.jsxs)("div",{className:"flex fw5 flex-column justify-center truncate",children:[(0,i.jsxs)("div",{className:"f6 mb1 flex items-center",children:[(0,i.jsx)("div",{className:"mr1 truncate nowrap",children:(0,p.Ui)({title:y})}),r&&(0,i.jsx)(u.F,{title:"This notebook is a fork",className:"moon-gray flex-shrink-0"}),(0,x.ws)({publishLevel:C})?(0,i.jsx)(b.Z,{title:"Private",className:"moon-gray flex-shrink-0"}):(0,x.cg)({publishLevel:C})?(0,i.jsx)(m.Vp,{title:"Published (unlisted)",className:"moon-gray flex-shrink-0"}):null]}),(0,i.jsxs)("div",{className:"f7 flex items-center relative",children:[(0,i.jsx)(c.q,{user:o,size:24,title:(0,p.KY)(o),className:"br-100 mr2"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(v.TO,{owner:o,authors:a,isTeam:(0,x.p0)(t),className:"pen"}),(0,i.jsxs)("div",{className:"gray flex",children:[(0,i.jsx)("span",{title:(0,f.mr)(N),children:(0,f.LN)(N)}),(l>0||s>0)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"mh1 light-gray",children:"\u2022"}),l>0&&(0,i.jsxs)("span",{className:"mr2 nowrap flex items-center",children:[(0,i.jsx)(h.Z,{className:"moon-gray mr1"}),(0,p.CZ)(l)]}),s>0&&(0,i.jsxs)("span",{className:"mr2 nowrap flex items-center",children:[(0,i.jsx)(d.L,{className:"moon-gray mr1"}),(0,p.CZ)(s)]})]})]})]})]})]})]})},j=e=>{let{result:{title:t,description:n,thumbnail:s,external:a},className:r=""}=e;return(0,i.jsxs)("div",{className:"jsx-724d6de7600964da "+"pa1 ".concat(r),children:[(0,i.jsxs)("div",{className:"jsx-724d6de7600964da curated-box br2 flex nh2 pa1 bg-near-white",children:[(0,i.jsx)(g,{hash:s,className:"mr3"}),(0,i.jsxs)("div",{className:"jsx-724d6de7600964da flex fw5 flex-column justify-center",children:[(0,i.jsxs)("div",{className:"jsx-724d6de7600964da f6 mb1",children:[(0,i.jsx)("span",{className:"jsx-724d6de7600964da mr1",children:t}),a&&(0,i.jsx)(m.Pf,{className:"v-btm moon-gray"})]}),(0,i.jsx)("div",{className:"jsx-724d6de7600964da f7 dark-gray",children:n})]})]}),(0,i.jsx)(o(),{id:"4cf13cab8b47a52d",children:".nh2.jsx-724d6de7600964da{margin-left:-webkit-calc(-1*var(--spacing-small));margin-left:-moz-calc(-1*var(--spacing-small));margin-left:calc(-1*var(--spacing-small));margin-right:-webkit-calc(-1*var(--spacing-small));margin-right:-moz-calc(-1*var(--spacing-small));margin-right:calc(-1*var(--spacing-small))}"}),(0,i.jsx)(o(),{id:"44628a3017fa055",children:"[data-reach-combobox-option][data-highlighted]:hover,[data-reach-combobox-option][data-highlighted] .curated-box,[data-reach-combobox-option]:hover .curated-box{background:var(--silver)}[data-reach-combobox-option][data-highlighted]:hover .curated-box{background:var(--light-gray)}"})]})}},86384:function(e,t,n){n.d(t,{b:function(){return i}});var s=n(85893),a=n(54329),r=n(66421);n(67294);const i=e=>{let{notebook:t,currentUser:n,dispatch:i}=e;return n&&((0,r.Zs)(n,t)||(0,r.mc)(n,t))?{onSelect:()=>i({type:"showModal",modal:"collections",modalProps:{collectionListing:t}}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{className:"mr2 h1 w1"}),"collections"in t&&t.collections.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"nowrap",children:"In collections"}),(0,s.jsx)("span",{className:"ml2 f7 mid-gray bg-light-silver br2",style:{padding:"2px 4.5px"},children:t.collections.length})]}):(0,s.jsx)("span",{className:"nowrap",children:"Add to collections\u2026"})]})}:null}},43164:function(e,t,n){n.d(t,{AH:function(){return u},iE:function(){return h},tJ:function(){return d}});var s=n(85893),a=n(23952),r=n(74080),i=n(27193),l=n(66421),o=n(3142),c=n(76267);function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,s.jsxs)(s.Fragment,{children:["Fork",n?(0,s.jsxs)("span",{className:"ml1 fw4 nowrap",children:[(0,i.CZ)(n)," unsaved change",1!==n?"s":""]}):null,(0,a.NE)(t)?(0,s.jsx)(s.Fragment,{children:"\u2026"}):""]})}const u=function(e){let{notebook:t,currentUser:n,dispatch:a}=e,{addLabel:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{addLabel:!0};if(!(0,l.rk)(n,t))return null;const u="model"in t?(0,o.ev)(t):void 0,h="click";return{onSelect:e=>a({type:"forkRequested",source:e,trigger:h}),tooltip:n?"Fork this notebook":"Sign in to fork this notebook",disabled:!(0,r.YW)(t),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"".concat(i&&"mr2 ","h1 w1")}),i&&d(t,n,u)]})}},h=e=>{let{notebook:t,currentUser:n,dispatch:s}=e;return u({notebook:t,currentUser:n,dispatch:s},{addLabel:!1})}},83065:function(e,t,n){n.d(t,{OZ:function(){return d},Y1:function(){return m},dZ:function(){return h},u8:function(){return u}});var s=n(85893),a=n(34119),r=n(92946),i=n(74080),l=n(66421),o=n(3142),c=n(87769);const d=e=>{let{notebook:t,dispatch:n}=e;return(0,l.zB)(t)?{onSelect:()=>{n({type:"showModal",modal:"publishConfirmation"})},tooltip:(0,o.Ag)(t),disabled:!(0,i.ur)(t),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"mr2 h1 w1"}),"Publish\u2026"]})}:null},u=e=>{let{notebook:t,dispatch:n}=e;return!(0,l.zB)(t)||(0,o.fN)(t)?null:{onSelect:()=>{n({type:"publishRequested",unlisted:"shared"===t.publishLevel})},tooltip:(0,o.Ag)(t),disabled:!(0,i.K3)(t),children:(0,s.jsxs)(s.Fragment,{children:[(0,o.s9)(t)?(0,s.jsx)(c.Z,{className:"mr2 h1 w1"}):(0,s.jsx)(r.ZP,{className:"mr2 h1 w1"}),"Republish"]})}},h=e=>{let{notebook:t,dispatch:n}=e;return(0,l.zB)(t)?{onSelect:()=>{n({type:"showModal",modal:"publishConfirmation"})},tooltip:(0,o.Ag)(t),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{className:"mr2 h1 w1"}),"Publish settings\u2026"]})}:null},m=e=>{let{notebook:t,dispatch:n}=e;return(0,l.yF)(t)?{onSelect:()=>{n({type:"showModal",modal:"share"})},tooltip:"Share with others",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"mr2 h1 w1"}),"Share\u2026"]})}:null}},14903:function(e,t,n){n.d(t,{X:function(){return i}});var s=n(85893),a=n(66421),r=(n(67294),n(2537));const i=e=>{let{notebook:t,dispatch:n}=e;return(0,a.yF)(t)?{onSelect:()=>n({type:"showModal",modal:"sharing"}),tooltip:"Share with others",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Z,{className:"mr2 h1 w1"})," Share\u2026"]})}:null}},2239:function(e,t,n){n.d(t,{t:function(){return i}});var s=n(85893),a=n(66421),r=(n(67294),n(18794));const i=e=>{let{notebook:t,dispatch:n}=e;return(0,a.mO)(t)?{onSelect:()=>n({type:"showModal",modal:"setSlug"}),disabled:!1,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Z,{className:"mr2 h1 w1"}),"Set URL\u2026"]})}:null}},2840:function(e,t,n){n.d(t,{M:function(){return i}});var s=n(85893),a=n(66421),r=(n(67294),n(959));const i=function(e){let{notebook:t,currentUser:n,dispatch:i}=e,{relocate:l,live:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{relocate:!0};const c=(0,a.T1)(n),d=(0,a.ev)(n,t);return null!==n&&(0,a.S)(t)&&0!==c.length?{onSelect:()=>i({type:"showModal",modal:"transfer",modalProps:{notebook:t,live:o,currentUser:n,relocate:l},trigger:"click",source:"notebookMenu"}),disabled:t.owner.id===n.id&&0===d.length,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Z,{className:"mr2 h1 w1"}),"Transfer\u2026"]})}:null}},77061:function(e,t,n){n.d(t,{q:function(){return i}});var s=n(85893),a=n(66421),r=n(8433);const i=function(e){let{notebook:t,dispatch:n}=e,{relocate:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{relocate:!0};return(0,a.c)(t)?{onSelect:()=>n({type:"showModal",modal:"trash",modalProps:{relocate:i}}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Z,{className:"mr2 h1 w1"}),"Delete\u2026"]})}:null}},28555:function(e,t,n){n.d(t,{h:function(){return l}});var s=n(85893),a=n(74080),r=n(66421),i=n(4647);const l=e=>{const{notebook:t,dispatch:n}=e;return(0,r._l)(t)?{onSelect:()=>n({type:"showModal",modal:"unpublish"}),disabled:!(0,a.JJ)(t),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"mr2 h1 w1"})," Unpublish\u2026"]})}:null}},80453:function(e,t,n){n.d(t,{M:function(){return v},P:function(){return b}});var s=n(85893),a=n(37497),r=n(79209),i=n(22255),l=n(84193),o=n(82893),c=n(66421),d=n(36448),u=n(67294),h=n(8385),m=n(37720);const b=5,p=e=>{let{author:t,className:n=""}=e;return(0,s.jsxs)("div",{className:"flex items-center ".concat(n),children:[t.approved?(0,s.jsx)(h.q,{user:t,size:16,style:{verticalAlign:"text-bottom"},className:"w1 h1 mr1 br-100"}):(0,s.jsx)(r.Z,{className:"yellow w1 h1 mr1"}),(0,s.jsx)("div",{className:"inline-flex items-center",children:(0,d.RX)(t)})]})},x=e=>{let t,{authors:n}=e;switch(n.length){case 1:t=(0,s.jsx)(p,{author:n[0]});break;case 2:t=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{author:n[0],className:"mr1"}),(0,s.jsx)("span",{className:"mr1",children:" and"}),(0,s.jsx)(p,{author:n[1]})]});break;default:t=(0,s.jsxs)("span",{className:"inline-flex items-center",style:{marginLeft:10},children:[n.slice(0,b).map(((e,t)=>e.approved?(0,s.jsx)(h.q,{user:e,size:16,style:{verticalAlign:"text-bottom",marginLeft:(-9.6*n.length-1)/n.length},className:"w1 h1 mr1 br-100 b--white ba"},t):(0,s.jsx)(r.Z,{className:"yellow w1 h1 mr1 br-100 b--white ba",style:{verticalAlign:"text-bottom",marginLeft:(-9.6*n.length-1)/n.length}},t))),n.length," authors"]})}return t},f=e=>{let{author:t,showDescription:n=!1}=e;const a=(0,d.GN)(t);return(0,s.jsxs)("div",{className:"flex items-center-ns items-start bt b--silver pa2 f6 lh-f6 justify-between flex-row-ns flex-column-reverse",children:[(0,s.jsxs)("div",{className:"flex items-center overflow-hidden",children:[(0,s.jsx)(h.q,{user:t,size:46,style:{verticalAlign:"text-bottom"},link:!0,className:"w1 h1 mr2 br-100"}),(0,s.jsxs)("div",{className:"flex flex-auto flex-column",children:[(0,s.jsx)(l.Z,{href:a,children:(0,s.jsx)("a",{className:"fw6 black hover-blue no-underline truncate",children:(0,d.RX)(t)})}),t.approved?(0,s.jsx)("div",{className:"line-clamp-2 fw4 f6 lh-f7 mid-gray",children:t.bio}):(0,s.jsxs)("div",{className:"tr yellow fw5 flex items-center justify-start tooltipped tooltipped-n","aria-label":"".concat((0,d.RX)(t)," has not accepted the author request"),children:[(0,s.jsx)(r.Z,{className:"mr1"})," Invited"]})]})]}),n&&(0,s.jsx)("div",{className:"line-clamp-2 fw4 f6 lh-f7 mid-gray tr-ns ml2-ns pb2 pb0-ns w4-ns",style:{flexGrow:0,flexShrink:0},children:t.description})]})},v=e=>{const{notebook:t,dispatch:n,currentUser:r}=e,{authors:l}=t,{open:d,openMenu:h,closeMenu:b,triggerRef:p,uiRef:v}=(0,o.O)(),g=l.some((e=>e.description)),C=null!==r&&l.some((e=>{let{id:t,approved:n}=e;return t===r.id&&!n})),j=null!==r&&!(0,c.mG)(t)&&l.some((e=>{let{id:t,approved:n}=e;return t===r.id&&n})),w=(0,c.mG)(t)&&!C;return(0,u.useEffect)((()=>{C&&h()}),[C,h]),(0,s.jsxs)("div",{className:"relative inline-flex items-center",children:[(0,s.jsxs)("button",{"aria-label":d?"":"See who wrote this notebook",onClick:h,ref:p,className:"flex flex-wrap items-center pa0 bn bg-transparent pointer hover-blue",children:[(0,s.jsx)("span",{className:"mr1",children:"By "}),(0,s.jsx)(x,{authors:l})]}),d?(0,s.jsxs)(m.J,{ref:v,extraStyle:{right:"auto",left:0,width:"".concat(22+(g?4:0),"rem"),marginTop:"0.5rem",maxWidth:"calc(100vw - 2 * var( --spacing-large ))"},children:[(0,s.jsxs)("div",{className:"flex pa2 f7 fw5 items-center justify-between",children:[l.length," author",l.length>1?"s":""]}),(0,s.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:500},children:l.map(((e,t)=>(0,s.jsx)(f,{author:e,showDescription:g},t)))}),(w||j||C)&&(0,s.jsxs)("div",{className:"flex flex-row-reverse justify-between items-center bt b--silver pa2 bg-near-white",children:[w&&(0,s.jsx)(a.sn,{text:"Edit",icon:i.Z,onClick:()=>{b(),n({type:"showModal",modal:"authors"})}}),C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(a.sn,{text:"Deny",onClick:()=>n({type:"setAuthorAcceptance",currentUser:r,value:!1})}),(0,s.jsx)(a.sn,{text:"Accept",onClick:()=>n({type:"setAuthorAcceptance",currentUser:r,value:!0})})]}),(0,s.jsx)("div",{children:"Join author list?"})]}),j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.sn,{text:"Revoke",onClick:()=>n({type:"setAuthorAcceptance",currentUser:r,value:!1})}),(0,s.jsx)("div",{children:"Leave author list?"})]})]})]}):null]})};v.applies=e=>{let{notebook:{authors:t,owner:n}}=e;return t.length>1||1===t.length&&t[0].id!==n.id}},49282:function(e,t,n){n.d(t,{_i:function(){return b}});var s=n(41799),a=n(69396),r=n(99534),i=n(85893),l=n(65988),o=n.n(l),c=(n(67294),n(14500)),d=n(42568),u=n(11210);const h=e=>{var{as:t="button",onSelect:n=(()=>{}),tooltip:l,buttonType:c="default"}=e,d=(0,r.Z)(e,["as","onSelect","tooltip","buttonType"]);const u=t;return(0,i.jsxs)(u,(0,a.Z)((0,s.Z)({},d,"button"===t?{onClick:()=>n("notebookHeaderPromotedAction")}:{}),{"aria-label":l,className:"jsx-f5b217ab23358456 "+"bg-transparent pointer ba br2 f6 fw6 inline-flex items-center action-button action-button--".concat(c," ").concat(l?" tooltipped tooltipped-sw":""),children:[d.children,(0,i.jsx)(o(),{id:"f5b217ab23358456",children:".action-button--default.jsx-f5b217ab23358456{border-color:var(--light-gray);color:var(--dark-gray)}.action-button--banner.jsx-f5b217ab23358456{border-color:transparent;color:var(--white)}.action-button--highlight.jsx-f5b217ab23358456{border-color:var(--light-gray);color:var(--blue)}.action-button--list.jsx-f5b217ab23358456{border-color:transparent;color:var(--moon-gray)}.action-button.jsx-f5b217ab23358456{margin-left:5px;padding:.875rem;-webkit-transition:border-color 250ms ease;-moz-transition:border-color 250ms ease;-o-transition:border-color 250ms ease;transition:border-color 250ms ease}.action-button--default.jsx-f5b217ab23358456:hover{color:var(--black);background-color:var(--near-white)}.action-button--banner.jsx-f5b217ab23358456:hover{color:var(--white);background-color:rgba(0,0,0,.1)}.action-button--highlight.jsx-f5b217ab23358456:hover{color:var(--white);background-color:var(--blue)}.action-button--list.jsx-f5b217ab23358456:hover{color:var(--dark-gray)}.action-button.jsx-f5b217ab23358456:hover{border-color:transparent}.action-button[disabled].jsx-f5b217ab23358456{display:none}.stuck .action-button.jsx-f5b217ab23358456{border-color:transparent}"})]}))};function m(e){var t;const n=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return n.startsWith("divider_")?e.length&&e[e.length-1].type!==d.R?e.concat((0,i.jsx)(d.R,{},n)):e:r?"children"in r?"href"in r?e.concat((0,i.jsx)(d.Uk,(0,a.Z)((0,s.Z)({},r),{className:"nowrap"}),n)):"actions"in r?e:e.concat((0,i.jsx)(d.sN,(0,a.Z)((0,s.Z)({},r),{onSelect:()=>"function"===typeof r.onSelect&&r.onSelect("notebookMenu"),className:"nowrap"}),n)):Object.values(r).every((e=>null===e))?e:e.concat((0,i.jsxs)(d.rS,{children:[(0,i.jsx)(i.Fragment,{children:n}),(0,i.jsx)(i.Fragment,{children:m(r)})]},n)):e}),[]);return(null===(t=n[n.length-1])||void 0===t?void 0:t.type)===d.R&&n.pop(),n}const b=e=>{let{actions:t,buttonType:n,buttonClassname:s=""}=e;return(0,i.jsxs)(d.v2,{children:[(0,i.jsx)(h,{as:d.j2,buttonType:n,children:(0,i.jsx)(c.Z,{className:"h1 w1 ".concat(s),"aria-label":"Notebook actions"})}),(0,i.jsx)(d.qy,{style:{minWidth:"12rem"},position:d.Ly.bottomLeft,children:m(t)})]})};t.ZP=e=>{var{notebook:t,currentUser:n,dispatch:l,menuActionList:o,promotedActions:c,promotableActions:p}=e,x=(0,r.Z)(e,["notebook","currentUser","dispatch","menuActionList","promotedActions","promotableActions"]);const f={notebook:t,currentUser:n,dispatch:l};return(0,i.jsxs)("div",(0,a.Z)((0,s.Z)({},x),{children:[(0,i.jsx)(u.f,{notebook:t,dispatch:l}),c.map((e=>{let{name:t,highlight:n}=e;if(p[t]){const e=p[t](f);if(e)return"actions"in e?(0,i.jsxs)(d.v2,{children:[(0,i.jsx)(h,(0,s.Z)({as:d.j2,buttonType:n?"highlight":"default"},e)),(0,i.jsx)(d.qy,{children:m(e.actions)})]},t):(0,i.jsx)(h,(0,a.Z)((0,s.Z)({"data-cy":"promoted-action"},e),{buttonType:n?"highlight":"default"}),t)}return null})),(0,i.jsx)(b,{actions:o})]}))}},11210:function(e,t,n){n.d(t,{f:function(){return g},C:function(){return v}});var s=n(85893),a=n(92876),r=n(74080),i=n(66421),l=n(3142),o=n(67294),c=n(27919),d=n(22027),u=n(41799),h=n(69396);var m=e=>(0,s.jsxs)("svg",(0,h.Z)((0,u.Z)({viewBox:"0 0 16 16",width:"16",height:"16"},e),{children:[(0,s.jsx)("path",{d:"M5.56769 5.5C4.06777 5.5 4.00146 7.78125 4.00146 7.78125C4.00146 7.78125 1.56769 8 2.06769 10.5C2.36769 12 3.56769 12 4.06777 12H12.0677",stroke:"currentColor",strokeWidth:"1.6"}),(0,s.jsx)("path",{d:"M3 3L13.5 13.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M7.00146 3.83196C7.92807 2.85759 8.93071 2.87804 9.66008 3.19372C10.3253 3.48165 10.8981 4.03315 11.1576 4.70994C11.4517 5.47666 11.2732 6.39154 10.5309 7.17217C13.0015 6 14.5 9 13.0015 10",stroke:"currentColor",strokeWidth:"1.6"})]})),b=n(84193);const p=1e3,x=3e4;function f(e){const t=(0,o.useRef)();return e.autosave&&(0,i.mG)(e)&&(void 0===t.current?(0,l.oI)(e)&&(t.current=new Date):(0,l.oI)(e)||(t.current=void 0)),t.current?Date.now()-+t.current:0}function v(e){if(f(e)>=p)return!0;const{clientState:t}=e;return"idle"!==t&&"closed"!==t&&"saving"!==t}const g=e=>{let{notebook:t,dispatch:n,savingDelay1:i=p,savingDelay2:l=x}=e;const{autosave:c,clientState:d}=t,u=!c&&(0,r.HQ)(t),h=f(t),v=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{h>=l&&!v.current?(v.current=!0,n({type:"showErrorToast",message:(0,s.jsxs)(s.Fragment,{children:["Unable to save changes.",(0,s.jsx)(b.Z,{href:"/@observablehq/how-saving-works#connectivity",children:(0,s.jsx)("a",{className:"underline pointer ml1",children:"Learn more"})})]}),key:"clientStatus"}),(0,a.uT)("Unable to save changes","error")):0===h&&(v.current&&n({type:"removeToast",key:"clientStatus"}),v.current=!1)})),(0,s.jsx)("div",{className:"inline-flex",style:{marginLeft:5,padding:"0.875rem"},children:h>=l?(0,s.jsx)(j,{save:!0}):h>=i?(0,s.jsx)(C,{save:!0}):"closed"===d?u?(0,s.jsx)("div",{style:{display:"grid",placeItems:"center"},title:"Autosave is off",children:(0,s.jsx)(m,{className:"dark-gray"})}):(0,s.jsx)("div",{style:{width:16,height:16,visibility:"hidden"}}):"idle"===d?(0,s.jsx)("div",{style:{width:16,height:16,visibility:"hidden"}}):"saving"===d?(0,s.jsx)(C,{save:!0,faint:!0}):"opening"===d||"greeting"===d||"loading"===d||"reopening"===d?(0,s.jsx)(C,{}):"aborted"===d?(0,s.jsx)(j,{}):null})},C=e=>{let{save:t,faint:n}=e;return(0,s.jsx)("div",{"data-cy":"client-loading",style:{display:"grid",placeItems:"center"},title:t?"Saving\u2026":"Connecting\u2026",children:(0,s.jsx)(d.Z,{className:n?"light-gray":"dark-gray"})})},j=e=>{let{save:t}=e;return(0,s.jsx)("div",{className:"flex tc white bg-red bn br-100 items-center",title:t?"Unable to save changes.":"Unable to connect to server.",children:(0,s.jsx)(c.Z,{className:"w1 h1"})})}},38106:function(e,t,n){n.d(t,{O:function(){return w}});var s=n(41799),a=n(69396);const r=[{title:"D3 examples gallery",description:"Get inspired by these examples of visualizations built using the D3 library.",url:"https://observablehq.com/@d3/gallery",thumbnail:"1ef827a19d556921d616d53f79fdd6f9eb4d030acb243d70559be3993e4a7292"},{title:"D3 chart components",description:"Import re-useable code from this collection of components to get a jumpstart on building visualizations with D3.",url:"https://observablehq.com/@d3/charts?collection=@d3/charts",thumbnail:"8e02be2cb0444f15fc8b0b621839f74242b5a528df2c291ffa4f72b6f3abd875"},{title:"Learn D3 tutorial",description:"Take your first steps with D3 using this collection of tutorial notebooks.",url:"https://observablehq.com/@d3/learn-d3?collection=@d3/learn-d3",thumbnail:"6782987c12640214fe1eedf5693751984e9dde1e277f7450436345a307d51067"},{title:"D3 API reference on GitHub",description:"Dive deep into the API documentation for the D3 library.",url:"https://github.com/d3/d3/blob/main/API.md",thumbnail:"e043416c4c8cb76bc25d86c4689ca07c19dda05a91c0431b8cf04962e797e927",external:!0}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-d3-".concat(t),type:"curated_result"}))),i=[{title:"d3-geo collection",description:"Explore a wide variety of examples for creating geographic data visualizations.",url:"https://observablehq.com/@d3/gallery",thumbnail:"0b71820de41fb7a5f7844f3610c40f5dae75153f67129057070a6ac3e1ac9749"},{title:"Hello, Leaflet",description:"Get started with the popular open-source Leaflet library for making interactive web maps.",url:"https://observablehq.com/@observablehq/hello-leaflet",thumbnail:"86d7c86cb381031dc112ab874d742a6f48038c6d35fe9965c48d8d4656bca9b2"},{title:"Hello, Mapbox",description:"Get started with the powerful MapBox-GL library for making fast interactive web maps.",url:"https://observablehq.com/@observablehq/hello-mapbox-gl?collection=@observablehq/hello",thumbnail:"b32dba5c2da06aa16a84aed95aeeb1c9186aa88f77c2ee804fa58567535574e0"},{title:"Array.map docs on MDN",description:"The JavaScript Array.map function is commonly used when working with data in the browser.",url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map",thumbnail:"360fa8ccc5c2e26748a64488dc2bf535f2a101cf31ba5a07433df071cb4d25e3",external:!0}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-map-".concat(t),type:"curated_result"}))),l=[{title:"D3 Tree component",description:"Create a tree diagram quickly and easily using D3's Tree component.",url:"https://observablehq.com/@d3/tree?collection=@d3/charts",thumbnail:"0b71820de41fb7a5f7844f3610c40f5dae75153f67129057070a6ac3e1ac9749"},{title:"d3-hierarchy collection",description:"Explore beautiful examples of hierarchy visualizations: node-link diagrams, treemaps, icicle plots, and more!",url:"https://observablehq.com/collection/@d3/d3-hierarchy",thumbnail:"86d7c86cb381031dc112ab874d742a6f48038c6d35fe9965c48d8d4656bca9b2"},{title:"Indented tree example",description:"Learn how to show a hierarchy with attributes (such as a file tree) from this example.",url:"https://observablehq.com/@d3/indented-tree",thumbnail:"b32dba5c2da06aa16a84aed95aeeb1c9186aa88f77c2ee804fa58567535574e0"},{title:"Collapsible tree example",description:"See how you can create an interactive tree diagram whose nodes can be collapsed and expanded.",url:"https://observablehq.com/@d3/collapsible-tree",thumbnail:"360fa8ccc5c2e26748a64488dc2bf535f2a101cf31ba5a07433df071cb4d25e3"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-tree-".concat(t),type:"curated_result"}))),o=[{title:"Plot: Bar",description:"Learn how to create bar charts for ordinal data using Observable Plot.",url:"https://observablehq.com/@observablehq/plot-bar",thumbnail:"3d378538d99293ba7b7285b0e70fe18009337de7dd829c75dbd6d693517432ca"},{title:"Plot: Rect",description:"Learn how to plot rectangles with Observable Plot.",url:"https://observablehq.com/@observablehq/plot-rect",thumbnail:"e4bf03d155af21a24533562d7fa68d3de7b69039f83294594bd3db0f7e5fa934"},{title:"D3 BarChart component",description:"Create a bar chart using D3 Charts.",url:"https://observablehq.com/@d3/bar-chart?collection=@d3/charts",thumbnail:"9bcd1ad630deaaf0ee00d9460dea1eae56d024a8ed6ab0cee8eec9d13505278b"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-bar-".concat(t),type:"curated_result"}))),c=[{title:"D3 ForceGraph component",description:"Create a force-directed graph using D3 Charts.",url:"https://observablehq.com/@d3/force-directed-graph?collection=@d3/charts",thumbnail:"7946b7b7d21d9ee10f9d07974e0a31b2c593bf848f5e72ed0a4d8fedd2cf1eda"},{title:"GraphViz",description:"Learn how to use Graphviz, a tool for drawing graphs in the DOT language.",url:"https://observablehq.com/@observablehq/dot",thumbnail:"557949e9175dc43701f9586ad5a22325e9c27462603a09638ec1bf5686dd74ca"},{title:"Mermaid",description:"Learn how to use Mermaid, a tool for drawing graphs in Markdown-inspired text.",url:"https://observablehq.com/@observablehq/mermaid",thumbnail:"c7c3d63d31d1ed419ed9c8e56f463a6403fe261a7779ef1963996dce5ce7c487"},{title:"Introduction to Plot",description:"Quickly visualize tabular data with Observable's open-source plotting library.",url:"https://observablehq.com/@observablehq/plot?collection=@observablehq/plot",thumbnail:"64f414fef8a91248865f5759641b0cf537bc87c0aaf57dc368ffe673013eccaa"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-bar-chart-".concat(t),type:"curated_result"}))),d=[{title:"Introduction to Vega-Lite",description:"Learn the basics of Vega-Lite: loading data, marks and encodings, aggregation, creating visualizations, etc.",url:"https://observablehq.com/@uwdata/introduction-to-vega-lite",thumbnail:"f4c0623fa0ac9a8d9f5783a8eeecb1c2868440a83398a8ca6be0b5fba8989210"},{title:"Vega-Lite API examples",description:"Explore visualization examples, including maps, line charts, parallel coordinates, donut charts, scatterplots, and more.",url:"https://observablehq.com/collection/@vega/vega-lite-api",thumbnail:"a82509c12c3f68973737748d84527f4cd223c4a9896a6f6e8f277f46a91b6a4b"},{title:"Charting with Vega-Lite",description:"A quick introduction to creating Vega-Lite charts on Observable, with an overview of the most important functions.",url:"https://observablehq.com/@observablehq/vega-lite",thumbnail:"820c1ce779bde2347e128aab81a550e16f95126993729412583ac517dd0c2c1f"},{title:"Vega-Lite Chart Types",description:"A gallery of Vega-Lite charts with many examples and code snippets for reuse.",url:"https://observablehq.com/@observablehq/vega-lite-chart-types",thumbnail:"926cdd082229fc21e1b6b14da9fc93d0aa4215bb96f255f2061ccb0aae3e2360"},{title:"Plot & Vega-Lite",description:"How does Plot compare to Vega-Lite? This notebooks answers this question and presents a number of side-by-side examples.",url:"https://observablehq.com/@observablehq/plot-vega-lite",thumbnail:"72eb5ca0661f6764e5fe7787551f8fa6d296472cfe67529717972051fc4f37d5"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-vegalite-".concat(t),type:"curated_result"}))),u=[{title:"Plot: Line",description:"Use the line mark to create line charts of time series, connected scatterplots, and more!",url:"https://observablehq.com/@observablehq/plot-line",thumbnail:"42bfda8e0c228d0dbc5e661296742a4ec39baf9f9c60c280be85d237e0cd73fc"},{title:"D3 LineChart component",description:"Create time series line charts quickly and easily with D3's LineChart component.",url:"https://observablehq.com/@d3/line-chart?collection=@d3/charts",thumbnail:"52e0b19deab0300aa648f56848dc2d05ae17aa2337309df6ef2b4fff120753a5"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-line-".concat(t),type:"curated_result"}))),h=[{title:"Observable Inputs",description:"Create interactive input elements like buttons, sliders, dropdowns, tables, etc., quickly and easily.",url:"https://observablehq.com/@observablehq/inputs?collection=@observablehq/inputs",thumbnail:"2ac6f275bf8c2c8d920f672e948c122f247e035463378f21c85f2edad461fbf1"},{title:"Introduction to Views",description:"An overview of Views, a user interface element that directly controls a value in the notebook.",url:"https://observablehq.com/@observablehq/introduction-to-views",thumbnail:"57a391168263198f11e93345c4c5ac58fdbd6b9ebec5e5f310d195ade7986afb"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-input-".concat(t),type:"curated_result"}))),m=[{title:"D3 Line Chart with Tooltip",description:"Add an interactive tooltip to a line chart using D3's LineChart component.",url:"https://observablehq.com/@d3/line-with-tooltip?collection=@d3/charts",thumbnail:"779e3f7bee0cdceeb51080085fcb48ce038b74c00491b03348446b08e1bad045"},{title:"Plot Tooltip component",description:"Learn how you can easily add tooltips to Plot charts using the title field.",url:"https://observablehq.com/@mkfreeman/plot-tooltip",thumbnail:"de7e4276e777465b25562d23a0f10a2a12d5af35665e0a3eb4811b743ba36f96"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-tooltip-".concat(t),type:"curated_result"}))),b=[{title:"D3 Force Graph component",description:"Create a force-directed graph using D3 Charts.",url:"https://observablehq.com/@d3/force-directed-graph?collection=@d3/charts",thumbnail:"7946b7b7d21d9ee10f9d07974e0a31b2c593bf848f5e72ed0a4d8fedd2cf1eda"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-force-".concat(t),type:"curated_result"}))),p=[{title:"Plot: Bar",description:"Build a gantt chart in Plot using the Bar Mark.",url:"https://observablehq.com/@observablehq/plot-bar?collection=@observablehq/plot",thumbnail:"3d378538d99293ba7b7285b0e70fe18009337de7dd829c75dbd6d693517432ca"},{title:"Mermaid",description:"Use Mermaid, available in Observable's standard library, to render a Gantt chart.",url:"https://observablehq.com/@observablehq/mermaid",thumbnail:"c7c3d63d31d1ed419ed9c8e56f463a6403fe261a7779ef1963996dce5ce7c487"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-gantt-".concat(t),type:"curated_result"}))),x=[{title:"Introduction to Plot",description:"Quickly visualize tabular data with Observable's open-source plotting library.",url:"https://observablehq.com/@observablehq/plot?collection=@observablehq/plot",thumbnail:"3d378538d99293ba7b7285b0e70fe18009337de7dd829c75dbd6d693517432ca"},{title:"Plot Cheatsheets",description:"Use these handy and interactive cheatsheets to explore the foundational concepts of the Plot library.",url:"https://observablehq.com/@observablehq/plot-cheatsheets",thumbnail:"06e5da8ad481f156a5582de29308e423758c38758658b5cd5358fe9b8cffd54d"},{title:"Plot API reference",description:"Dive deep into API documentation for the Plot library.",url:"https://github.com/observablehq/plot/blob/main/README.md",thumbnail:"f215181b0e1e2785b1f79e9a851fa4ab2f8d7fd4f6519181f25eea81b3737f73",external:!0}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-plot-".concat(t),type:"curated_result"}))),f=[{title:"D3 Sankey component",description:"Create a Sankey diagram using D3 Charts.",url:"https://observablehq.com/@d3/sankey",thumbnail:"e917a00e5d3d10fa2d6ba0af84645bf5026d94a3afd4c5c199a0d2fb2327066c"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-sankey-".concat(t),type:"curated_result"}))),v=[{title:"Introduction to Data",description:"How to get data into Observable for analysis and visualization.",url:"https://observablehq.com/@observablehq/introduction-to-data",thumbnail:"77670bac9d0356f169c353a0213f553d00e74c3be57c8114c526148adcb45abc"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-data-".concat(t),type:"curated_result"}))),g=[{title:"Introduction to require",description:"Use thousands of open-source JavaScript modules in your notebooks.",url:"https://observablehq.com/@observablehq/require",thumbnail:"fb7e05c65a2824537efaf020033b3fdc8c5293fa000ee402b2d59814fabed674"},{title:"How to require stubborn modules",description:"Learn about the different ways to load modules.",url:"https://observablehq.com/@observablehq/how-to-require-stubborn-modules",thumbnail:"f2704dba63acece7d4e42b21bee696f9c475eb8eb5e5456a65a30911b8191cb0"},{title:"Module require debugger",description:"Try different methods to load a module.",url:"https://observablehq.com/@observablehq/module-require-debugger",thumbnail:"ff47ecfd261de3d34082cc1414cfed2a120fb686025892a44b7d8a9ea511d2b6"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-require-".concat(t),type:"curated_result"}))),C=[{title:"FileAttachment.zip()",description:"Learn how to use .zip files in your notebooks.",url:"https://observablehq.com/@observablehq/zip",thumbnail:"7387aa3b8e0d7c7efdba9d0eb37cb49ab7807aacc4021092f420f721a3d4a06e"}].map(((e,t)=>(0,a.Z)((0,s.Z)({},e),{id:"curated-zip-".concat(t),type:"curated_result"}))),j=new Map(Object.entries({d3:r,tree:l,map:i,bar:o,"bar chart":o,barchart:o,graph:c,vega:d,"vega-lite":d,vegalite:d,line:u,"line chart":u,linechart:u,input:h,inputs:h,tooltip:m,tooltips:m,force:b,"force directed":b,gantt:p,plot:x,sankey:f,data:v,require:g,module:g,zip:C}));function w(e){return j.get(e.trim().toLowerCase().replace(/[*]/gi,""))||[]}},73046:function(e,t,n){n.d(t,{t:function(){return i}});var s=n(85893),a=n(33090),r=n(98153);const i=e=>{let{selected:t,setSelected:n,tier:a,userType:r}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(l,{interval:"year",selected:t,setSelected:n,tier:a,label:"Pay yearly",userType:r}),(0,s.jsx)(l,{interval:"month",selected:t,setSelected:n,tier:a,label:"Pay monthly",userType:r}),(0,s.jsx)("div",{className:"gray f7 mt3",children:"All dollar amounts are in USD."})]})},l=e=>{let{interval:t,selected:n,setSelected:i,tier:l,label:o,userType:c}=e;const d="year"===t?1-(0,r.V_)(l,"year",c)/(0,r.V_)(l,"month",c):null;return(0,s.jsxs)("button",{className:"flex b--none bg-inherit pointer flex items-center ph0",onClick:()=>i(t),children:[(0,s.jsx)(a.E,{className:"pv1",checked:n===t,readOnly:!0}),(0,s.jsxs)("div",{className:"dib flex items-center",children:[o,!!d&&(0,s.jsxs)("span",{className:"bg-silver pa1 dark-gray ml1 f7 br2",children:[(100*d).toFixed(0),"% discount"]})]})]})}},13812:function(e,t,n){n.d(t,{Y:function(){return p}});var s=n(85893),a=n(65988),r=n.n(a),i=n(765),l=n(49516),o=n(12447),c=n(27193),d=n(66421),u=n(98153),h=n(33090),m=n(36815);const b=e=>{let{tier:t,interval:n,selected:a,setSelected:o,shouldResubscribe:d,previous:b,footnote:p,longDescription:x,footnotePosition:f="outside",userType:v,showTrial:g,canDelayBilling:C,label:j=(0,m._n)(t,v)}=e;const w="team"===v,y=(0,c.XU)((0,u.V_)(t,n,v)),k=(0,i.M)(),N=w?m.zJ:m.VM;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>o(t),style:a===t?{boxShadow:"0px 0px 0px 3px var(--faint-blue)"}:{},role:"radio","aria-checked":a===t,tabIndex:0,onKeyPress:()=>o(t),className:"jsx-923ea5dea019d354 "+"bg-white pa3 ba br3 pointer flex items-start ".concat(a===t?"b--blue":"b--silver"),children:[(0,s.jsx)(h.E,{"aria-labelledby":k,checked:a===t,readOnly:!0,tabIndex:-1}),(0,s.jsxs)("div",{style:{gap:"8px"},className:"jsx-923ea5dea019d354 tl flex flex-column h-100 w-100",children:[(0,s.jsxs)("label",{id:k,"data-cy":"tier-label",className:"jsx-923ea5dea019d354 f5 fw5 flex",children:[(0,s.jsx)("span",{className:"jsx-923ea5dea019d354 flex-auto",children:j}),b&&b===t&&(0,s.jsx)("div",{className:"jsx-923ea5dea019d354 bg-faint-blue dark-blue br2 pa1 f7 lh-solid",children:d?"Resubscribe":g?"Trial active":"Current plan"})]}),x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-923ea5dea019d354 f6 fw4 lh-copy",children:N[t].description}),(0,s.jsx)("div",{className:"jsx-923ea5dea019d354 flex-auto",children:N[t].features.map(((e,t)=>(0,s.jsxs)("div",{className:"jsx-923ea5dea019d354 pt2 inline-flex w-100",children:[(0,s.jsx)(l.Z,{className:"flex-shrink-0"}),(0,s.jsx)("div",{className:"jsx-923ea5dea019d354 ml2",children:e})]},t)))})]}):(0,s.jsx)("div",{className:"jsx-923ea5dea019d354 f6 fw4 lh-copy flex-auto",children:m.qJ[t]}),(0,s.jsxs)("div",{className:"jsx-923ea5dea019d354 flex items-center mt2 pt3 bt b--silver",children:[(0,s.jsx)("div",{className:"jsx-923ea5dea019d354 f3 mr2 serif",children:y}),w?" per editor":""," per month",C?", 30-day free trial":"",x&&"pro"===t&&"individual"===v?(0,s.jsx)("strong",{className:"jsx-923ea5dea019d354",children:", 30 days free"}):"",p&&("outside"===f?(0,s.jsx)("span",{className:"jsx-923ea5dea019d354 mid-gray",children:"*"}):(0,s.jsxs)(s.Fragment,{children:[", ",p]}))]})]})]}),(0,s.jsx)("div",{className:"jsx-923ea5dea019d354 tr mid-gray",children:p&&"outside"===f&&(0,s.jsxs)(s.Fragment,{children:["* ",p]})}),(0,s.jsx)(r(),{id:"923ea5dea019d354",children:"button.jsx-923ea5dea019d354:focus{-webkit-box-shadow:0px 0px 0px 3px var(--black-10);-moz-box-shadow:0px 0px 0px 3px var(--black-10);box-shadow:0px 0px 0px 3px var(--black-10)}"})]})},p=e=>{let t,{interval:n,selected:a,setSelected:i,direction:l="auto",shouldResubscribe:c=!1,previous:u,user:h,userType:m,longDescription:p,showTrial:x}=e;t=h?h.type:m;const f="team"===t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:r().dynamic([["9596bd0b0f6f130d",[o.pp,f?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+(("auto"===l?"price-grid":"price-grid-wide")||""),children:[(0,s.jsx)(b,{tier:"public",interval:n,selected:a,setSelected:i,shouldResubscribe:c,previous:u,userType:t,longDescription:p,showTrial:x}),(0,s.jsx)(b,{tier:"pro",interval:n,selected:a,setSelected:i,shouldResubscribe:c,previous:u,userType:t,longDescription:p,showTrial:x,canDelayBilling:!!u&&(0,d.FS)(h,u,"pro")}),"basic"===(null===h||void 0===h?void 0:h.tier)&&(0,s.jsx)(b,{tier:"basic",interval:n,selected:a,setSelected:i,shouldResubscribe:c,previous:u,userType:t,longDescription:p,showTrial:x}),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{tier:"pro_enterprise",interval:n,selected:a,setSelected:i,shouldResubscribe:c,previous:u,footnote:"25 editor minimum",footnotePosition:"column"===l?"inside":"outside",userType:t,longDescription:p,showTrial:x,canDelayBilling:!!u&&(0,d.FS)(h,u,"pro_enterprise")}),"enterprise"===(null===h||void 0===h?void 0:h.tier)&&(0,s.jsx)(b,{tier:"enterprise",label:"Enterprise team",interval:n,selected:a,setSelected:i,shouldResubscribe:c,previous:u,footnote:"25 editor minimum",footnotePosition:"column"===l?"inside":"outside",userType:t,longDescription:p,showTrial:x})]})]}),(0,s.jsx)(r(),{id:"9596bd0b0f6f130d",dynamic:[o.pp,f?"repeat(3, 1fr)":"repeat(2, 1fr)"],children:".price-grid.__jsx-style-dynamic-selector{display:grid;grid-gap:8px 15px;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;grid-template-columns:auto}@media ".concat(o.pp,"{.price-grid.__jsx-style-dynamic-selector{grid-template-columns:").concat(f?"repeat(3, 1fr)":"repeat(2, 1fr)",";grid-template-rows:repeat(2,auto);grid-auto-flow:column}}.price-grid-wide.__jsx-style-dynamic-selector{display:grid;grid-gap:8px 8px;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}")})]})}},88379:function(e,t,n){n.d(t,{i:function(){return m}});var s=n(41799),a=n(99534),r=n(85893),i=n(87769),l=n(34091),o=n(3142),c=n(72815),d=n(92946),u=n(5163),h=n(11846);const m=e=>{var{notebook:t,isUnstyled:n=!1}=e,m=(0,a.Z)(e,["notebook","isUnstyled"]);const b=(0,o.fN)(t);if(!(b||(0,o.dO)(t.owner)))return null;let p,x,f,v="",g="";return(0,o.os)(t)&&(g=" (Read-only)",n||(x="yellow")),n||x||(x=b?"green":(0,o.s9)(t)||(0,o.cg)(t)?"yellow":"purple"),(0,o.nv)(t)?(v="Unlisted",f="Only people with the link can see edits to this notebook.",p=d.ZP):b?(v="Public",f="Anyone can see edits to this notebook.",p=i.Z):(0,o.s9)(t)?(v="Published",f="Anyone can see the published version of this notebook.",p=i.Z):(0,o.cg)(t)?(v="Published unlisted",f="Only people with the link can see the shared version of this notebook.",p=d.ZP):(0,o.hv)(t)?(v="Only you",f="Only you can see your edits to this notebook.",p=l.Z):(0,o.PW)(t)?(v="Shared",f="People you've invited can see edits to this notebook.",p=u.Z):(0,o.nt)(t)&&(v="Team",f="Your team can see edits to this notebook.",p=h.Z),(0,r.jsx)(c.C,(0,s.Z)({className:"lh-f7",icon:p,label:v+g,type:x,title:f},m))}},86723:function(e,t,n){n.d(t,{X:function(){return r}});var s=n(36448),a=n(40042);function r(){const{currentUser:e,context:t}=(0,a.v9)((e=>({currentUser:e.currentUser,context:e.context.context})));if(!e)return null;if(t){const n=e.teams.find((e=>e.id===t.id));if(n&&(0,s.qb)(e,n))return n}return e}},74873:function(e,t,n){n.d(t,{z:function(){return r}});var s=n(67294);const a=()=>{};function r(e){const{index:t,ref:n,dataSelector:r,onDrop:i,onMove:l=a,disabled:o=!1}=e,[,c]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{threshold:t=75,speed:n=4}=e,{0:a,1:r}=(0,s.useState)(null),{0:i,1:l}=(0,s.useState)(null);return(0,s.useEffect)((()=>{null===i?r(null):i<t?r(-1):i>window.innerHeight-t?r(1):r(null)}),[i,t]),(0,s.useEffect)((()=>{let e;const t=s=>{const r=performance.now()-s,i=-1===a&&0===window.scrollY,l=1===a&&document.body.scrollHeight-window.scrollY<=window.innerHeight;null===a||i||l||(window.scrollBy(0,r*a*n),e=window.requestAnimationFrame(t))};if(null!==a)return e=window.requestAnimationFrame(t),()=>window.cancelAnimationFrame(e)}),[a,n]),[i,l]}();(0,s.useEffect)((()=>{if(!o&&n&&n.current){const e=n.current;let s,a;const o=()=>{const e=r.split("-").map(((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.substring(1))).join("");return[...document.querySelectorAll("[data-".concat(r,"]"))].map((t=>{const n=t.getBoundingClientRect();return{index:+(t.dataset[e]||0),top:n.top+window.scrollY,bottom:n.bottom+window.scrollY}}))},d=e=>{let t=1/0,n=null,s=null;for(let r=0;r<a.length;r++){const i=a[r],l=Math.abs(e-i.top),o=Math.abs(e-i.bottom);l<t&&(t=l,n=i.index),o<t&&(t=o,n=a.length>r+1?a[r+1].index:null,s=i.index)}return{next:n,previous:s}},u=()=>{for(const e of document.querySelectorAll(".show-before,.show-after"))e.classList.remove("show-before","show-after")},h=e=>{const{next:t,previous:n}=d(e);var s;if(u(),null!==t)null===(s=document.querySelector("[data-".concat(r,'="').concat(t,'"]')))||void 0===s||s.classList.add("show-before");else if(n){var a;null===(a=document.querySelector("[data-".concat(r,'="').concat(n,'"]')))||void 0===a||a.classList.add("show-after")}},m=()=>{addEventListener("pointermove",x,!0),addEventListener("pointerup",f,!0)},b=()=>{removeEventListener("pointermove",x,!0),removeEventListener("pointerup",f,!0)},p=e=>{i&&void 0!==t&&(a=o(),s=e.clientY,m())},x=e=>{const t=e.pageY,n=e.clientY;null!==s&&Math.abs(t-s)>10&&(l(e),h(t),c(n))},f=e=>{if(i&&void 0!==t){const n=e.pageY,{next:r,previous:l}=d(n);i(t,r,l),c(null),u(),b(),s=null,a=[]}};return e.addEventListener("pointerdown",p),()=>{e.removeEventListener("pointerdown",p),b()}}}),[t,n,r,o,l,i,c])}},98055:function(e,t,n){n.d(t,{$:function(){return a}});var s=n(67294);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{0:t,1:n}=(0,s.useState)(new Set(e)),a=(0,s.useCallback)((e=>n((t=>t.has(e)?t:new Set([...t,e])))),[n]),r=(0,s.useCallback)((e=>n((t=>t.has(e)?new Set([...t].filter((t=>t!==e))):t))),[n]),i=(0,s.useCallback)(((e,t)=>{(t?a:r)(e)}),[a,r]),l=(0,s.useCallback)((e=>n((t=>t.has(e)?new Set([...t].filter((t=>t!==e))):new Set([...t,e])))),[n]),o=(0,s.useCallback)((()=>n(new Set)),[n]);return{value:t,add:a,remove:r,set:i,toggle:l,removeAll:o}}},70915:function(e,t,n){n.d(t,{BL:function(){return d},L7:function(){return o},WG:function(){return l},iM:function(){return c}});var s=n(41799),a=n(69396),r=n(602),i=n(88725);function l(e){return"/collection/@".concat(e.owner.login,"/").concat(e.slug)}function o(e,t){return"".concat((0,i.Bi)(e),"?collection=@").concat(t.owner.login,"/").concat(t.slug)}function c(e){return"private"===e.type?"team"===e.owner.type?"Team Private":"Private":"Public"}async function d(e,t,n,i){const l=await(0,r.Fv)("/collection/new",{title:e,type:t,owner:n.id,description:i});if(l)return(0,a.Z)((0,s.Z)({},l),{owner:n})}},98153:function(e,t,n){function s(e,t,n){if("team"===n)switch(e){case"public":return 0;case"basic":case"pro":return"year"===t?12:15;case"enterprise":return 40;case"pro_enterprise":return 75;default:throw new Error("Unexpected team tier ".concat(e))}else switch(e){case"public":case"basic":return 0;case"pro":return"year"===t?12:15;default:throw new Error("Unexpected individual tier ".concat(e))}}function a(e,t,n){return"enterprise"===e?i([{upTo:25,flatAmount:1e3,unitAmount:0},{upTo:50,flatAmount:0,unitAmount:40},{upTo:1/0,flatAmount:0,unitAmount:15}],n):"pro_enterprise"===e?i([{upTo:25,flatAmount:1875,unitAmount:0},{upTo:75,flatAmount:0,unitAmount:75},{upTo:1/0,flatAmount:0,unitAmount:24}],n):n*s(e,t,"team")}function r(e){var t;const n=null===(t=e.subscriptions)||void 0===t?void 0:t.data[0];if(!n)return null;const s=n.plan;if(!s)return null;var a;const r=null!==(a=n.quantity)&&void 0!==a?a:1,l="day"!==s.interval&&"week"!==s.interval?s.interval:"month";if(s.amount)return{amountTotal:s.amount/100*r,amountPerEditor:s.amount/100,interval:l,scheme:"per_unit"};if(s.tiers){var o,c,d;return{amountTotal:i([...s.tiers].map((e=>({upTo:null!==(o=e.up_to)&&void 0!==o?o:1/0,flatAmount:null!==(c=e.flat_amount)&&void 0!==c?c:0,unitAmount:null!==(d=e.unit_amount)&&void 0!==d?d:0}))),r)/100,interval:l,scheme:"tiered"}}return null}function i(e,t){e=[...e].sort(((e,t)=>e.upTo-t.upTo));let n=0,s=0;for(const a of e){if(s+=a.flatAmount,!(t>=a.upTo)){s+=(t-n)*a.unitAmount;break}s+=(a.upTo-n)*a.unitAmount,n=a.upTo}return s}n.d(t,{V_:function(){return s},Xl:function(){return r},j3:function(){return a}})},81816:function(e,t,n){function s(e){const t=new URLSearchParams;for(const n of Object.keys(e)){const s=e[n];void 0!==s&&t.append(n,s.toString())}return t.toString()}n.d(t,{P:function(){return s}})},24018:function(e,t,n){n.d(t,{Bz:function(){return l},O5:function(){return r},o0:function(){return i}});var s=n(41799),a=n(69396);const r="@observablehq/templates";function i(e){return e.listings.map((e=>(0,a.Z)((0,s.Z)({},e),{title:e.title.replace("Templates: ","")}))).filter((e=>"collection"===e.listing_type))}function l(e){return e.listings.filter((e=>"notebook"===e.listing_type)).sort(((e,t)=>e.title.localeCompare(t.title)))}},98843:function(e,t,n){n.d(t,{f:function(){return s}});const s=()=>({type:"common",slices:{},listeners:{}})},65538:function(e,t,n){n.d(t,{$j:function(){return r},zt:function(){return s.zt}});var s=n(14416),a=n(54924);const r=(0,a.S3)();(0,a.gR)()},12558:function(e,t,n){n.d(t,{$j:function(){return r},I0:function(){return i},v9:function(){return l},zt:function(){return s.zt}});var s=n(14416),a=n(54924);const r=(0,a.S3)();function i(){return(0,s.I0)()}const l=(0,a.gR)()},2545:function(e,t,n){n.d(t,{gj:function(){return c},th:function(){return o},xl:function(){return d}});var s=n(41799),a=n(69396),r=n(602),i=n(11163),l=n.n(i);function o(e){try{var t,n,r,i,l;const h=null===(t=e.stripe_customer)||void 0===t?void 0:t.subscriptions.data[0],m=null===(n=e.stripe_payment_methods)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.card,b=null===h||void 0===h?void 0:h.items.data[0].plan,p=null===b||void 0===b?void 0:b.interval,x="day"!==p&&"week"!==p&&p?p:"month";var o,c,d,u;return{tier:e.tier,interval:e.interval,stripe_customer:(0,s.Z)((0,a.Z)((0,s.Z)({},h?(0,s.Z)({subscription:{amount:null!==(o=null===b||void 0===b?void 0:b.amount)&&void 0!==o?o:1,quantity:null!==(c=h.items.data[0].quantity)&&void 0!==c?c:1,interval:x,cancel_at_period_end:h.cancel_at_period_end,current_period_start:h.current_period_start,current_period_end:h.current_period_end,tier:e.tier}},m?{billing:{card:m}}:null):{}),{delinquent:null!==(d=null===(i=e.stripe_customer)||void 0===i?void 0:i.delinquent)&&void 0!==d?d:null,id:null!==(u=null===(l=e.stripe_customer)||void 0===l?void 0:l.id)&&void 0!==u?u:""}),h?{subscriptions:{data:[(0,a.Z)((0,s.Z)({},b?{plan:{billing_scheme:b.billing_scheme,interval:b.interval,amount:b.amount}}:null),{quantity:h.items.data[0].quantity,trial_end:h.trial_end,trial_start:h.trial_start})]}}:null)}}catch(h){return e}}const c=async(e,t,n)=>{const s=l().query.update;n({type:"customerUpdated",customer:o(await(0,r.a8)("/billing/".concat(t.user.login).concat(s?"?update=true":"")))})},d=(e,t)=>{let{customer:n}=t;return{customer:n}}}}]);