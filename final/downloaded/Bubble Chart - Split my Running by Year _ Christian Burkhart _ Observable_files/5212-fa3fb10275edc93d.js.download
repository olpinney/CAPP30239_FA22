"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5212],{51517:function(e,s,n){var t=n(41799),r=n(69396),l=n(85893);n(67294);s.Z=e=>(0,l.jsx)("svg",(0,r.Z)((0,t.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 4C5.25 4.69036 4.69036 5.25 4 5.25C3.30964 5.25 2.75 4.69036 2.75 4C2.75 3.30964 3.30964 2.75 4 2.75C4.69036 2.75 5.25 3.30964 5.25 4ZM4.99921 6.56284C6.02397 6.16301 6.75 5.16629 6.75 4C6.75 2.48122 5.51878 1.25 4 1.25C2.48122 1.25 1.25 2.48122 1.25 4C1.25 5.16569 1.97529 6.16198 2.99921 6.56222L3.00108 11.4944C3.00171 13.1508 4.34467 14.4933 6.00108 14.4933H7C7.55228 14.4933 8 14.0456 8 13.4933C8 12.941 7.55228 12.4933 7 12.4933H6.00108C5.44894 12.4933 5.00129 12.0458 5.00108 11.4937L4.99921 6.56284ZM9.49821 4.01055C8.94593 4.01056 8.49902 3.56284 8.50001 3.01056C8.50099 2.45827 8.9495 2.01055 9.50179 2.01055L10.009 2.01054C11.6635 2.01053 13.0033 3.35005 13.0036 5.00459L13.0045 9.62837C14.0274 10.0291 14.7517 11.0249 14.7517 12.1898C14.7517 13.7086 13.5205 14.9398 12.0017 14.9398C10.4829 14.9398 9.25172 13.7086 9.25172 12.1898C9.25172 11.0227 9.97871 10.0255 11.0045 9.62617L11.0036 5.00857C11.0035 4.45705 10.5569 4.01055 10.0054 4.01055L9.49821 4.01055ZM10.7517 12.1898C10.7517 11.4994 11.3114 10.9398 12.0017 10.9398C12.6921 10.9398 13.2517 11.4994 13.2517 12.1898C13.2517 12.8802 12.6921 13.4398 12.0017 13.4398C11.3114 13.4398 10.7517 12.8802 10.7517 12.1898Z",fill:"currentColor"})}))},82162:function(e,s,n){var t=n(41799),r=n(69396),l=n(85893);n(67294);s.Z=e=>(0,l.jsx)("svg",(0,r.Z)((0,t.Z)({viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",width:"16",height:"16"},e),{children:(0,l.jsx)("path",{d:"M13.075 3.925A3.157 3.157 0 0 0 10.842 3c-.838 0-1.641.478-2.233 1.07L8 4.68l-.609-.61c-1.233-1.233-3.233-1.378-4.466-.145a3.158 3.158 0 0 0 0 4.467L3.534 9 8 13.788 12.466 9l.609-.608a3.157 3.157 0 0 0 0-4.467z"})}))},31127:function(e,s,n){var t=n(41799),r=n(69396),l=n(85893);n(67294);s.Z=e=>(0,l.jsx)("svg",(0,r.Z)((0,t.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6C5 4.34315 6.34315 3 8 3C9.65685 3 11 4.34315 11 6V9H5V6ZM3 9V6C3 3.23858 5.23858 1 8 1C10.7614 1 13 3.23858 13 6V9H14V11H2V9H3ZM5 12C5 13.6569 6.34315 15 8 15C9.65685 15 11 13.6569 11 12H9C9 12.5523 8.55228 13 8 13C7.44772 13 7 12.5523 7 12H5Z",fill:"currentColor"})}))},96675:function(e,s,n){n.d(s,{$:function(){return c}});var t=n(85893),r=n(22007),l=(n(67294),n(41799)),a=n(69396);var i=e=>(0,t.jsx)("svg",(0,a.Z)((0,l.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00001 2L3 2H2L2 3L2.00001 8L4.00001 8L4.00001 5.47903L6.93541 8.41443L8.34963 7.00022L5.34941 4L8.00001 4L8.00001 2ZM8.00001 14H13H14V13V8H12V10.6122L9.50723 8.15797L8.10409 9.58317L10.5589 12H8.00001V14Z",fill:"currentColor"})}));const c=e=>{let{dispatch:s}=e;return{onSelect:()=>{s({type:"enterFullscreen"})},disabled:!r.Z.fullscreenEnabled,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{className:"mr2 h1 w1"}),"View in fullscreen"]})}}},54098:function(e,s,n){n.d(s,{A:function(){return d}});var t=n(85893),r=n(3142),l=n(36448),a=(n(67294),n(31127)),i=n(41799),c=n(69396);var o=e=>(0,t.jsx)("svg",(0,c.Z)((0,i.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.03048 5.44473L5 7.41424V9H6.58576L8.58576 11H2V9H3V6C3 5.81231 3.01034 5.62704 3.03048 5.44473ZM11 8.58582L6.09584 3.68166C6.61382 3.25573 7.27705 3 8 3C9.65685 3 11 4.34315 11 6V8.58582ZM13 10.5858V9V6C13 3.23858 10.7614 1 8 1C6.72467 1 5.56087 1.47747 4.67759 2.26341L3.51959 1.10541L2.10538 2.51962L13.5741 13.9884L14.9883 12.5742L13 10.5858ZM10.761 13.1753L9.58576 12H9C9 12.5523 8.55228 13 8 13C7.44772 13 7 12.5523 7 12H5C5 13.6569 6.34315 15 8 15C9.23974 15 10.3038 14.248 10.761 13.1753Z",fill:"currentColor"})}));const d=e=>{let{notebook:s,dispatch:n}=e;const{subscriptionState:i}=s;if(!(0,l.jF)(s)||(0,r.ws)(s)&&(0,r.hv)(s))return null;const c="comments"===i;return{onSelect:()=>{n({type:"updateSubscription",status:c?"none":"comments",trigger:"click",source:"notebookHeaderActionsMenu"})},children:(0,t.jsx)(t.Fragment,{children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{className:"mr2 h1 w1"})," Disable notifications"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{className:"mr2 h1 w1"})," Enable notifications"]})})}}},43360:function(e,s,n){n.d(s,{A:function(){return l}});var t=n(85893),r=n(25091);const l=e=>{let{notebook:{safe:s},dispatch:n}=e;return{onSelect:()=>n({type:s?"exitSafe":"enterSafe"}),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{className:"mr2 h1 w1"}),s?"Disable":"Enable"," safe mode"]})}}},5581:function(e,s,n){n.d(s,{e:function(){return l}});var t=n(85893),r=(n(67294),n(3764));const l=e=>{let{dispatch:s,page:n}=e;return{onSelect:()=>s({type:"togglePane",pane:"databases"}),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{className:"mr2 h1 w1"}),"databases"===(null===n||void 0===n?void 0:n.pane)?"Hide databases":"Show databases"]})}}},30410:function(e,s,n){n.d(s,{m:function(){return l}});var t=n(85893),r=(n(67294),n(28041));const l=e=>{let{dispatch:s,page:n}=e;return{onSelect:()=>s({type:"togglePane",pane:"files"}),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{className:"mr2 h1 w1"}),"files"===(null===n||void 0===n?void 0:n.pane)?"Hide files":"Show files"]})}}},18530:function(e,s,n){n.d(s,{S:function(){return l}});var t=n(85893),r=n(98807);const l=e=>{let{dispatch:s,page:n}=e;return{onSelect:()=>s({type:"togglePane",pane:"help"}),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{className:"mr2 h1 w1"}),"help"===(null===n||void 0===n?void 0:n.pane)?"Hide help":"Show help"]})}}},23929:function(e,s,n){n.d(s,{P:function(){return o}});var t=n(85893),r=n(89905),l=n(74080),a=n(66421),i=n(3142),c=(n(67294),n(15706));const o=e=>{let{notebook:s,dispatch:n}=e;return(0,i.Or)(s)?(0,a.sm)(s.suggestionFrom)?{onSelect:()=>n({type:"showModal",modal:"closeSuggestion",modalProps:{trigger:"click",source:"notebookContextMenu"}}),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{className:"mr2 h1 w1"}),"Close suggestion"]})}:null:(0,a.uh)(s)?{onSelect:()=>n({type:"showModal",modal:"suggest"}),disabled:!(0,l.MJ)(s),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.v,{className:"mr2 h1 w1"}),"Suggest"]})}:null}},19702:function(e,s,n){n.d(s,{EX:function(){return b},N_:function(){return u},TR:function(){return p},jL:function(){return g},y:function(){return f}});var t=n(41799),r=n(69396),l=n(99534),a=n(85893),i=n(65988),c=n.n(i),o=n(67294),d=n(89905),m=n(21142),h=n(49282);const x=(0,o.createContext)("white"),u=e=>{var{className:s="",title:n,children:i,icon:c,iconPosition:o="left"}=e,d=(0,l.Z)(e,["className","title","children","icon","iconPosition"]);return(0,a.jsx)(x.Consumer,{children:e=>(0,a.jsxs)("button",(0,r.Z)((0,t.Z)({className:"".concat(s," nowrap hover-bg-black-translucent-1 fw6 pa2 br2 no-underline ").concat(e," bn bg-transparent pointer flex items-center animate-all")},d),{title:n,children:["right"===o&&i,c&&(0,a.jsx)(c,{className:i?"right"===o?"ml1":"mr1":""}),"left"===o&&i]}))})},p=e=>{var{className:s="",children:n}=e,i=(0,l.Z)(e,["className","children"]);return(0,a.jsx)("b",(0,r.Z)((0,t.Z)({className:"".concat(s," nowrap")},i),{children:n}))},b=e=>{var{className:s="",fill:n=!1,children:i}=e,o=(0,l.Z)(e,["className","fill","children"]);return(0,a.jsxs)("span",(0,r.Z)((0,t.Z)({},o),{className:"jsx-8132097b44fd70db "+(o&&null!=o.className&&o.className||"".concat(s," ").concat(n?"truncate fill":"nowrap")),children:[i,(0,a.jsx)(c(),{id:"8132097b44fd70db",children:".fill.jsx-8132097b44fd70db{-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}"})]}))},f=e=>{let{title:s,children:n,icon:t}=e;return(0,a.jsxs)("div",{className:"flex-auto flex items-center".concat(s?" tooltipped tooltipped-sw":""),"aria-label":s,children:[t&&(0,a.jsx)(t,{className:"mr1"}),(0,a.jsx)("div",{children:n})]})},g=e=>{let{children:s,onExit:n,exitLabel:t,bgColor:r,color:l="white",stuck:i,menuActionList:o}=e;const p=(0,a.jsxs)(x.Provider,{value:l,children:[(0,a.jsx)("div",{className:"pv2 ".concat(l," flex-auto flex-wrap flex items-center"),children:s}),(0,a.jsxs)("div",{className:"flex mt0-ns items-center",children:[i&&(0,a.jsx)(h._i,{buttonType:"banner",actions:o,buttonClassname:l}),n&&(0,a.jsx)(u,{onClick:n,title:t,icon:d.Z})]})]});return i?(0,a.jsx)("div",{className:r,"data-cy":"notebook-banner",children:(0,a.jsx)(m.Z,{children:(0,a.jsx)("div",{className:"flex justify-between items-center lh-copy",children:p})})}):(0,a.jsxs)(m.Z,{children:[(0,a.jsx)("div",{"data-cy":"notebook-banner",className:"jsx-29da0802843cbb56 "+"banner flex ph3 br2 justify-between items-center lh-copy ".concat(r),children:p}),(0,a.jsx)(c(),{id:"29da0802843cbb56",children:".banner.jsx-29da0802843cbb56{margin-left:-webkit-calc(var(--spacing-medium)*-1);margin-left:-moz-calc(var(--spacing-medium)*-1);margin-left:calc(var(--spacing-medium)*-1);margin-right:-webkit-calc(var(--spacing-medium)*-1);margin-right:-moz-calc(var(--spacing-medium)*-1);margin-right:calc(var(--spacing-medium)*-1);min-height:46px}"})]})}},5196:function(e,s,n){n.d(s,{n:function(){return Ve}});var t=n(41799),r=n(69396),l=n(99534),a=n(85893),i=n(65988),c=n.n(i),o=n(14151),d=n(34236),m=n(69150),h=n(67294),x=n(11210),u=n(78009),p=n(21142),b=n(66421),f=n(3142),g=n(81685),j=n(5163),v=n(11846);const k=e=>{let{notebook:s,currentUser:n,dispatch:t}=e;return(0,a.jsx)("button",{"data-cy":"access-level",className:"flex items-center pa0 bg-transparent bn hover-blue pointer","aria-label":"Open sharing settings",onClick:()=>t({type:"showModal",modal:"sharing"}),title:(0,f.PW)(s)&&n&&s.owner.id===n.id?"The working version of this notebook is shared with other users.":(0,f.PW)(s)&&"team"!==s.owner.type?"The working version of this notebook has been shared with you.":(0,f.PW)(s)?"Some teammates can see the working version of this notebook.":(0,f.nt)(s)?"Your entire team can see the working version of this notebook.":(0,f.ws)(s)?"Only you can see this notebook.":"Only you can see the working version of this notebook.",children:(0,f.hv)(s)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{className:"mr1 moon-gray"}),"You"]}):(0,f.PW)(s)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"mr1 moon-gray"}),"Shared"]}):(0,f.nt)(s)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{className:"mr1 moon-gray"}),"Team"]}):null})};k.applies=e=>{let{notebook:s}=e;return!((0,f.fN)(s)||(0,f.dO)(s.owner))&&(0,b.yF)(s)};var N=n(80453),w=n(48634),y=n(94184),Z=n.n(y),C=n(54329),L=n(84193),F=n(42568),S=n(42019),H=n(12447),M=n(70915),V=n(27193),R=n(36448);const T="flex items-center pa0 bg-transparent bn hover-blue pointer no-underline",_=e=>{let{notebook:s,dispatch:n}=e;const t=(0,S.h)(s),{collections:r}=s,l=(0,H.GS)(H.hs);return 1===r.length?(0,a.jsx)(L.Z,{href:l?(0,M.L7)(s,t):(0,M.WG)(t),children:(0,a.jsxs)("a",{"data-cy":"collections","aria-label":"Open collections browser",className:T,onClick:e=>{e.metaKey||e.ctrlKey||(n({type:"setOpenCollection",collection:r[0]}),e.preventDefault())},children:[(0,a.jsx)(C.Z,{className:"mr1 moon-gray",style:{flexShrink:0}}),(0,V.Ui)(t)]})}):(0,a.jsxs)(w.v2,{children:[(0,a.jsxs)(w.j2,{className:T,children:[(0,a.jsx)(C.Z,{className:"mr1 moon-gray",style:{flexShrink:0}}),(0,V.CZ)(r.length),"\xa0collections"]}),(0,a.jsx)(w.qy,{className:"reach-menu",children:(0,a.jsx)("div",{className:"pt2",children:(0,a.jsxs)("div",{className:"overflow-y-auto bg-white z-5 shadow-3 br2",style:{maxHeight:320,maxWidth:260},children:[(0,a.jsx)("div",{className:"flex pa2 f7 fw5 items-center justify-between bb b--light-silver",children:(0,a.jsx)("span",{children:"Listed in..."})}),r.map(((e,t)=>(0,a.jsxs)(w.Uk,{style:{display:"grid",gridTemplateColumns:"60px auto",alignItems:"center",gridGap:"0 10px"},onClick:s=>{s.metaKey||s.ctrlKey||(n({type:"setOpenCollection",collection:e}),s.preventDefault())},href:l?(0,M.L7)(s,e):(0,M.WG)(e),className:Z()("pa2",F.np),children:[(0,a.jsx)(U,{thumbnail:e.thumbnail}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"pt1 f6 fw6 mr1 near-black ws-normal",title:(0,V.Ui)(e),children:(0,V.Ui)(e)}),(0,a.jsx)("div",{className:"pt1 f7 inline-flex items-center mid-gray",children:(0,R.RX)(e.owner)})]})]},t)))]})})})]})};function U(e){let{thumbnail:s}=e;const n={width:"calc(100% - ".concat(6,"px)"),height:"calc(100% - ".concat(6,"px)")};return(0,a.jsxs)("div",{className:"relative",style:{width:54,height:40},children:[(0,a.jsx)("div",{className:"absolute bg-white ba b--silver br2",style:(0,t.Z)({top:6,left:6},n)}),(0,a.jsx)("div",{className:"absolute bg-white ba b--silver br2",style:(0,t.Z)({top:3,left:3},n)}),(0,a.jsx)("div",{className:"absolute ba b--silver br2 ".concat(s?"bg-center cover ":" "),style:(0,r.Z)((0,t.Z)({top:0,left:0},n),{backgroundImage:s?"url(".concat("https://static.observableusercontent.com","/thumbnail/").concat(s,".jpg)"):"var(--checkerboard)"})})]})}_.applies=e=>{let{notebook:s}=e;return s.collections.length>0};var P=n(52155),O=n(602),E=n(82893),B=n(88725),G=n(62990),D=n(17905),z=n(76267),I=n(22027),W=n(37720);const A=()=>(0,a.jsx)("span",{className:"mh1 light-gray",children:"\u2022"});function X(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,a.jsx)("div",{className:"br2 ba b--silver",style:{paddingTop:"62.5%",backgroundImage:e.thumbnail?"url(".concat("https://static.observableusercontent.com","/thumbnail/").concat(e.thumbnail,".jpg)"):"var(--checkerboard)"}},s)}function Y(e,s,n){const t=s.length>1;if(t){const e=s.concat(s).slice(0,4);s=e}const r=s[0],l=t?"".concat((0,B.Bi)(e),"/forks"):(0,B.Bi)(r),i=t?"".concat(n," more..."):(0,V.Ui)(s[0]);return(0,a.jsx)(L.Z,{href:l,children:(0,a.jsxs)("a",{className:"pa2 nl2 nr2 no-underline near-black hover-light-blue hover-bg-near-white b--silver",style:{display:"grid",gridTemplateColumns:"60px auto",alignItems:"center",gridGap:"0 10px"},children:[1===s.length?X(r):(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridColumn:"1 / 2",gap:"2px"},children:s.map(X)}),(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"truncate pv1 f6 fw5",children:(0,a.jsx)("span",{title:i,className:"mr1",children:i})}),!t&&(0,a.jsx)("div",{className:"pb1 f7 mid-gray",children:(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)("span",{children:(0,R.RX)(r.owner)}),(0,a.jsx)("span",{title:(0,G.mr)(new Date(r.update_time)),className:"ml2 nowrap",children:(0,G.LN)(new Date(r.update_time),new Date)}),r.likes>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{className:"mh1 moon-gray"}),(0,a.jsx)("span",{children:(0,V.CZ)(r.likes)})]}):null]})})]})})]})},r.id)}function K(e,s){return s.some((s=>e.owner.id===s.id))}function J(e){let{notebook:s,numForks:n,forks:t,title:r}=e,l=t.slice(0,3),i=n-l.length;1===i&&(i=0,l=t.slice(0,4));const c=t.slice(n).concat(t);return(0,a.jsx)(a.Fragment,{children:0!==l.length&&(0,a.jsxs)("div",{className:"f7 bt mid-gray pa2 b--silver",children:[(0,a.jsx)("div",{className:"pb2",children:r}),l.map((e=>Y(s,[e]))),i?Y(s,c,i):""]})})}function q(e){let{notebook:s,currentUser:n,numForks:t}=e;const[r]=(0,O.h_)("/document/".concat(s.slug?"@".concat(s.owner.login,"/").concat(s.slug):s.id,"/forks?type=").concat(n?"all":"public")),l=r||[],i=l.filter((e=>K(s,e.authors))),c=l.filter((e=>!K(s,e.authors)));return(0,a.jsx)("div",{className:"dark-gray",children:r?(0,a.jsxs)("div",{className:"overflow-y-auto",style:{maxHeight:500},children:[(0,a.jsxs)("div",{className:"flex pa2 f7 fw5 items-center justify-between",children:[(0,a.jsx)("span",{children:(0,f.YY)(t,"fork","forks")}),(0,a.jsx)(L.Z,{href:"".concat((0,B.Bi)(s),"/forks"),children:(0,a.jsxs)("a",{className:"inline-flex fw5 no-underline blue hover-dark-blue items-center",children:[(0,a.jsx)("span",{className:"nowrap",children:"View all forks"})," ",(0,a.jsx)(D.Z,{className:"ml1"})]})})]}),J({notebook:s,numForks:t,forks:i,title:"Author forks"}),J({notebook:s,numForks:t,forks:c,title:"Community forks"})]}):(0,a.jsxs)("div",{className:"flex pa2 f7 fw5 gray items-center",children:[(0,a.jsx)(I.Z,{className:"mr2 blue"}),(0,a.jsx)("span",{children:"Loading\u2026"})]})})}const Q=e=>{const{open:s,openMenu:n,triggerRef:r,uiRef:l}=(0,E.O)(),{forks:i,forkOf:c}=e.notebook;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.Z,{className:"mr1 moon-gray",style:{flexShrink:0}}),c&&(0,a.jsxs)("div",{className:"truncate",children:["Fork of"," ",(0,a.jsx)(L.Z,{href:(0,B.Bi)(c),children:(0,a.jsx)("a",{className:"no-underline hover-blue",children:(0,V.Ui)(c)})})]}),i&&c?(0,a.jsx)(A,{}):null,i>0&&(0,a.jsxs)("div",{className:"relative ".concat(s?"":"hover-blue"," pointer inline-flex items-center"),ref:r,onClick:n,"data-cy":"forks-dropdown",children:[(0,a.jsx)("span",{className:"inline-flex items-center",children:(0,f.YY)(i,"fork","forks")}),s&&(0,a.jsx)(W.J,{ref:l,extraStyle:{right:"auto",left:0,width:"17rem",marginTop:"0.5rem"},children:(0,a.jsx)(q,(0,t.Z)({numForks:i},e))})]})]})};Q.applies=e=>{let{notebook:s}=e;return!!s.forks||!!s.forkOf};const $=e=>{let{notebook:s}=e;return(0,a.jsx)(L.Z,{href:(0,B.Bi)(s),children:(0,a.jsxs)("a",{className:"pa2 no-underline near-black hover-light-blue hover-bg-near-white bt b--silver",style:{display:"grid",gridTemplateColumns:"60px auto",alignItems:"center",gridGap:"0 10px"},children:[(0,a.jsx)("div",{className:"relative br2 ba b--silver ".concat(s.thumbnail?" cover bg-center":""),style:{paddingTop:"62.5%",backgroundColor:"#fff",backgroundImage:s.thumbnail?"url(".concat("https://static.observableusercontent.com","/thumbnail/").concat(s.thumbnail,".jpg)"):"var(--checkerboard)"}}),(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"truncate pv1 f6 fw5",children:(0,a.jsx)("span",{title:(0,V.Ui)(s),className:"mr1",children:(0,V.Ui)(s)})}),(0,a.jsx)("div",{className:"pb1 f7 fw5 dark-gray",children:(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)("span",{children:(0,R.RX)(s.owner)}),!!s.update_time&&(0,a.jsx)("span",{title:(0,G.mr)(new Date(s.update_time)),className:"ml1 nowrap",children:(0,G.LN)(new Date(s.update_time),new Date)}),s.likes>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{className:"mh1 moon-gray"}),(0,a.jsx)("span",{children:(0,V.CZ)(s.likes)})]}):null]})})]})]})},s.id)};var ee=n(50826),se=n(61777);function ne(e){let{notebook:s}=e;const{slug:n,id:t,owner:r}=s,[l]=(0,O.h_)("/document/".concat(n?"@".concat(r.login,"/").concat(n):t,"/importers?page=1"));return(0,a.jsx)("div",{className:"dark-gray",children:void 0===l?(0,a.jsxs)("div",{className:"flex pa2 f7 fw5 gray items-center",children:[(0,a.jsx)(I.Z,{className:"mr2 blue"}),(0,a.jsx)("span",{children:"Loading\u2026"})]}):(0,a.jsxs)("div",{className:"overflow-y-auto",style:{maxHeight:500},children:[(0,a.jsxs)("div",{className:"flex pa2 f7 fw5 items-center justify-between",children:[(0,a.jsxs)("span",{children:[(0,V.CZ)(l.total)," importer",l.total>1?"s":""]}),(0,a.jsx)(L.Z,{href:"".concat((0,B.Bi)(s),"/importers"),children:(0,a.jsxs)("a",{className:"inline-flex fw5 no-underline blue hover-dark-blue items-center",children:[(0,a.jsx)("span",{className:"nowrap",children:"View all importers"})," ",(0,a.jsx)(D.Z,{className:"ml1"})]})})]}),l.results.map(((e,s)=>(0,a.jsx)($,{notebook:e},s)))]})})}const te=e=>{const{open:s,openMenu:n,triggerRef:r,uiRef:l}=(0,E.O)(),{hasImporters:i}=e.notebook;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(se.Z,{className:"mr1 moon-gray",style:{flexShrink:0}}),i&&(0,a.jsxs)("div",{className:"relative ".concat(s?"":"hover-blue"," pointer inline-flex items-center"),ref:r,onClick:n,"data-cy":"importers-dropdown",children:[(0,a.jsx)("span",{className:"inline-flex items-center",children:(0,a.jsx)("span",{children:"Importers"})}),s&&(0,a.jsx)(W.J,{ref:l,extraStyle:{right:"auto",left:0,width:"17rem",marginTop:"0.5rem"},children:(0,a.jsx)(ne,(0,t.Z)({},e))})]})]})};te.applies=e=>{let{notebook:s,currentUser:n}=e;return s.hasImporters&&(0,ee.U)(n,"show_importers")};var re=n(89642),le=n(93797);function ae(){}const ie=e=>{let{notebook:s}=e;const{model:{license:n}}=s,t=(0,b.mG)(s)||"other"!==n;return(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsx)("button",{className:"flex pa0 f6 dark-gray bg-white button-reset items-center ".concat(t?"pointer hover-blue":""," bn hg lh-solid"),style:{marginTop:-2},"aria-label":"View license",onClick:t?ae:void 0,children:(0,a.jsxs)("span",{className:"flex f6 nowrap items-center",children:[(0,a.jsx)(le.Z,{className:"mr2 moon-gray"}),(0,a.jsxs)("span",{className:"inline-flex items-center",children:[(0,a.jsx)("span",{className:"ph1 code f7 black-50 br2 br--left bg-lightest-red",style:{padding:"3px 5px"},children:"-"}),(0,a.jsx)("span",{className:"ph1 bg-washed-red",style:{padding:"2px 8px 2px 5px"},children:(0,re.ax)("")}),(0,a.jsx)("span",{className:"ph1 code f7 black-50 bg-lightest-green",style:{marginLeft:1,padding:"3px 5px"},children:"+"}),(0,a.jsx)("span",{className:"ph1 bg-washed-green br2 br--right",style:{padding:"2px 8px 2px 5px"},children:(0,re.ax)(n)})]})]})})})};ie.applies=e=>{let{notebook:s}=e;return s.model.license,!1};const ce=(0,n(54924).ZV)((e=>{const{notebook:s}=e;if("notebookCompare"===e.type){const{baseNotebook:n}=e;return{notebook:s,baseLicense:n.model.license,baseCopyright:n.model.copyright}}return{notebook:s}}),(e=>({dispatch:e})))((e=>{let{notebook:s,baseLicense:n,baseCopyright:t,dispatch:r}=e;const{model:{license:l,copyright:i}}=s,c=(0,b.mG)(s)||"other"!==l;function o(){c&&r({type:"showModal",modal:"license"})}return(0,a.jsx)(a.Fragment,{children:(l||n)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.Z,{className:"mr1 moon-gray"}),void 0===n||n===l&&t===i?(0,a.jsx)("button",{className:"flex pa0 f6 dark-gray bg-white button-reset items-center bn ".concat(c?"pointer hover-blue":""),"aria-label":"View license",onClick:o,children:(0,a.jsx)("span",{children:"\xa0".concat((0,re.ax)(l))})}):(0,a.jsx)("button",{className:"flex pa0 f6 dark-gray bg-white button-reset items-center ".concat(c?"pointer hover-blue":""," bn hg lh-solid"),style:{marginTop:-2},"aria-label":"View license",onClick:o,children:(0,a.jsxs)("span",{className:"inline-flex items-center",children:[(0,a.jsx)("span",{className:"ph1 code f7 black-50 br2 br--left bg-lightest-red",style:{padding:"3px 5px"},children:"-"}),(0,a.jsx)("span",{className:"ph1 bg-washed-red",style:{padding:"2px 8px 2px 5px"},children:(0,re.ax)(n)}),(0,a.jsx)("span",{className:"ph1 code f7 black-50 bg-lightest-green",style:{marginLeft:1,padding:"3px 5px"},children:"+"}),(0,a.jsx)("span",{className:"ph1 bg-washed-green br2 br--right",style:{padding:"2px 8px 2px 5px"},children:(0,re.ax)(l)})]})})]})})}));ce.applies=e=>{let{notebook:s,baseNotebook:n}=e;return!!s.model.license||!!(null===n||void 0===n?void 0:n.model.license)};var oe=n(8385),de=n(82162);const me=e=>{let{notebook:{id:s,likes:n}}=e;const[t]=(0,O.h_)("/document/".concat(s,"/likes"));return(0,a.jsx)("div",{className:"dark-gray",children:(0,a.jsxs)("div",{className:"overflow-y-auto",style:{maxHeight:160},children:[(0,a.jsx)("div",{className:"flex pa2 f7 fw5 items-center justify-between",children:(0,a.jsxs)("span",{children:[(0,V.CZ)(n)," like",1===n?"":"s"]})}),t?t.map((e=>(0,a.jsx)(L.Z,{href:(0,R.GN)(e),children:(0,a.jsxs)("a",{className:"pa2 no-underline near-black hover-light-blue hover-bg-near-white bt b--silver",style:{display:"grid",gridTemplateColumns:"16px auto",alignItems:"center",gridGap:"0 10px"},children:[(0,a.jsx)(oe.q,{user:e,size:16,className:"br-pill"}),(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("div",{className:"truncate pv1 f6 fw5",children:(0,a.jsx)("span",{title:(0,R.RX)(e),className:"mr1",children:(0,R.RX)(e)})})})]})},e.id))):null]})})},he=e=>{const{notebook:s,notebook:{likes:n}}=e,{open:r,openMenu:l,triggerRef:i,uiRef:c}=(0,E.O)(),o=(0,a.jsx)(de.Z,{className:"mr1",fill:"var(--white)",stroke:"var(--moon-gray)",style:{width:16,height:16,strokeWidth:2}});return(0,b.mG)(s)?(0,a.jsxs)("div",{className:"relative inline-flex items-center",children:[o,(0,a.jsxs)("button",{"aria-label":r?"":"See who liked this notebook",onClick:l,ref:i,className:"flex items-center pa0 bn bg-transparent pointer hover-blue",children:[(0,V.CZ)(n),"\xa0like",1===n?"":"s"]}),r?(0,a.jsx)(W.J,{ref:c,extraStyle:{right:"auto",left:0,width:"15rem",marginTop:"0.5rem"},children:(0,a.jsx)(me,(0,t.Z)({},e))}):null]}):(0,a.jsxs)(a.Fragment,{children:[o,(0,V.CZ)(n),"\xa0Like",1===n?"":"s"]})};he.applies=e=>{let{notebook:s}=e;return s.likes>0};var xe=n(94726);const ue=e=>{let{notebook:s}=e;return(0,a.jsx)(xe.h,{commentingLock:s.commentingLock})};ue.applies=e=>{let{notebook:s}=e;return null!==s.commentingLock&&(s.commentingLock.admin_locked||s.commentingLock.user_locked)};var pe=n(93939),be=n(63231),fe=n(87769),ge=n(92946);const je=e=>{let{notebook:s,dispatch:n}=e;const{publishTime:t,saveTime:r}=s,l=(0,f.dO)(s.owner),i=t||r,c=t&&r>t?r:null,d=(0,pe.L)(i),m=(0,o.d)((0,h.useCallback)((()=>l?"Edited ".concat((0,G.mr)(r)):"".concat((0,f.s9)(s)?"Published ":(0,f.cg)(s)?"Shared ":"Edited ").concat((0,G.mr)(i)).concat(c?"\nEdited ".concat((0,G.mr)(c)):"")),[s,l,i,r,c]),""),x=(0,o.d)((0,h.useCallback)((()=>{const e=(0,b.pT)(s);function t(){e&&n({type:"togglePane",pane:"history"})}return(0,a.jsx)("div",{className:Z()("pl1 no-underline",{"pointer hover-blue":e}),onKeyDown:t,onClick:t,children:(0,G.LN)(l?r:i,d)})}),[s,l,r,i,d,n]),(0,a.jsx)(a.Fragment,{}));return l?(0,a.jsxs)("div",{className:"flex items-center",title:m,children:[(0,a.jsx)(be.Z,{className:"mr1 moon-gray"}),"Edited ",x]}):(0,a.jsxs)(a.Fragment,{children:[(0,f.cg)(s)?(0,a.jsxs)("div",{className:"flex items-center",title:"Only people with the link can see the shared version of this notebook.",children:[(0,a.jsx)(ge.ZP,{className:"mr1 moon-gray"}),"Published (unlisted)"]}):(0,f.s9)(s)?(0,a.jsxs)("div",{className:"flex items-center",title:"Anyone can see the published version of this notebook.",children:[(0,a.jsx)(fe.Z,{className:"mr1 moon-gray"}),"Published"]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(be.Z,{className:"mr1 moon-gray"}),"Edited"]}),(0,a.jsx)("div",{className:"ml1 nowrap dark-gray",title:m,children:x})]})};je.applies=()=>!0;var ve=n(88379);const ke=e=>{var{dispatch:s}=e,n=(0,l.Z)(e,["dispatch"]);const r=(0,b.yF)(n.notebook),i=(0,a.jsx)(ve.i,(0,t.Z)({addHover:r},n));return r?(0,a.jsx)("button",{onClick:()=>s({type:"showModal",modal:"share"}),className:"pa0 bg-transparent bn pointer",children:i}):(0,a.jsxs)(a.Fragment,{children:[" ",i," "]})};ke.applies=e=>{let{notebook:s}=e;return(0,f.fN)(s)||(0,f.dO)(s.owner)};const Ne=[ke,_,N.M,k,je,ce,ie,Q,te,ue,he];var we=e=>{let{notebook:s,baseNotebook:n,currentUser:t,dispatch:r}=e;const l={notebook:s,baseNotebook:n,currentUser:t,user:!0,dispatch:r};return(0,a.jsx)("div",{className:"flex pb3 f6 dark-gray items-center flex-row flex-wrap lh-f6 mw-100","data-cy":"metadata-bar",children:Ne.map(((e,s)=>e.applies(l)?(0,a.jsx)("div",{className:"flex items-center mt2 mr3 min-w-0",children:h.createElement(e,l)},s):null))})},ye=n(49282);const Ze=/\B@([\w-]{1,39})/g,Ce=e=>{const{text:s}=e,{0:n}=(0,h.useState)(s.match(Ze)),[t]=(0,O.h_)(n?"/users-exist?".concat(n.map((e=>"login=".concat(e.substr(1).toLowerCase()))).join("&")):null);if(!t)return(0,a.jsx)(a.Fragment,{children:s});const r=new Map(t),l=[];let i,c=0;for(;null!==(i=Ze.exec(s));){const e=s.substring(c,i.index);e&&l.push((0,a.jsx)(a.Fragment,{children:e}));const n=i[1],t=r.get(n.toLowerCase());t&&"unavailable"!==t?l.push((0,a.jsx)(L.Z,{href:(0,R.GN)({login:n.toLowerCase()}),children:(0,a.jsxs)("a",{className:"no-underline black-70 hover-blue",children:["@",n]})},c)):l.push((0,a.jsxs)(a.Fragment,{children:["@",n]})),c=i.index+i[0].length}return c!==s.length&&l.push((0,a.jsx)(a.Fragment,{children:s.substring(c,s.length)})),l.reduce(((e,s)=>(0,a.jsxs)(a.Fragment,{children:[e,s]})))},Le=e=>{let{user:s,className:n}=e;return(0,a.jsx)(L.Z,{href:(0,R.GN)(s),children:(0,a.jsx)("a",{className:"truncate dib items-center fw7 no-underline near-black hover-blue ".concat(n),children:(0,R.RX)(s)})})},Fe=e=>{let{url:s}=e;return(0,a.jsx)("a",{title:s,href:s,rel:"noopener noreferrer",className:"truncate f6 fw4 no-underline mid-gray hover-blue",children:s.replace(/^https?:\/\//i,"").replace(/\/$/,"")})},Se=e=>{let{owner:s}=e;return(0,a.jsx)("div",{className:"line-clamp-2 fw4 f6 lh-f7 mid-gray",children:s.bio?(0,a.jsx)(Ce,{text:s.bio}):null})};var He=h.memo((function(e){let{owner:s}=e;return(0,a.jsxs)("div",{className:"flex items-center items-top mw6",children:[(0,a.jsx)(L.Z,{href:(0,R.GN)(s),children:(0,a.jsx)("a",{children:(0,a.jsx)(oe.q,{user:s,className:"inline-flex br-100 mw-none",size:46})})}),(0,a.jsxs)("div",{className:"pl2 f6 lh-f6 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(Le,{user:s,className:"flex-shrink-0 mw-100"}),s.home_url&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mh1 light-gray",children:"\u2022"}),(0,a.jsx)(Fe,{url:s.home_url})]})]}),(0,a.jsx)(Se,{owner:s})]})]})}));const Me=e=>{var{stuck:s}=e,n=(0,l.Z)(e,["stuck"]);const{notebook:r}=n,{model:{title:i}}=r;return(0,a.jsxs)(p.Z,{className:"mt2 flex flex-column-reverse justify-center flex-row-ns justify-between-ns items-center-ns",style:{minHeight:m.MT},children:[s?(0,a.jsx)("div",{className:"dn db-ns serif f5 dark-gray b truncate",children:i}):(0,a.jsx)(He,{owner:r.owner}),(0,a.jsx)("div",{className:"self-end self-center-ns nowrap body ".concat(s?"":"mb3 mb0-ns"),"data-cy":"notebook-title",children:(0,a.jsx)(ye.ZP,(0,t.Z)({},n))})]})},Ve=e=>{var{SelectedBanner:s,baseNotebook:n}=e,i=(0,l.Z)(e,["SelectedBanner","baseNotebook"]);const{notebook:m,currentUser:b,promotedActions:f,dispatch:g}=i,j=(0,x.C)(m)||f.some((e=>e.highlight))||void 0!==s,v=(0,h.useRef)(null),k=(0,d.E)(v,{defaultValue:!0}),N=(0,o.d)((0,h.useCallback)((()=>!k&&j),[k,j]),!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:v,className:"jsx-e0896dacb97d8241 mt2 mt3-ns"}),(0,a.jsx)("div",{className:"jsx-e0896dacb97d8241 "+"mb2 mb3-ns bg-white z-1 ".concat(s?"bn banner":"bb"," body ").concat(j?"sticky":""," ").concat(N?"stuck b--light-silver":"b--transparent"),children:s?(0,a.jsx)(s,(0,r.Z)((0,t.Z)({stuck:N},i),{className:"jsx-e0896dacb97d8241 "+(i&&null!=i.className&&i.className||"")})):(0,a.jsx)(Me,(0,t.Z)({stuck:N},i))}),s&&(0,a.jsx)(Me,(0,t.Z)({stuck:!1},i)),(0,a.jsx)(p.Z,{className:"mt1 mt2-ns mb3 mb4-ns",children:(0,a.jsxs)("div",{className:"jsx-e0896dacb97d8241 flex justify-between items-center bb b--light-silver",children:[(0,a.jsx)(we,{notebook:m,baseNotebook:n,currentUser:b,dispatch:g}),(0,a.jsx)(u.l,{size:24})]})}),(0,a.jsx)(c(),{id:"e0896dacb97d8241",children:'.sticky.jsx-e0896dacb97d8241{top:0}.body.jsx-e0896dacb97d8241{padding-right:"calc(420px - max((100vw - 64rem)/2, 0px))"}'})]})}},35831:function(e,s,n){n.d(s,{D:function(){return c}});var t=n(18643),r=n(74080),l=n(66421),a=n(67294),i=n(76020);function c(e){let s;function n(){s&&s.close(),s=void 0}const c=(0,i.x)(e,(()=>{const{notebook:a,currentUser:c}=e.getState(),{id:o}=a,d=(0,l.ZK)(a);(0,r.QY)(a)?(s&&s.id===o&&s.clientRole===d||(n(),s=new t.Z((0,i.Q)(e),d,o)),s.setState(a,c)):n()}));(0,a.useEffect)((()=>()=>{n(),c()}))}},42019:function(e,s,n){n.d(s,{h:function(){return r}});var t=n(27193);function r(e){return e.initialCollection||e.collections.find(function(e){const s=(0,t.Ui)(e);return e=>s.includes((0,t.Ui)(e))}(e.model))||e.collections[0]}}}]);