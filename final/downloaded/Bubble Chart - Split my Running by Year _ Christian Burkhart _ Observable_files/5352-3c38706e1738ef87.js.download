"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5352],{53695:function(e,t,n){n.d(t,{AB:function(){return a},Jq:function(){return w},Kr:function(){return p},Kw:function(){return _},Se:function(){return b},T8:function(){return C},TU:function(){return y},dq:function(){return v},hh:function(){return f},nP:function(){return j},pU:function(){return x},rv:function(){return k},t1:function(){return m},yq:function(){return h}});var r=n(41799),i=n(59119),s=n(78120),o=n(1864);function a(e,t,n){let{from:r,to:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;const o=e.doc.toString(),a=n.length,l=s.length,c=r>=a&&(r+a>i||o.substring(r,r+a)!==n)&&o.substring(r-a,r)===n,d=i+l<=o.length&&(i-l<r||o.substring(i-l,i)!==s)&&o.substring(i,i+l)===s;if(c&&d){return{from:r-a,to:i+l}}if(c&&i>=l&&o.substring(i-l,i)===s){return{from:r-a,to:i}}if(d&&o.substring(r,r+a)===n){return{from:r,to:i+a}}return{from:r,to:i}}function l(e,t){let n=-1;return e.changeByRange((r=>{const i=[];for(let s=r.from;s<=r.to;){const o=e.doc.lineAt(s);o.number>n&&(r.empty||r.to>o.from)&&(t(o,i,r),n=o.number),s=o.to+1}const o=e.changes(i);return{changes:i,range:s.jT.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const c=["Paragraph"],d=["Text","EntityReference","CharacterReference","Element","Comment","ProcessingInst"],u=["Cell","ExpressionStatement","FencedCode","Interpolation"];function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection.main;for(let n=(0,i.qz)(e).resolve(t.to);n&&"Document"!==n.name;n=n.parent){if(d.includes(n.name))return"html";if(u.includes(n.name))return"js";if(c.includes(n.name))return"md"}return e.field(o.C)}const f=e=>{let{state:t,dispatch:n}=e;return!t.readOnly&&("md"===h(t)&&(n(t.update(l(t,((e,t)=>{/^ *([-*+]|[0-9]+\.)/.exec(e.text)?t.push({from:e.from,insert:"    "}):t.push({from:e.from,insert:"> "})})))),!0))},m=e=>{let{state:t,dispatch:n}=e;return!t.readOnly&&("md"===h(t)&&(n(t.update(l(t,((e,t)=>{const n=/^((> ?)|( {4})|( {3})|( {2})|( ))/.exec(e.text);n&&t.push({from:e.from,to:e.from+n[0].length,insert:""})})))),!0))},p=e=>{let{state:t,dispatch:n}=e;return!t.readOnly&&("md"===h(t)&&(n(t.update(l(t,((e,t)=>{const n=/^([ >]*)([+*-] ?)/.exec(e.text);if(n&&n[2])t.push({from:e.from,to:e.from+n[2].length,insert:""});else{const n=/^([ >]*)([0-9]+\. ?)?/.exec(e.text);n&&t.push({from:e.from+n[1].length,to:e.from+n[1].length+(n[2]?n[2].length:0),insert:"- "})}})))),!0))},v=e=>{let{state:t,dispatch:n}=e;if(t.readOnly)return!1;if("md"!==h(t))return!1;let r=1;return n(t.update(l(t,((e,t)=>{const n=/^([ >]*)([0-9]+\. ?)/.exec(e.text);if(n&&n[2])t.push({from:e.from+n[1].length,to:e.from+n[1].length+n[2].length,insert:""});else{const n=/^([ >]*)([+*-] ?)?/.exec(e.text);n&&t.push({from:e.from+n[1].length,to:e.from+n[1].length+(n[2]?n[2].length:0),insert:"".concat(r++,". ")})}})))),!0};function g(e){let{delim:t,delimRegExp:n=new RegExp(t,"g")}=e;return n.flags.includes("g")||(n=new RegExp(n.source,"".concat(n.flags,"g"))),e=>{let{state:r,dispatch:i}=e;if(r.readOnly)return!1;let o=!1;const l=r.update(r.changeByRange((e=>{if("md"!==h(r,e))return{range:e};o=!0;const i=a(r,e,t),l=r.doc.slice(i.from,i.to).toString(),c=l.startsWith(t)&&l.endsWith(t),d=[...l.matchAll(n)].map((e=>{let{index:n=0}=e;return{from:i.from+n,to:i.from+n+t.length,insert:""}})),u=d.length*t.length;return c?{range:s.jT.range(i.from,i.to-u),changes:d}:{range:s.jT.range(i.from+t.length,i.to+t.length-u),changes:[...d,{from:i.from,insert:t},{from:i.to,insert:t}]}})));return i(l),o}}const b=g({delim:"**",delimRegExp:/\*\*/}),x=g({delim:"_"}),y=g({delim:"`"}),w=g({delim:"~~"}),C=e=>{let{state:t,dispatch:n}=e;if(t.readOnly)return!1;const r=t.update(t.changeByRange((e=>{if("md"!==h(t,e))return{range:e};const{from:n,to:r}=e,i=t.doc.slice(n,r).toString(),o=/^\[(.*)\]\([^)]*\)$/.exec(i);if(o){const[,e]=o;return{changes:{from:n,to:r,insert:e},range:s.jT.range(n,n+e.length)}}return{changes:{from:n,to:r,insert:"[".concat(i,"](").concat(i,")")},range:i?s.jT.range(n+i.length+3,n+2*i.length+3):s.jT.cursor(n+1)}})));return!!r.docChanged&&(n(r),!0)},k=e=>{let{state:t,dispatch:n}=e;if(t.readOnly)return!1;let i=0;const o=t.selection.ranges.map((e=>{let{from:n,to:r}=e;const s=t.doc.slice(n,r).toString(),o=/^\$\{(.*)}]$/.exec(s),a=o?o[1]:"${".concat(s,"}");return i=a.length-(r-n)>0?2:-1,{from:n,to:r,insert:a}})),a=function(e){return e.ranges.every((e=>e.from===e.to))}(t.selection)?{selection:s.jT.single(t.selection.main.from+i)}:null;return n(t.update((0,r.Z)({changes:o},a))),!0};function j(e,t){const{state:n}=e;return!n.readOnly&&("md"===h(n)&&(e.dispatch(n.update(l(n,((e,n)=>{const r=/^(> ?)*(#+ ?|[+*-] ?|[0-9]+\. ?)?/.exec(e.text),i=r&&r[1]?r[1].length:0,s=r&&r[2]?r[2].length+i:i;n.push({from:e.from+i,to:e.from+s,insert:"###### ".substring(6-t)})})))),!0))}const _=e=>{let{state:t,dispatch:n}=e;return!t.readOnly&&("md"===h(t)&&(n(t.update(l(t,((e,t)=>{const n=/^(> ?)*(#+ ?|[+*-] ?|[0-9]+\. ?)?/.exec(e.text),r=n&&n[1]?n[1].length:0,i=n&&n[2]?n[2].length+r:r;i>r?t.push({from:e.from+r,to:e.from+i,insert:""}):r>0&&t.push({from:e.from,to:e.from+r,insert:""})})))),!0))}},9606:function(e,t,n){n.d(t,{a:function(){return s},l:function(){return i}});var r=n(91304);const[i,s]=(0,r.Z)(null)},5952:function(e,t,n){n.d(t,{Y:function(){return h},a:function(){return u}});var r=n(45383),i=n(59119),s=n(78120),o=n(14456),a=n(51289),l=n(53695),c=n(9606),d=n(58489);const u=[{key:"Mod-b",run:l.Se},{key:"Mod-i",run:l.pU},{key:a.Mq?"Shift-Mod-x":"Alt-Shift-5",run:l.Jq},{key:"Mod-k",run:l.T8},{key:"Shift-Mod-c",run:l.TU},{key:"Mod-Alt-0",run:l.Kw},{key:"Mod-Alt-1",run:e=>(0,l.nP)(e,1)},{key:"Mod-Alt-2",run:e=>(0,l.nP)(e,2)},{key:"Mod-Alt-3",run:e=>(0,l.nP)(e,3)},{key:"Mod-Alt-4",run:e=>(0,l.nP)(e,4)},{key:"Mod-Alt-5",run:e=>(0,l.nP)(e,5)},{key:"Mod-Alt-6",run:e=>(0,l.nP)(e,6)},{key:"Shift-Mod-7",run:l.dq},{key:"Shift-Mod-8",run:l.Kr},{key:"Mod-[",run:l.t1},{key:"Mod-]",run:l.hh}],h=[{key:"ArrowLeft",run:r.lv,shift:r.m0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:r.ff,shift:r.u9},{mac:"Cmd-ArrowLeft",run:r.Kd,shift:r.WN},{key:"ArrowRight",run:r.L9,shift:r.Ej},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:r.Ku,shift:r.kY},{mac:"Cmd-ArrowRight",run:r.Bx,shift:r.Bn},{key:"ArrowUp",run:r.kh,shift:r.Ie},{mac:"Cmd-ArrowUp",run:r.$8,shift:r.JA},{key:"ArrowDown",run:r.yz,shift:r.fY},{mac:"Cmd-ArrowDown",run:r.ES,shift:r._q},{key:"PageUp",run:r.ZH,shift:r.db},{key:"PageDown",run:r.Pl,shift:r.qh},{key:"Home",run:r.Kd,shift:r.WN},{key:"Mod-Home",run:r.$8,shift:r.JA},{key:"End",run:r.Bx,shift:r.Bn},{key:"Mod-End",run:r.ES,shift:r._q},{key:"Enter",run:r.xx},{key:"Mod-a",run:r.td},{key:"Backspace",run:r.K8,shift:r.K8},{key:"Delete",run:r.F9,shift:r.F9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:r.fE},{key:"Mod-Delete",mac:"Alt-Delete",run:r.rl},{mac:"Mod-Backspace",run:function(e){return m(e,(t=>f(e,s.jT.cursor(t),!1).head))}},{mac:"Mod-Delete",run:function(e){return m(e,(t=>f(e,s.jT.cursor(t),!0).head))}},{key:"Ctrl-b",run:r.lv,preventDefault:!0},{key:"Ctrl-f",run:r.L9},{key:"Ctrl-p",run:r.kh},{key:"Ctrl-n",run:r.yz},{key:"Ctrl-a",run:r.Hj,shift:r.Tb},{key:"Ctrl-e",run:r.AE,shift:r.p7},{key:"Ctrl-d",run:r.F9},{key:"Ctrl-h",run:r.K8},{key:"Alt-d",run:r.rl},{key:"Ctrl-Alt-h",run:r.fE},{key:"Ctrl-k",run:function(e){let t=-1;const n=[];for(const s of e.state.selection.ranges)if(s.empty){if(t<s.to){const r=e.state.doc.lineAt(s.from).to;r!==s.from&&(t=r,n.push({from:s.from,to:r}))}}else t<s.to&&(t<s.from?(t=s.to,n.push({from:s.from,to:s.to})):(t=s.to,n[n.length-1].to=s.to));if(!n.length)return!1;p=n.map((t=>{let{from:n,to:r}=t;return e.state.doc.slice(n,r)}));const r=e.state.changes(n.map((e=>{let{from:t,to:n}=e;return{from:t,to:n,insert:""}}))),i=s.jT.create(n.map((e=>{let{to:t}=e;return s.jT.cursor(r.mapPos(t))})));return e.dispatch({changes:r,selection:i}),!0}},{key:"Ctrl-y",run:function(e){if(!p.length)return!1;if(p.length===e.state.selection.ranges.length){const t=e.state.changes(e.state.selection.ranges.map(((e,t)=>{let{from:n,to:r}=e;return{from:n,to:r,insert:p[t]}}))),n=s.jT.create(e.state.selection.ranges.map((e=>{let{to:n}=e;return s.jT.cursor(t.mapPos(n,1))})));e.dispatch({changes:t,selection:n})}else{const t=p.reduce(((e,t)=>e.append(t))),{from:n,to:r}=e.state.selection.main,i=e.state.changes({from:n,insert:t}),o=s.jT.cursor(i.mapPos(r,1));e.dispatch({changes:i,selection:o})}return!0}},{key:"Mod-Shift-f",run:function(e){const t=e.state.field(c.l);if(!t)return!1;const n=e.state.selection.ranges;let r;if(1===n.length){const{from:t,to:i}=n[0];i>t&&(r=e.state.sliceDoc(t,i))}return t({type:"showFindPane",initialSearchTerm:r,anchorNodeId:e.state.field(d.X),anchorPosition:e.state.selection.main.from}),!0}},{key:"Ctrl-o",run:r.ju},{key:"Ctrl-t",run:r.LX},{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:r.bW,shift:r.am},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:r.OP,shift:r.cP},{key:"Alt-ArrowUp",run:r.K4},{key:"Shift-Alt-ArrowUp",run:r.cG},{key:"Alt-ArrowDown",run:r.O_},{key:"Shift-Alt-ArrowDown",run:r.kV},{key:"Alt-l",mac:"Ctrl-l",run:r.Zr},{key:"Mod-i",run:r.m6,preventDefault:!0},{key:"Mod-[",run:r.xi},{key:"Mod-]",run:r.at},{key:"Mod-Alt-\\",run:r.wA},{key:"Shift-Mod-\\",run:r.gY},{key:"Tab",run:function(e){const{state:t,state:{selection:n,doc:r}}=e,o=[],a=[];let l=0;for(const c of n.ranges){const e=r.lineAt(c.from);let n=r.lineAt(c.to);if(e.number!==n.number){n.from===c.to&&(n=r.line(n.number-1));const d=t.facet(i.c);for(let t=e.number;t<=n.number;t++){const e=r.line(t);o.push({from:e.from,to:e.from,insert:d})}const u=(n.number-e.number+1)*d.length,h=(c.from===e.from?c.from:c.from+d.length)+l,f=c.to+u+l,m=c.anchor===c.from?h:f,p=c.head===c.from?h:f;a.push(s.jT.range(m,p)),l+=u}else{const n=(0,s.IS)(e.text.slice(0,c.from-e.from),t.tabSize),r=" ".repeat(t.tabSize-n%t.tabSize);o.push({from:c.from,to:c.to,insert:r}),a.push(s.jT.cursor(c.from+r.length+l)),l+=r.length-(c.to-c.from)}}return e.dispatch(t.update({changes:o,selection:s.jT.create(a)})),!0}},{key:"Shift-Tab",run:r.wA},{key:"Shift-Ctrl-/",mac:"Shift-Cmd-/",run:r.O8},{key:"Mod-/",run:r.O8},{key:"Alt-A",run:r.Lr}];function f(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(i=s.jT.cursor(r.from+n))}return i}function m(e,t){let{state:n,dispatch:r}=e;if(n.readOnly)return!1;let i="delete.selection",a=n.changeByRange((e=>{let{from:n,to:r}=e;if(n==r){let e=t(n);e<n?i="delete.backward":e>n&&(i="delete.forward"),n=Math.min(n,e),r=Math.max(r,e)}return n==r?{range:e}:{changes:{from:n,to:r},range:s.jT.cursor(n)}}));return!a.changes.empty&&(r(n.update(a,{scrollIntoView:!0,userEvent:i,effects:"delete.selection"==i?o.tk.announce.of(n.phrase("Selection deleted")):void 0})),!0)}let p=[]},1864:function(e,t,n){n.d(t,{C:function(){return s},g:function(){return i}});var r=n(78120);const i=r.Py.define(),s=r.QQ.define({create:()=>"js",update(e,t){let{effects:n}=t;return n=n.filter((e=>e.is(i))),n.length>0?n[n.length-1].value.mode:e}})},58489:function(e,t,n){n.d(t,{X:function(){return i},y:function(){return s}});var r=n(91304);const[i,s]=(0,r.Z)(-1)},49475:function(e,t,n){n.d(t,{t8:function(){return i},zM:function(){return s},zT:function(){return o}});var r=n(14456);const i=50,s=54,o=r.tk.scrollMargins.of((()=>({top:s,bottom:i})))},8385:function(e,t,n){n.d(t,{M:function(){return f},q:function(){return v}});var r=n(41799),i=n(99534),s=n(85893),o=n(92876),a=n(84193),l=n(36448),c=n(67294),d=n(72815),u=n(36815);const h=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAACklEQVR4nGOaCQAAnwCc1NtUdAAAAABJRU5ErkJggg=="),f=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NgAAIAAAUAAR4f7BQAAAAASUVORK5CYII="),m=["avif","webp","jpeg","png"],p=[1,2,3],v=e=>{var{style:t,size:n=60,link:p=!1,user:v,showTier:b=!1,onError:x,onLoad:y}=e,w=(0,i.Z)(e,["style","size","link","user","showTier","onError","onLoad"]);const{0:C,1:k}=(0,c.useState)(f);(0,c.useEffect)((()=>{var e;if(v.avatar_url)try{return void k(new URL(v.avatar_url))}catch(t){if("ERR_INVALID_URL"!==t.code)throw t;(0,o.uT)("invalid avatar url",{user:v})}if(v.login&&!(null===(e=v.avatar_url)||void 0===e?void 0:e.startsWith("data:"))){let e="".concat("https://avatars.observableusercontent.com","/avatar/@").concat(v.login);v.avatar_update_time&&(e+="#".concat(+v.avatar_update_time));try{return void k(new URL(e))}catch(n){if("ERR_INVALID_URL"!==n.code)throw n;(0,o.uT)("invalid constructed avatar url: ".concat(e),{user:v})}}k(h)}),[v]);const{handleError:j,handleLoad:_,imageRef:S}=function(e){let{onError:t,onLoad:n,parsedAvatarUrl:r,setParsedAvatarUrl:i}=e;const{0:s,1:o}=(0,c.useState)(!1),a=(0,c.useRef)(null),l=(0,c.useCallback)((e=>{t?t(e):i(h),o(!0)}),[o,t,i]),d=(0,c.useCallback)((e=>{null===n||void 0===n||n(e),o(!0)}),[o,n]);return(0,c.useEffect)((()=>{a.current&&!s&&a.current.complete&&(a.current.naturalWidth>0?d(new Event("load")):l(new Event("error")))}),[a,l,d,s,r]),{handleError:l,handleLoad:d,imageRef:a}}({onError:x,onLoad:y,parsedAvatarUrl:C,setParsedAvatarUrl:k});if("data:"!==C.protocol){const e=Math.max(60,n);C.searchParams.set("s",e.toString())}let Z=(0,s.jsx)("img",(0,r.Z)({ref:S,alt:v.login?"@".concat(v.login):void 0,src:C.toString(),style:(0,r.Z)({width:n,height:n,maxWidth:"none",flexShrink:0,display:"block"},t),onError:j,onLoad:_},w));return"data:"!==C.protocol&&(Z=(0,s.jsxs)("picture",{children:[m.map((e=>(0,s.jsx)("source",{srcSet:g(C,e),type:"image/".concat(e)},e))),Z]})),p&&v.login?(0,s.jsx)(a.Z,{href:(0,l.GN)({login:v.login}),children:(0,s.jsx)("a",{children:Z})}):b&&v.login&&n>100&&v.tier&&v.type?(0,s.jsxs)("div",{className:"relative w-fc",children:[Z,(0,s.jsx)(d.C,{className:"absolute ba bw1 f7",isFilled:!0,label:(0,u._n)(v.tier,v.type),style:{bottom:"2px",right:"2px",padding:"2px 4px",borderRadius:"6px"},type:"public"===v.tier?"green":"purple"})]}):Z};function g(e,t){var n;let r=parseInt(null!==(n=e.searchParams.get("s"))&&void 0!==n?n:"");!isNaN(r)&&r||(r=60);return p.flatMap((n=>{const i=new URL(e),s=n*r;return s>460?[]:(i.searchParams.set("s","".concat(s)),i.searchParams.set("format",t),["".concat(i," ").concat(n,"x")])})).join(", ")}},72815:function(e,t,n){n.d(t,{C:function(){return l}});var r=n(41799),i=n(85893),s=n(94184),o=n.n(s);const a={disabled:{filled:"white bg-gray",hover:"",unfilled:"gray bg-near-white"},green:{filled:"white bg-green",hover:"bg-animate hover-bg-lightest-green",unfilled:"dark-green bg-observable-washed-green"},purple:{filled:"white bg-light-purple",hover:"bg-animate hover-bg-observable-lightest-purple",unfilled:"observable-purple bg-observable-light-purple"},yellow:{filled:"white bg-observable-dark-gold",hover:"bg-animate hover-bg-lightest-yellow",unfilled:"observable-dark-gold bg-washed-yellow"}},l=e=>{let{addHover:t=!1,className:n="",icon:s,iconSize:l=16,iconPosition:c="left",isFilled:d=!1,label:u="",style:h,size:f="normal",title:m,type:p}=e;return u||s?(0,i.jsxs)("div",{className:o()(n,"flex items-center lh-solid",p?o()("fw6 br2","normal"===f?"pa1":"f7 ph1",d?a[p].filled:a[p].unfilled,{[a[p].hover]:t}):"fw5"),style:(0,r.Z)({},h,"thin"===f&&{padding:"2px 4px"}),title:m,children:["right"===c&&u,s&&(0,i.jsx)(s,{className:"currentColor ".concat("right"===c?"ml1":"mr1"),height:l,width:l}),"left"===c&&u]}):null}},37497:function(e,t,n){n.d(t,{CQ:function(){return g},Ct:function(){return j},KM:function(){return b},N6:function(){return v},Q4:function(){return C},Qj:function(){return k},Sz:function(){return Z},aX:function(){return y},hA:function(){return S},hU:function(){return _},kq:function(){return x},sn:function(){return w}});var r=n(41799),i=n(69396),s=n(99534),o=n(85893),a=n(65988),l=n.n(a),c=n(94184),d=n.n(c),u=n(27919),h=n(22027),f=n(84193),m=n(42568),p=n(67294);const v=e=>{var{children:t,className:n=""}=e,a=(0,s.Z)(e,["children","className"]);const l=p.Children.toArray(t),c=l.length;return 2===c?(0,o.jsx)(g,(0,i.Z)((0,r.Z)({},a),{children:t})):3===c?(0,o.jsxs)("div",(0,i.Z)((0,r.Z)({className:d()("flex items-center",n)},a),{children:[(0,o.jsx)("div",{className:"justify-start",children:l[0]}),(0,o.jsx)("div",{className:"flex ml-auto",children:l.slice(1,c)})]})):(0,o.jsx)(o.Fragment,{children:t})},g=e=>{var{children:t,className:n=""}=e,a=(0,s.Z)(e,["children","className"]);return(0,o.jsx)("div",(0,i.Z)((0,r.Z)({className:d()("flex justify-end items-center",n)},a),{children:t}))},b=p.forwardRef((function(e,t){var{icon:n,text:a,onClick:c,disabled:u=!1,loading:f=!1,destructive:m=!1,type:p="button",className:v="",iconOnRight:g=!1}=e,b=(0,s.Z)(e,["icon","text","onClick","disabled","loading","destructive","type","className","iconOnRight"]);const x=f?"transparent":u?"light-silver":"white",y=u?"bg-moon-gray b--moon-gray":m?"bg-red b--red":"bg-blue b--blue",w=u||f?"":m?"animate-all pointer primary-button-shadow hover-bg-dark-red hover-b--dark-red":"animate-all pointer primary-button-shadow hover-bg-dark-blue hover-b--dark-blue";return(0,o.jsxs)("button",(0,i.Z)((0,r.Z)({type:p,ref:t,onClick:e=>c&&c(e),disabled:u||f},b),{className:"jsx-3ca805baa2cc89aa "+(b&&null!=b.className&&b.className||d()(x,y,w,v,"f6 fw6 br2 ba relative pa2 flex items-center justify-center")||""),children:[f?(0,o.jsx)(h.Z,{className:"absolute white",style:{top:"calc(50% - 8px)",right:"calc(50% - 8px)"}}):null,n&&!g?(0,o.jsx)(n,{className:"jsx-3ca805baa2cc89aa mr1"}):null,a,n&&g?(0,o.jsx)(n,{className:"jsx-3ca805baa2cc89aa ml1"}):null,(0,o.jsx)(l(),{id:"3ca805baa2cc89aa",children:".primary-button-shadow.jsx-3ca805baa2cc89aa:hover,.primary-button-shadow.jsx-3ca805baa2cc89aa:focus{-webkit-box-shadow:0px 4px 4px rgba(0,0,0,.1);-moz-box-shadow:0px 4px 4px rgba(0,0,0,.1);box-shadow:0px 4px 4px rgba(0,0,0,.1)}.primary-button-shadow.jsx-3ca805baa2cc89aa:active{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}"})]}))})),x=p.forwardRef((function(e,t){return(0,o.jsx)(y,(0,r.Z)({className:"mr2",ref:t},e))})),y=p.forwardRef((function(e,t){var{icon:n,text:a,onClick:l,disabled:c=!1,colorless:u=!1,destructive:f=!1,loading:p=!1,type:v="button",className:g="",iconOnRight:b=!1,asMenuButton:x=!1}=e,y=(0,s.Z)(e,["icon","text","onClick","disabled","colorless","destructive","loading","type","className","iconOnRight","asMenuButton"]);const w=p?"transparent":c?"moon-gray":f?"red":u?"dark-gray":"blue",C=c||p?"":"pointer animate-all hover-bg-black-05",k=c?"b--silver":"b--light-gray";return x?(0,o.jsxs)(m.j2,(0,i.Z)((0,r.Z)({type:v,ref:t,onClick:e=>l&&l(e),disabled:c||p},y),{className:d()(w,k,C,g,"f6 fw6 br2 ba pa2 flex items-center bg-transparent relative"),children:[p?(0,o.jsx)(h.Z,{className:d()("absolute",f?"red":u?"dark-gray":"blue"),style:{top:"calc(50% - 8px)",right:"calc(50% - 8px)"}}):null,n&&!b?(0,o.jsx)(n,{className:"mr1"}):null,a,n&&b?(0,o.jsx)(n,{className:"ml1"}):null]})):(0,o.jsxs)("button",(0,i.Z)((0,r.Z)({type:v,ref:t,onClick:e=>l&&l(e),disabled:c||p},y),{className:d()(w,k,C,g,"f6 fw6 br2 ba pa2 flex items-center bg-transparent relative"),children:[p?(0,o.jsx)(h.Z,{className:d()("absolute",f?"red":u?"dark-gray":"blue"),style:{top:"calc(50% - 8px)",right:"calc(50% - 8px)"}}):null,n&&!b?(0,o.jsx)(n,{className:"mr1"}):null,a,n&&b?(0,o.jsx)(n,{className:"ml1"}):null]}))})),w=p.forwardRef((function(e,t){const{icon:n,text:a,onClick:l,disabled:c=!1,colorless:u=!1,destructive:f=!1,loading:m=!1,type:p="button",iconOnlySmall:v=!1,iconOnRight:g=!1,className:b=""}=e,x=(0,s.Z)(e,["icon","text","onClick","disabled","colorless","destructive","loading","type","iconOnlySmall","iconOnRight","className"]),y=m?"transparent":c?"moon-gray":f?"red":u?"dark-gray":"blue",w=c||m?"":"pointer animate-all hover-bg-black-05",C=v?"flex-ns dn":"flex";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",(0,i.Z)((0,r.Z)({type:p,ref:t,onClick:e=>l&&l(e),disabled:c||m},x),{className:d()(y,w,C,b,"pa2 f6 fw6 br2 ba items-center bg-transparent b--transparent relative"),children:[m?(0,o.jsx)(h.Z,{className:d()("absolute",f?"red":u?"dark-gray":"blue"),style:{top:"calc(50% - 8px)",right:"calc(50% - 8px)"}}):null,g&&a,n&&(0,o.jsx)(n,{className:g?"ml1":"mr1"}),!g&&a]})),v&&n?(0,o.jsx)(_,(0,r.Z)({className:"dn-ns",ref:t,disabled:c,destructive:f,colorless:u,type:p,icon:n,onClick:l},x)):null]})})),C=p.forwardRef((function(e,t){const{href:n,targetBlank:i=!1}=e,a=(0,s.Z)(e,["href","targetBlank"]);return(0,o.jsx)(f.Z,{href:n,children:(0,o.jsx)("a",{rel:i?"noopener noreferrer":void 0,style:{textDecoration:"none"},target:i?"_blank":void 0,children:(0,o.jsx)(w,(0,r.Z)({ref:t},a))})})})),k=p.forwardRef((function(e,t){const{icon:n,text:a,onClick:l,disabled:c=!1,colorless:u=!1,destructive:h=!1,className:f=""}=e,m=(0,s.Z)(e,["icon","text","onClick","disabled","colorless","destructive","className"]),p=c?"moon-gray":h?"red":u?"gray":"blue",v=c?"":"pointer";return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("button",(0,i.Z)((0,r.Z)({ref:t,onClick:e=>l&&l(e),disabled:c},m),{className:d()(p,v,f,"f6 br2 bn flex items-center bg-transparent b--transparent relative"),children:[n?(0,o.jsx)(n,{className:"mr1"}):null,a]}))})})),j=e=>{let{count:t,badgeStyle:n="none",disabled:r=!1,colorless:i=!1,destructive:s=!1,selected:a=!1,children:c}=e;const h=r?"moon-gray":s?"red":i&&!a?"dark-gray":"blue",f="filled"===n?"filled br2 bw1 b--white white flex items-center justify-center bg-".concat(h):"none ".concat(h);return(0,o.jsxs)("div",{className:"relative",children:[c,void 0!==t||"error"===n?(0,o.jsxs)("div",{className:l().dynamic([["46087e911383d411",["error"===n?0:4]]])+" "+(d()("absolute pen",f)||""),children:["error"===n?(0,o.jsx)(u.Z,{width:12}):t>99?"99\u02d6":t,(0,o.jsx)(l(),{id:"46087e911383d411",dynamic:["error"===n?0:4],children:".absolute.__jsx-style-dynamic-selector{bottom:".concat("error"===n?0:4,"px;font-size:.6rem;letter-spacing:-1px;right:30px}.filled.__jsx-style-dynamic-selector{padding:2px 4px 2px 3px;right:26px}")})]}):null]})},_=p.forwardRef((function(e,t){var{icon:n,disabled:a=!1,colorless:l=!1,destructive:c=!1,selected:u=!1,type:h="button",className:f="",asMenuButton:p=!1,solidBackground:v=!1}=e,g=(0,s.Z)(e,["icon","disabled","colorless","destructive","selected","type","className","asMenuButton","solidBackground"]);const b=a?"moon-gray":c?"red":l&&!u?"dark-gray":"blue",x=a?"":"pointer animate-all",y=a?v?"bg-white":"bg-transparent":u?"bg-faint-blue":v?"bg-white hover-bg-light-gray":"bg-transparent hover-bg-black-05";return p?(0,o.jsx)(m.j2,(0,i.Z)((0,r.Z)({type:h,ref:t,disabled:a},g),{className:d()(b,y,x,f,"pa2 f6 fw6 br-100 flex items-center ba b--transparent relative"),children:(0,o.jsx)(n,{})})):(0,o.jsx)("button",(0,i.Z)((0,r.Z)({type:h,ref:t,disabled:a},g),{className:d()(b,y,x,f,"pa2 f6 fw6 br-100 flex items-center ba b--transparent relative"),children:(0,o.jsx)(n,{})}))})),S=p.forwardRef((function(e,t){var{icon:n,text:a="",title:l,className:c="",disabled:u=!1,destructive:h=!1,joinLeft:f=!1,joinRight:m=!1,transparent:p=!1,colorless:v=!1}=e,g=(0,s.Z)(e,["icon","text","title","className","disabled","destructive","joinLeft","joinRight","transparent","colorless"]);return(0,o.jsxs)("button",(0,i.Z)((0,r.Z)({ref:t,className:d()("flex fw6 pa2 b--none",h?"red bg-washed-red":p?"bg-transparent":v?"bg-near-white":"bg-focus",u?"":"pointer squishy ".concat(h?"":p?"hover-bg-near-white":v?"hover-bg-focus-colorless":"hover-bg-focus"),f&&m?"":f?"br2 br--right":m?"br2 br--left":"br2",c),disabled:u,title:l,"aria-label":l,style:(0,r.Z)({color:u?v?"bg-near-white":"var(--observable-focus-blue)":void 0,marginLeft:f?1:void 0},g.style)},g),{children:[(0,o.jsx)(n,{}),a?(0,o.jsx)("span",{className:"ml1",children:a}):null]}))})),Z=p.forwardRef((function(e,t){let{text:n,onClick:r,className:i,style:s={}}=e;return(0,o.jsxs)("button",{ref:t,onClick:e=>r&&r(e),style:s,className:"jsx-3ca805baa2cc89aa "+(d()("f5 fw6 br2 bn relative ph2 pv3 flex items-center justify-center animate-all pointer primary-button-shadow hover-bg-dark-blue hover-b--dark-blue",i)||""),children:[n,(0,o.jsx)(l(),{id:"3ca805baa2cc89aa",children:".primary-button-shadow.jsx-3ca805baa2cc89aa:hover,.primary-button-shadow.jsx-3ca805baa2cc89aa:focus{-webkit-box-shadow:0px 4px 4px rgba(0,0,0,.1);-moz-box-shadow:0px 4px 4px rgba(0,0,0,.1);box-shadow:0px 4px 4px rgba(0,0,0,.1)}.primary-button-shadow.jsx-3ca805baa2cc89aa:active{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}"})]})}))},16691:function(e,t,n){n.d(t,{X:function(){return d}});var r=n(41799),i=n(69396),s=n(99534),o=n(85893),a=n(65988),l=n.n(a),c=(n(67294),n(23869));const d=e=>{var{className:t="",label:n="",spacing:a="pv2",title:d}=e,u=(0,s.Z)(e,["className","label","spacing","title"]);return(0,o.jsxs)("label",{title:d,className:"jsx-8fc3a8644a9934b0 "+"fw6 f6 flex items-center form-custom-checkbox\n      ".concat(u.disabled?" disabled mid-gray":" not-disabled dark-gray hover-near-black pointer"," ").concat(a," ").concat(t),children:[(0,o.jsxs)("span",{className:"jsx-8fc3a8644a9934b0 h1 lh-solid",children:[(0,o.jsx)("input",(0,i.Z)((0,r.Z)({},u),{type:"checkbox",style:{width:0,height:0},className:"jsx-8fc3a8644a9934b0 o-0 form-default-clear"})),(0,o.jsx)("span",{className:"jsx-8fc3a8644a9934b0 "+"check-square animate-all ".concat(u.checked?"checked bg-blue white b--dark-blue":"bg-white b--silver white"," ").concat(u.autoFocus&&" focused","\n             w1 h1 dib ba br2 mr2"),children:(0,o.jsx)(c.Z,{})})]}),n,(0,o.jsx)(l(),{id:"8fc3a8644a9934b0",children:'input[type="checkbox"].jsx-8fc3a8644a9934b0:focus+span.jsx-8fc3a8644a9934b0{border:1px solid#6384dd}input[type="checkbox"].jsx-8fc3a8644a9934b0+span.jsx-8fc3a8644a9934b0{border:1px solid transparent}'})]})}},75713:function(e,t,n){n.d(t,{l:function(){return l}});var r=n(41799),i=n(69396),s=n(99534),o=n(85893);function a(e){"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&e.currentTarget.dispatchEvent(new Event("submit",{bubbles:!0}))}const l=n(67294).forwardRef((function(e,t){const{children:n}=e,l=(0,s.Z)(e,["children"]);return(0,o.jsx)("form",(0,i.Z)((0,r.Z)({ref:t,onKeyDown:a},l),{children:n}))}))},33090:function(e,t,n){n.d(t,{E:function(){return u}});var r=n(41799),i=n(69396),s=n(99534),o=n(85893),a=n(65988),l=n.n(a),c=n(94184),d=n.n(c);n(67294);const u=e=>{var{label:t,description:n,icon:a,prefixElement:c,hiddenButton:u=!1,className:h="f6 fw6 near-black mb2",disabled:f,title:m}=e,p=(0,s.Z)(e,["label","description","icon","prefixElement","hiddenButton","className","disabled","title"]);return(0,o.jsxs)("label",{title:m,className:"jsx-805983b093f363a6 "+(d()("flex items-center",h)||""),children:[(0,o.jsxs)("div",{className:"jsx-805983b093f363a6 w-100 radio-grid",children:[(0,o.jsxs)("div",{className:"jsx-805983b093f363a6 radio-grid-col1 flex items-center",children:[(0,o.jsx)("input",(0,i.Z)((0,r.Z)({},p),{type:"radio",disabled:f,className:"jsx-805983b093f363a6 "+(d()("flex-shrink-0 ba b--light-gray br-100 mr2 pointer",u&&"o-0 absolute",f?"bg-near-white":"bg-white")||"")})),c,a&&(0,o.jsx)("div",{className:"jsx-805983b093f363a6 flex items-center",children:(0,o.jsx)(a,{className:"jsx-805983b093f363a6 mr2 pointer"})})]}),(0,o.jsx)("div",{className:"jsx-805983b093f363a6 "+(d()("radio-grid-col2",f?"mid-gray":"hover-near-black pointer")||""),children:t}),n&&(0,o.jsx)("div",{className:"jsx-805983b093f363a6 "+(d()("radio-grid-col2 mid-gray fw4 mt1",{pointer:!f})||""),children:n})]}),(0,o.jsx)(l(),{id:"805983b093f363a6",children:"input.jsx-805983b093f363a6{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;width:-webkit-calc(1em + 2px);width:-moz-calc(1em + 2px);width:calc(1em + 2px);height:-webkit-calc(1em + 2px);height:-moz-calc(1em + 2px);height:calc(1em + 2px);margin-top:1px}input.jsx-805983b093f363a6:focus{-webkit-box-shadow:0 0 2px var(--light-blue);-moz-box-shadow:0 0 2px var(--light-blue);box-shadow:0 0 2px var(--light-blue)}input.jsx-805983b093f363a6:hover{border:1px solid var(--light-blue)}input.jsx-805983b093f363a6:focus:disabled,input.jsx-805983b093f363a6:hover:disabled{cursor:default;border:1px solid var(--light-gray)}input.jsx-805983b093f363a6:checked{border:.4em solid var(--blue)}input.jsx-805983b093f363a6:checked:disabled{border:.4em solid var(--light-gray)}.radio-grid-col1.jsx-805983b093f363a6{grid-column-start:1}.radio-grid-col2.jsx-805983b093f363a6{grid-column-start:2}.radio-grid.jsx-805983b093f363a6{display:grid;grid-template-columns:auto 1fr}"})]})}},17905:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.6"},e),{children:[(0,s.jsx)("path",{d:"M8.5 11L11 8L8.5 5"}),(0,s.jsx)("line",{x1:"4",y1:"8",x2:"11",y2:"8"})]}))},40287:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsx)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,s.jsx)("path",{d:"M6.75 11.25L9.25 8.25L6.75 5.25",stroke:"currentColor",strokeWidth:"2"})}))},23869:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsx)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,s.jsx)("path",{d:"M4.59998 8.5L7.09998 10.6429L11.6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"square"})}))},49516:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsx)("svg",(0,i.Z)((0,r.Z)({width:"12",height:"16",viewBox:"0 0 12 16",fill:"none"},e),{children:(0,s.jsx)("path",{d:"M2.59998 8.5L5.09998 10.6429L9.59998 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"square"})}))},41500:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9009 13.0686C12.3333 13.6581 11.5224 14 10.5556 14H9.5V12H10.5556C11.0331 12 11.3056 11.8419 11.4602 11.6814C11.6267 11.5085 11.7222 11.2642 11.7222 11V10.5C11.7222 10.2276 11.7301 9.79053 12.14 9C12.5 8.39782 13.25 8 13.25 8C13.25 8 12.4702 7.69361 12.14 7.05676C11.7301 6.26622 11.7222 5.77243 11.7222 5.5V5C11.7222 4.73583 11.6267 4.49147 11.4602 4.31864C11.3056 4.1581 11.0331 4 10.5556 4H9.5L9.5 2H10.5556C11.5224 2 12.3333 2.3419 12.9009 2.93136C13.4567 3.50853 13.7222 4.26417 13.7222 5V5.5C13.7222 5.72757 13.7421 6.14272 13.9155 6.47718C13.9933 6.6271 14.0935 6.74371 14.2303 6.82779C14.3663 6.91136 14.5987 7 15 7V9C14.5987 9 14.3663 9.08864 14.2303 9.17221C14.0935 9.25629 13.9933 9.3729 13.9155 9.52282C13.7421 9.85728 13.7222 10.2724 13.7222 10.5V11C13.7222 11.7358 13.4567 12.4915 12.9009 13.0686Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.09912 13.0686C3.66675 13.6581 4.47757 14 5.44444 14H6.5V12H5.44444C4.96688 12 4.69436 11.8419 4.53976 11.6814C4.37334 11.5085 4.27778 11.2642 4.27778 11V10.5C4.27778 10.2276 4.26988 9.79053 3.85998 9C3.5 8.39782 2.75 8 2.75 8C2.75 8 3.52976 7.69361 3.85998 7.05676C4.26988 6.26622 4.27778 5.77243 4.27778 5.5V5C4.27778 4.73583 4.37334 4.49147 4.53976 4.31864C4.69436 4.1581 4.96688 4 5.44444 4H6.5L6.5 2H5.44444C4.47757 2 3.66675 2.3419 3.09912 2.93136C2.54333 3.50853 2.27778 4.26417 2.27778 5V5.5C2.27778 5.72757 2.25789 6.14272 2.08447 6.47718C2.00673 6.6271 1.90646 6.74371 1.7697 6.82779C1.63375 6.91136 1.40134 7 1 7L1 9C1.40134 9 1.63375 9.08864 1.7697 9.17221C1.90646 9.25629 2.00673 9.3729 2.08447 9.52282C2.25789 9.85728 2.27778 10.2724 2.27778 10.5V11C2.27778 11.7358 2.54333 12.4915 3.09912 13.0686Z",fill:"currentColor"})]}))},3764:function(e,t,n){n.d(t,{t:function(){return o}});var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,s.jsx)("path",{d:"M13 4c0 .246-.225.737-1.205 1.227C10.875 5.687 9.535 6 8 6c-1.535 0-2.876-.313-3.795-.773C3.225 4.737 3 4.246 3 4c0-.246.225-.737 1.205-1.227C5.125 2.313 6.465 2 8 2c1.535 0 2.876.313 3.795.773C12.775 3.263 13 3.754 13 4z",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.236c1.227-.55 2-1.348 2-2.236v4.25C14 10.045 11.314 11 8 11s-6-.955-6-2.75V4c0 .888.772 1.687 2 2.236V8.147c.065.063.216.173.542.312C5.291 8.778 6.496 9 8 9c1.504 0 2.709-.222 3.458-.542.326-.139.477-.25.542-.312V6.236zm.042 1.853c.003 0-.002.014-.023.037.01-.026.02-.037.023-.037zm-8.084 0c.003 0 .013.011.023.037-.02-.023-.026-.036-.023-.037z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.236c1.227-.55 2-1.348 2-2.236v8c0 1.795-2.686 3-6 3s-6-1.205-6-3V4c0 .888.772 1.687 2 2.236V11.934c.046.068.196.23.629.439C5.37 12.733 6.553 13 8 13s2.63-.268 3.371-.627c.433-.21.583-.37.629-.439V6.236zm.018 5.663s-.001.008-.01.021c.005-.014.009-.021.01-.021zm-8.036 0c.001 0 .005.007.01.021-.009-.014-.01-.021-.01-.021z",fill:"currentColor"})]}));const o=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"24",height:"30",viewBox:"0 0 26 33",fill:"none"},e),{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.22 21H2v5c0 2.761 4.925 5 11 5s11-2.239 11-5v-5h-.22c-1.02 2.282-5.458 4-10.78 4-5.322 0-9.76-1.718-10.78-4z",fill:"#EFEFEF"}),(0,s.jsx)("path",{d:"M24 21c0 2.761-4.925 5-11 5S2 23.761 2 21s4.925-5 11-5 11 2.239 11 5z",fill:"#C4C4C4"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.22 15H2v5c0 2.761 4.925 5 11 5s11-2.239 11-5v-5h-.22c-1.02 2.282-5.458 4-10.78 4-5.322 0-9.76-1.718-10.78-4z",fill:"#EFEFEF"}),(0,s.jsx)("path",{d:"M24 15c0 2.761-4.925 5-11 5S2 17.761 2 15s4.925-5 11-5 11 2.239 11 5z",fill:"#C4C4C4"}),(0,s.jsx)("path",{d:"M23 13.125c0 2.416-4.477 4.375-10 4.375S3 15.541 3 13.125 7.477 8.75 13 8.75s10 1.959 10 4.375z",fill:"#E2E2E2"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 13c6.075 0 11-2.239 11-5v6c0 2.761-4.925 5-11 5S2 16.761 2 14V8c0 2.761 4.925 5 11 5z",fill:"#EFEFEF"}),(0,s.jsx)("path",{d:"M24 8c0 2.761-4.925 5-11 5S2 10.761 2 8s4.925-5 11-5 11 2.239 11 5z",fill:"#E2E2E2"})]}))},54256:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({viewBox:"0 0 18 18",width:"18",height:"18",fill:"none"},e),{children:[(0,s.jsx)("circle",{cx:"9",cy:"9",r:"9",fill:"#F6EDCC"}),(0,s.jsx)("path",{d:"M7.87 5l.188 5.684h1.875L10.12 5H7.87zm1.125 8.66c.756 0 1.202-.392 1.202-1.066 0-.68-.446-1.072-1.202-1.072-.755 0-1.195.392-1.195 1.072 0 .674.44 1.066 1.195 1.066z",fill:"#D39817"})]}))},27919:function(e,t,n){var r=n(41799),i=n(69396),s=n(99534),o=n(85893);n(67294);t.Z=e=>{var{children:t}=e,n=(0,s.Z)(e,["children"]);return(0,o.jsxs)("svg",(0,i.Z)((0,r.Z)({viewBox:"0 0 18 18",width:"18",height:"18",fill:"none",role:"img"},n),{children:[(0,o.jsx)("circle",{cx:"9",cy:"9",r:"9",fill:"#E14747"}),(0,o.jsx)("path",{d:"M7.87 5l.188 5.684h1.875L10.12 5H7.87zm1.125 8.66c.756 0 1.202-.392 1.202-1.066 0-.68-.446-1.072-1.202-1.072-.755 0-1.195.392-1.195 1.072 0 .674.44 1.066 1.195 1.066z",fill:"#FFFFFF"}),t]}))}},28041:function(e,t,n){n.d(t,{q:function(){return a}});var r=n(41799),i=n(69396),s=n(99534),o=n(85893);n(67294);t.Z=e=>{var{small:t}=e,n=(0,s.Z)(e,["small"]);return(0,o.jsx)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",strokeWidth:"2"},n),{children:t?(0,o.jsx)("path",{d:"M12.1637 11.8446L12.7364 11.286L12.1637 11.8446ZM5.97903 6.6495L11.591 12.4032L12.7364 11.286L7.12442 5.53232L5.97903 6.6495ZM10.6159 13.3544L4.37343 6.95428L3.22804 8.07146L9.47048 14.4715L10.6159 13.3544ZM7.44625 4.02933L13.4139 10.4536L14.5861 9.36462L8.61851 2.94039L7.44625 4.02933ZM4.23394 4.1499C5.0428 3.13633 6.5637 3.07925 7.44625 4.02933L8.61851 2.94039C7.0703 1.27372 4.40228 1.37385 2.98335 3.15189L4.23394 4.1499ZM4.37343 6.95428C3.62641 6.1884 3.56661 4.98612 4.23394 4.1499L2.98335 3.15189C1.81269 4.61883 1.91759 6.72792 3.22804 8.07146L4.37343 6.95428ZM11.591 13.3544C11.3237 13.6284 10.8832 13.6284 10.6159 13.3544L9.47048 14.4715C10.3657 15.3893 11.8412 15.3893 12.7364 14.4715L11.591 13.3544ZM11.591 12.4032C11.8491 12.6678 11.8491 13.0898 11.591 13.3544L12.7364 14.4715C13.6006 13.5855 13.6006 12.172 12.7364 11.286L11.591 12.4032Z"}):(0,o.jsx)("path",{d:"M7.19855 2.52175L7.88131 1.79111L7.19855 2.52175ZM12.6 11.7764L13.2581 11.0234L12.6 11.7764ZM5.34191 6.76078L11.9419 12.5293L13.2581 11.0234L6.65809 5.2549L5.34191 6.76078ZM10.8958 13.6864L3.35462 6.63385L1.98852 8.09459L9.52965 15.1472L10.8958 13.6864ZM6.51578 3.25238L13.8172 10.0755L15.1828 8.61419L7.88131 1.79111L6.51578 3.25238ZM3.08395 3.55474C3.91017 2.45311 5.50967 2.31219 6.51578 3.25238L7.88131 1.79111C6.0058 0.0384695 3.02413 0.301162 1.48395 2.35474L3.08395 3.55474ZM3.35462 6.63385C2.49183 5.82695 2.37516 4.49978 3.08395 3.55474L1.48395 2.35474C0.162683 4.11642 0.380169 6.59044 1.98852 8.09459L3.35462 6.63385ZM11.993 13.6551C11.6977 13.9647 11.2082 13.9786 10.8958 13.6864L9.52965 15.1472C10.6432 16.1886 12.3878 16.1388 13.4402 15.0356L11.993 13.6551ZM11.9419 12.5293C12.2764 12.8216 12.2996 13.3337 11.993 13.6551L13.4402 15.0356C14.5328 13.8903 14.4499 12.0651 13.2581 11.0234L11.9419 12.5293Z"})}))};const a=e=>(0,o.jsx)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",strokeWidth:"2"},e),{children:(0,o.jsx)("path",{d:"M12.1637 11.8446L12.7364 11.286L12.1637 11.8446ZM5.97903 6.6495L11.591 12.4032L12.7364 11.286L7.12442 5.53232L5.97903 6.6495ZM10.6159 13.3544L4.37343 6.95428L3.22804 8.07146L9.47048 14.4715L10.6159 13.3544ZM7.44625 4.02933L13.4139 10.4536L14.5861 9.36462L8.61851 2.94039L7.44625 4.02933ZM4.23394 4.1499C5.0428 3.13633 6.5637 3.07925 7.44625 4.02933L8.61851 2.94039C7.0703 1.27372 4.40228 1.37385 2.98335 3.15189L4.23394 4.1499ZM4.37343 6.95428C3.62641 6.1884 3.56661 4.98612 4.23394 4.1499L2.98335 3.15189C1.81269 4.61883 1.91759 6.72792 3.22804 8.07146L4.37343 6.95428ZM11.591 13.3544C11.3237 13.6284 10.8832 13.6284 10.6159 13.3544L9.47048 14.4715C10.3657 15.3893 11.8412 15.3893 12.7364 14.4715L11.591 13.3544ZM11.591 12.4032C11.8491 12.6678 11.8491 13.0898 11.591 13.3544L12.7364 14.4715C13.6006 13.5855 13.6006 12.172 12.7364 11.286L11.591 12.4032Z"})}))},76267:function(e,t,n){n.d(t,{F:function(){return a}});var r=n(41799),i=n(69396),s=n(99534),o=n(85893);n(67294);t.Z=e=>(0,o.jsx)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 1.75C3.80964 1.75 3.25 2.30964 3.25 3C3.25 3.69036 3.80964 4.25 4.5 4.25C5.19036 4.25 5.75 3.69036 5.75 3C5.75 2.30964 5.19036 1.75 4.5 1.75ZM1.75 3C1.75 1.48122 2.98122 0.25 4.5 0.25C6.01878 0.25 7.25 1.48122 7.25 3C7.25 4.16599 6.52434 5.1625 5.5 5.56253V7H8.5C9.4199 7 10.1947 6.37895 10.4281 5.53327C9.44188 5.11546 8.75 4.13853 8.75 3C8.75 1.48122 9.98122 0.25 11.5 0.25C13.0188 0.25 14.25 1.48122 14.25 3C14.25 4.18168 13.5047 5.18928 12.4585 5.57835C12.1782 7.51343 10.5127 9 8.5 9H5.5V10.4375C6.52434 10.8375 7.25 11.834 7.25 13C7.25 14.5188 6.01878 15.75 4.5 15.75C2.98122 15.75 1.75 14.5188 1.75 13C1.75 11.834 2.47566 10.8375 3.5 10.4375L3.5 9V7V5.56253C2.47566 5.1625 1.75 4.16599 1.75 3ZM4.5 11.75C3.80964 11.75 3.25 12.3096 3.25 13C3.25 13.6904 3.80964 14.25 4.5 14.25C5.19036 14.25 5.75 13.6904 5.75 13C5.75 12.3096 5.19036 11.75 4.5 11.75ZM10.25 3C10.25 2.30964 10.8096 1.75 11.5 1.75C12.1904 1.75 12.75 2.30964 12.75 3C12.75 3.69036 12.1904 4.25 11.5 4.25C10.8096 4.25 10.25 3.69036 10.25 3Z"})}));const a=e=>{var{title:t}=e,n=(0,s.Z)(e,["title"]);return(0,o.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},n),{children:[t&&(0,o.jsx)("title",{children:t}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.35 3.75C5.02572 3.75 4.75 4.01761 4.75 4.36364C4.75 4.70966 5.02572 4.97727 5.35 4.97727C5.67428 4.97727 5.95 4.70966 5.95 4.36364C5.95 4.01761 5.67428 3.75 5.35 3.75ZM3.25 4.36364C3.25 3.20343 4.18311 2.25 5.35 2.25C6.51689 2.25 7.45 3.20343 7.45 4.36364C7.45 5.2606 6.89228 6.03398 6.1 6.33875V7.25H8.47273C9.30998 7.25 10.0257 6.72962 10.3141 5.99465C9.84643 5.60579 9.55 5.01756 9.55 4.36364C9.55 3.20343 10.4831 2.25 11.65 2.25C12.8169 2.25 13.75 3.20343 13.75 4.36364C13.75 5.49508 12.8626 6.42987 11.7364 6.47553C11.2469 7.80321 9.97037 8.75 8.47273 8.75H6.1V10.1158C6.89228 10.4206 7.45 11.1939 7.45 12.0909C7.45 13.2511 6.51689 14.2045 5.35 14.2045C4.18311 14.2045 3.25 13.2511 3.25 12.0909C3.25 11.1939 3.80772 10.4206 4.6 10.1158V6.33875C3.80772 6.03398 3.25 5.2606 3.25 4.36364ZM5.35 11.4773C5.02572 11.4773 4.75 11.7449 4.75 12.0909C4.75 12.4369 5.02572 12.7045 5.35 12.7045C5.67428 12.7045 5.95 12.4369 5.95 12.0909C5.95 11.7449 5.67428 11.4773 5.35 11.4773ZM11.05 4.36364C11.05 4.01761 11.3257 3.75 11.65 3.75C11.9743 3.75 12.25 4.01761 12.25 4.36364C12.25 4.70966 11.9743 4.97727 11.65 4.97727C11.3257 4.97727 11.05 4.70966 11.05 4.36364Z"})]}))}},87769:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({viewBox:"0 0 16 16",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"1.8"},e),{children:[(0,s.jsx)("circle",{cx:"8",cy:"8",r:"7.1"}),(0,s.jsx)("path",{d:"M1.14285 10.5286 L14.8571 10.5286 M1.14285 5.71429H14.8571 M8 1.14285C7.42857 2.09523 5.14285 4.21428 5.14285 8C5.14285 12.5714 8 14.8571 8 14.8571 M8 1.14285C8.57143 2.09523 10.8571 4.21428 10.8571 8C10.8571 12.5714 8 14.8571 8 14.8571"})]}))},92946:function(e,t,n){n.d(t,{Pf:function(){return d},Vp:function(){return l},o8:function(){return c}});var r=n(41799),i=n(69396),s=n(99534),o=n(85893);n(67294);const a=e=>(0,o.jsx)("svg",(0,i.Z)((0,r.Z)({viewBox:"0 0 16 16",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2"},e),{children:(0,o.jsx)("path",{d:"M6.70304 5.44182L8.20307 3.94183C8.20307 3.94183 8.70306 3.44183 9.70306 2.44184C10.703 1.44184 12.6038 1.68889 13.4906 2.63706C14.3773 3.58521 14.9958 5.16784 13.7031 6.44183C12.4103 7.71582 10.7031 9.44183 10.7031 9.44183M9.0481 11.1455C9.0481 11.1455 6.93417 13.4418 5.70304 14.4418C4.47192 15.4419 2.73625 14.6589 1.84946 13.7108C0.962682 12.7626 0.495886 11.0305 1.84946 9.73616C3.20304 8.44182 4.70304 6.94182 4.70304 6.94182M10 6.19944L5.5 10.4994"})}));t.ZP=a;const l=e=>{var{title:t}=e,n=(0,s.Z)(e,["title"]);return(0,o.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},n),{children:[t&&(0,o.jsx)("title",{children:t}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.2067 4.26461C11.5857 3.60515 10.5574 3.58414 9.90997 4.21768L7.63532 6.4435L6.60697 5.35149L8.88163 3.12566C10.1212 1.91273 12.0898 1.95296 13.2788 3.21552C14.4677 4.47808 14.4267 6.48486 13.1872 7.69779L10.9125 9.92362L9.8842 8.83161L12.1588 6.60578C12.8063 5.97224 12.8277 4.92407 12.2067 4.26461ZM4.17467 12.1241C4.79568 12.7836 5.82395 12.8046 6.47138 12.1711L8.74603 9.94524L9.77438 11.0373L7.49973 13.2631C6.26019 14.476 4.29151 14.4358 3.10256 13.1732C1.91361 11.9107 1.95462 9.90388 3.19416 8.69095L5.46881 6.46512L6.49716 7.55714L4.22251 9.78296C3.57508 10.4165 3.55366 11.4647 4.17467 12.1241ZM9.35144 5.94399L5.93746 9.2847L6.96581 10.3767L10.3798 7.03601L9.35144 5.94399Z",fill:"currentColor"})]}))},c=e=>(0,o.jsx)(a,(0,r.Z)({viewBox:"-1.5 -1.5 19 19"},e)),d=e=>(0,o.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 1H15V7H13V3H9V1Z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3639 2.99286L8.00714 9.4142L6.5858 8.00714L12.9426 1.5858L14.3639 2.99286Z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 5C1 3.89543 1.89543 3 3 3H7V5H3V13H11V9H13V13C13 14.1046 12.1046 15 11 15H3C1.89543 15 1 14.1046 1 13V5Z",fill:"currentColor"})]}))},22027:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893),o=n(65988),a=n.n(o);n(67294);t.Z=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",(0,i.Z)((0,r.Z)({viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeLinejoin:"round",width:"16",height:"16"},e),{strokeLinecap:"butt",strokeWidth:"2",className:"jsx-7839026188dcb3ba "+"".concat(e.className," spin"),children:(0,s.jsx)("path",{d:"M8 14a6 6 0 1 0-6-6",className:"jsx-7839026188dcb3ba"})})),(0,s.jsx)(a(),{id:"7839026188dcb3ba",children:".spin.jsx-7839026188dcb3ba{-webkit-animation-name:spin;-moz-animation-name:spin;-o-animation-name:spin;animation-name:spin;-webkit-animation-duration:1e3ms;-moz-animation-duration:1e3ms;-o-animation-duration:1e3ms;animation-duration:1e3ms;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;-o-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear;-o-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})},34091:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,s.jsx)("rect",{x:"3",y:"7",width:"10",height:"7",rx:"0.5",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M11 7.5V5C11 0.999963 5 1.00004 5 5V7.5",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("rect",{x:"7",y:"9",width:"2",height:"3",rx:"1",fill:"currentColor"})]}))},36307:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);t.Z=e=>(0,s.jsx)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M9.11458 11.5121L11.6146 8.51215L12.0414 8L11.6146 7.48785L9.11458 4.48785L7.88542 5.51215L9.29197 7.2L4 7.2V8.8L9.29197 8.8L7.88542 10.4879L9.11458 11.5121Z"})}))},11846:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,s.jsx)("path",{d:"M3.89356 6.41958C3.77277 6.47134 3.63973 6.5 3.5 6.5C2.94772 6.5 2.5 6.05228 2.5 5.5C2.5 4.94772 2.94772 4.5 3.5 4.5C3.63973 4.5 3.77277 4.52866 3.89356 4.58042C4.10781 3.91441 4.54852 3.34997 5.125 2.97779C4.65672 2.67547 4.09885 2.5 3.5 2.5C1.84315 2.5 0.5 3.84315 0.5 5.5C0.5 6.53244 1.02153 7.44307 1.81552 7.9828C0.686292 8.69052 0 10.0803 0 11.5V13.5H2V11.5C2 10.217 2.83454 9.5 3.5 9.5C3.57028 9.5 3.64086 9.50676 3.71117 9.52044C4.02446 8.88728 4.48683 8.34549 5.06552 7.9828C4.51822 7.61076 4.10038 7.06249 3.89356 6.41958Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M6.35644 4.58042C6.44966 4.87021 6.5 5.17923 6.5 5.5C6.5 5.82077 6.44966 6.12979 6.35644 6.41958C5.99982 6.26675 5.75 5.91255 5.75 5.5C5.75 5.08745 5.99982 4.73325 6.35644 4.58042Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M8.39356 6.41958C8.27277 6.47134 8.13973 6.5 8 6.5C7.44772 6.5 7 6.05228 7 5.5C7 4.94772 7.44772 4.5 8 4.5C8.13973 4.5 8.27277 4.52866 8.39356 4.58042C8.60781 3.91441 9.04852 3.34997 9.625 2.97779C9.15672 2.67547 8.59885 2.5 8 2.5C6.34315 2.5 5 3.84315 5 5.5C5 6.53244 5.52153 7.44307 6.31552 7.9828C5.18629 8.69052 4.5 10.0803 4.5 11.5V13.5H6.5V11.5C6.5 10.217 7.33454 9.5 8 9.5C8.07046 9.5 8.14103 9.50675 8.21121 9.52036C8.5245 8.88724 8.98685 8.34547 9.56552 7.9828C9.01822 7.61076 8.60038 7.06249 8.39356 6.41958Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M10.8564 4.58042C10.9497 4.87021 11 5.17923 11 5.5C11 5.82077 10.9497 6.12979 10.8564 6.41958C10.4998 6.26675 10.25 5.91255 10.25 5.5C10.25 5.08745 10.4998 4.73325 10.8564 4.58042Z",fill:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1845 7.9828C14.9785 7.44307 15.5 6.53244 15.5 5.5C15.5 3.84315 14.1569 2.5 12.5 2.5C10.8431 2.5 9.5 3.84315 9.5 5.5C9.5 6.53244 10.0215 7.44307 10.8155 7.9828C9.68629 8.69052 9 10.0803 9 11.5V13.5H11V11.5C11 10.217 11.8345 9.5 12.5 9.5C13.1655 9.5 14 10.217 14 11.5V13.5H16V11.5C16 10.0803 15.3137 8.69052 14.1845 7.9828ZM13.5 5.5C13.5 6.05228 13.0523 6.5 12.5 6.5C11.9477 6.5 11.5 6.05228 11.5 5.5C11.5 4.94772 11.9477 4.5 12.5 4.5C13.0523 4.5 13.5 4.94772 13.5 5.5Z",fill:"currentColor"})]}))},45532:function(e,t,n){n.d(t,{iA:function(){return o},sJ:function(){return a}});var r=n(41799),i=n(69396),s=n(85893);n(67294);const o=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor"},e),{children:[(0,s.jsx)("rect",{x:"1",y:"2.5",width:"14",height:"12",rx:"1",strokeWidth:"2"}),(0,s.jsxs)("g",{fill:"currentColor",children:[(0,s.jsx)("rect",{x:"5.5",y:"4",width:"1",height:"9"}),(0,s.jsx)("rect",{x:"2.5",y:"6",width:"11",height:"1"}),(0,s.jsx)("rect",{x:"2.5",y:"10",width:"11",height:"1"})]})]})),a=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,s.jsx)("rect",{x:"0.75",y:"1.75",width:"14.5",height:"12.5",rx:"1.25",stroke:"#454545",strokeWidth:"1.5"}),(0,s.jsx)("rect",{x:"5.375",y:"2.375",width:"0.75",height:"11.25",fill:"#454545",stroke:"#454545",strokeWidth:"0.75"}),(0,s.jsx)("rect",{x:"1.375",y:"5.375",width:"13.25",height:"0.75",fill:"#454545",stroke:"#454545",strokeWidth:"0.75"}),(0,s.jsx)("rect",{x:"1.375",y:"9.375",width:"13.25",height:"0.75",fill:"#454545",stroke:"#454545",strokeWidth:"0.75"})]}))},959:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsxs)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,s.jsx)("circle",{cx:"11",cy:"3",r:"2",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("circle",{cx:"5",cy:"9",r:"2",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85575 7.93168C9.40222 7.35772 10.1737 7 11.0288 7C12.6856 7 14.0288 8.34315 14.0288 10H16.0288C16.0288 7.23858 13.7902 5 11.0288 5C9.80797 5 8.68935 5.43753 7.82117 6.16433C8.30621 6.6469 8.66815 7.2531 8.85575 7.93168Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M9 16C9 13.7909 7.20914 12 5 12C2.79086 12 1 13.7909 1 16",stroke:"currentColor",strokeWidth:"2"})]}))},89905:function(e,t,n){var r=n(41799),i=n(69396),s=n(85893);n(67294);t.Z=e=>(0,s.jsx)("svg",(0,i.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 10 16",stroke:"currentColor",strokeWidth:"2"},e),{children:(0,s.jsx)("path",{d:"M1 4L9 12M9 4L1 12"})}))},84193:function(e,t,n){var r=n(41799),i=n(69396),s=n(99534),o=n(85893),a=n(31946),l=n(41664),c=n.n(l),d=n(11163),u=n(67294);function h(e){return a.j1.test(e)}t.Z=e=>{var{href:t,children:n}=e,a=(0,s.Z)(e,["href","children"]);const l=(0,d.useRouter)(),f=new URL(t,"https://observablehq.com"),m=l&&h(l.pathname),p=h(f.pathname);return function(e){return"https://observablehq.com"===e.origin}(f)&&m===p?(0,o.jsx)(c(),(0,i.Z)((0,r.Z)({href:t},a),{children:n})):u.cloneElement(u.Children.only(n),(0,r.Z)({href:t},m&&!p?{target:"_blank"}:null))}},42568:function(e,t,n){n.d(t,{Ly:function(){return x},R:function(){return S},Uk:function(){return k},YI:function(){return c.YI},j2:function(){return b},np:function(){return C},qy:function(){return y},rS:function(){return Z},sN:function(){return j},sd:function(){return w},ti:function(){return _},v2:function(){return c.v2}});var r=n(41799),i=n(69396),s=n(99534),o=n(85893),a=n(65988),l=n.n(a),c=n(48634),d=n(5977),u=n(63722),h=n(44754),f=n(51289),m=n(11163),p=n.n(m),v=n(67294),g=n(40287);const b=v.forwardRef((function(e,t){var{className:n}=e,a=(0,s.Z)(e,["className"]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.j2,(0,i.Z)((0,r.Z)({className:n},a),{ref:t})),(0,o.jsx)(l(),{id:"d6d7e798d9e95d06",children:":root{--reach-menu-button:1}[data-reach-popover]{z-index:2}"})]})})),x={right:(e,t)=>e&&t?{left:e.right+e.width+pageXOffset,top:e.top+pageYOffset-16}:{},bottomLeft:(e,t)=>e&&t?{left:e.right-t.width+pageXOffset,top:e.bottom+pageYOffset}:{}},y=e=>{var{style:t,className:n="",portal:a=!0,position:d}=e,u=(0,s.Z)(e,["style","className","portal","position"]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.YI,{portal:a,position:d,children:(0,o.jsx)(c.sd,(0,i.Z)((0,r.Z)({},u),{style:(0,r.Z)({marginTop:4,marginLeft:-17},t),className:"bg-white ba b--silver br2 pv2 shadow-4 outline-0 ".concat(n)}))}),(0,o.jsx)(l(),{id:"e7b7d6e7b559af87",children:"[data-reach-menu-item][data-selected]{color:var(--near-black);background-color:var(--near-white)}[data-reach-menu-item][data-selected].hover-blue{color:var(--blue)}[data-reach-menu-item][data-selected].hover-dark-red{color:var(--dark-red)}[data-reach-menu-item][data-selected].hover-bg-washed-red{background-color:var(--washed-red)}[data-reach-menu-item][aria-disabled]{opacity:.5;cursor:not-allowed}"})]})},w=e=>{var{style:t,className:n}=e,a=(0,s.Z)(e,["style","className"]);return(0,o.jsx)(c.sd,(0,i.Z)((0,r.Z)({},a),{style:(0,i.Z)((0,r.Z)({},t),{marginTop:-4}),className:"bg-white outline-0 ".concat(n)}))},C="w-100 bn flex items-center ph3 pv2 f6 lh-solid fw6 dark-gray bg-transparent pointer no-underline bg-animate",k=v.forwardRef((function(e,t){var{className:n="",href:a,onClick:l}=e,d=(0,s.Z)(e,["className","href","onClick"]);return(0,o.jsx)(c.Uk,(0,i.Z)((0,r.Z)({},d),{ref:t,href:a,onClick:(null===a||void 0===a?void 0:a.startsWith("/"))?e=>{e.metaKey||e.ctrlKey||(p().push(a),e.preventDefault()),null===l||void 0===l||l(e)}:l,className:"".concat(C," ").concat(n)}))})),j=v.forwardRef((function(e,t){var{className:n=""}=e,a=(0,s.Z)(e,["className"]);return(0,o.jsx)(c.sN,(0,i.Z)((0,r.Z)({},a),{ref:t,className:"".concat(C," ").concat(n)}))})),_=e=>{let{children:t}=e;return(0,o.jsx)("div",{className:"pv2 ph3 f7 fw5 nowrap mid-gray",children:t})},S=()=>(0,o.jsx)("div",{className:"bt b--light-silver mv2"});const Z=e=>{let{children:t,offsetTop:n=0}=e;const[,r,i]=(0,h.G)(!1,f.n4?0:80),[s,...a]=t,c=(0,v.useRef)(null),m=(0,d.EL)(c);return(0,o.jsxs)("div",{ref:c,className:l().dynamic([["9c78fc02c809964a",[n,n]]])+" relative",children:[(0,o.jsxs)(j,{onSelect:()=>{},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onMouseUp:e=>e.preventDefault(),className:"flex justify-between",children:[(0,o.jsx)("div",{className:l().dynamic([["9c78fc02c809964a",[n,n]]]),children:s}),(0,o.jsx)(g.Z,{className:"pl2"})]}),i?(0,o.jsx)(d.UL,{children:e=>{let{rect:t,ref:i}=e;const s=function(e,t){if(e&&t){const n=(0,u.ZY)();return e.x+e.width+t.width<n.width?"right":e.x-t.width>0?"left":"center"}return"right"}(m,t);return(0,o.jsx)("div",{ref:i,role:"menu",tabIndex:-1,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),className:l().dynamic([["9c78fc02c809964a",[n,n]]])+" "+"absolute ba b--silver br2 shadow-4 outline-0 pv2 bg-white z-1 ".concat(s),children:a})}}):null,(0,o.jsx)(l(),{id:"9c78fc02c809964a",dynamic:[n,n],children:'[role="menu"].absolute.left.__jsx-style-dynamic-selector{right:-webkit-calc(100% - var(--spacing-extra-small));right:-moz-calc(100% - var(--spacing-extra-small));right:calc(100% - var(--spacing-extra-small));top:-webkit-calc(-9px + '.concat(n,"px);top:-moz-calc(-9px + ").concat(n,"px);top:calc(-9px + ").concat(n,'px)}[role="menu"].absolute.right.__jsx-style-dynamic-selector{left:-webkit-calc(100% - var(--spacing-extra-small));left:-moz-calc(100% - var(--spacing-extra-small));left:calc(100% - var(--spacing-extra-small));top:-webkit-calc(-9px + ').concat(n,"px);top:-moz-calc(-9px + ").concat(n,"px);top:calc(-9px + ").concat(n,'px)}[role="menu"].absolute.center.__jsx-style-dynamic-selector{right:-webkit-calc(50%);right:-moz-calc(50%);right:calc(50%);top:100%}')})]})}},93452:function(e,t,n){n.d(t,{On:function(){return b},fe:function(){return p},mz:function(){return g},pe:function(){return v},xB:function(){return m},zm:function(){return f}});var r=n(41799),i=n(85893),s=n(65988),o=n.n(s),a=n(56424),l=n(37497),c=n(16691),d=n(67294),u=n(40042),h=n(89905);function f(e){return(0,u.$j)((e=>{let{currentUser:t,context:n,decorations:r}=e;return{currentUser:t,context:n,decorations:r}}),(e=>({dispatch:e})))((t=>{let{decorations:{modal:n,modalProps:s},dispatch:o}=t;const a=e[n];return null===a?null:void 0===a?(console.error("Unknown modal tried to be shown ".concat(n,". Are you using the wrong Modal element? Or multiple Modal elements?")),null):(0,i.jsx)(a,(0,r.Z)({onDismiss:()=>o({type:"dismissModal",modal:n})},s))}))}const m=e=>{let{icon:t,title:n,onDismiss:r}=e;return(0,i.jsxs)("div",{className:"pa3 flex items-center justify-between near-black",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[t&&(0,i.jsx)(t,{className:"mr2"}),(0,i.jsx)("div",{className:"f5 fw6",id:"modal-title",children:n})]}),(0,i.jsx)(l.hU,{icon:h.Z,onClick:r,colorless:!0,tabIndex:-1})]})},p=e=>{let{children:t,maxHeight:n}=e;return(0,i.jsxs)("div",{style:n?{maxHeight:n,overflowY:"scroll"}:void 0,className:"jsx-68ff8fc83a5311f3 modal-content b--silver bt bb dark-gray f6 fw4 lh-copy",children:[(0,i.jsx)("div",{className:"jsx-68ff8fc83a5311f3 ma3",children:t}),(0,i.jsx)(o(),{id:"68ff8fc83a5311f3",children:".modal-content.jsx-68ff8fc83a5311f3{background-color:#fbfbfb}"})]})},v=e=>{let{title:t,className:n="mt4"}=e;return(0,i.jsx)("div",{className:"".concat(n," f6 fw6 near-black mb2"),children:t})},g=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"pa3",children:t})},b=e=>{let{icon:t,title:n,description:r,onConfirm:s,onCancel:u,isConfirming:h,destructive:f,confirmText:m="Confirm",cancelText:p="Cancel",showDontShowAgain:v=!1}=e;const g=(0,d.useRef)(null),{0:b,1:x}=(0,d.useState)(!1);return(0,i.jsxs)(a.Vq,{"aria-labelledby":"modal-title",className:"flex flex-column db-ns",initialFocusRef:g,onDismiss:u,children:[(0,i.jsxs)("div",{className:"pa3 near-black flex-grow-1",children:[(0,i.jsxs)("div",{className:"flex items-center mb3 pt2",children:[t&&(0,i.jsx)(t,{className:"mr2"}),(0,i.jsx)("div",{className:"f5 fw6",id:"modal-title",children:n})]}),(0,i.jsx)("div",{className:"lh-copy f6 fw5 dark-gray pb2",children:r})]}),(0,i.jsxs)("div",{className:"jsx-6ae62d1a7647adc7 pa3 dialog-end-section br3-ns br--bottom-ns bt b--silver",children:[(0,i.jsxs)("div",{className:"jsx-6ae62d1a7647adc7 flex justify-between items-center",children:[v?(0,i.jsx)(c.X,{onChange:e=>x(e.target.checked),checked:b,label:"Don\u2019t show again"}):(0,i.jsx)("div",{className:"jsx-6ae62d1a7647adc7"}),(0,i.jsxs)("div",{className:"jsx-6ae62d1a7647adc7 flex justify-end",children:[(0,i.jsx)(l.kq,{onClick:u,text:p}),(0,i.jsx)(l.KM,{ref:g,onClick:function(){s(b)},text:m,loading:h,destructive:f})]})]}),(0,i.jsx)(o(),{id:"6ae62d1a7647adc7",children:".dialog-end-section.jsx-6ae62d1a7647adc7{background-color:#fbfbfb}"})]})]})}},90771:function(e,t,n){n.d(t,{a:function(){return a}});var r=n(85893),i=n(8385),s=n(33090),o=n(36448);const a=e=>{let{owners:t,selectedOwner:n,setSelectedOwner:a,disabledOwners:l,disabledReason:c,hasHighlightBackground:d=!1}=e;return(0,r.jsx)(r.Fragment,{children:t.map((e=>{const t=e.id===n.id,u=null===l||void 0===l?void 0:l.map((e=>e.id)).includes(e.id);return(0,r.jsx)("div",{className:d?"animate-all ".concat(t?"white bg-blue hover-bg-dark-blue":"hover-bg-black-05"):void 0,children:(0,r.jsx)(s.E,{className:"f6 fw6 ".concat(d?"ph3 pv1":"mb2"),title:u&&c?c:"",label:(0,r.jsxs)("div",{className:"flex items-center truncate ".concat(d&&t?"hover-white ":""),children:[(0,r.jsx)(i.q,{user:e,size:24,className:"flex mr2 br-100"}),(0,r.jsx)("div",{className:"truncate",children:(0,o.RX)(e)})]}),value:"owner",hiddenButton:d,disabled:u,checked:t,onChange:()=>a(e)},e.id)},e.id)}))})}},95577:function(e,t,n){n.d(t,{N:function(){return c}});var r=n(85893),i=n(72815),s=n(37497),o=n(17905),a=n(12447),l=n(40042);const c=e=>{let{handleUpsellDismiss:t,user:n,nextPath:c,size:d="large"}=e;const u=(0,l.I0)(),{currentModal:h,currentModalProps:f}=(0,l.v9)((e=>({currentModal:e.decorations.modal,currentModalProps:e.decorations.modalProps})));let m;m=t||("none"!==h?()=>{u({type:"showModal",modal:h,modalProps:f})}:()=>{u({type:"dismissModal"})});const p=(0,a.GS)(a.ro),v=(0,r.jsx)(s.Qj,{className:"ph1 dark-blue lh-solid hover-lightest-blue",text:(0,r.jsxs)(r.Fragment,{children:["small"===d&&"Edit in private with Pro","large"===d&&(p?"Pro":"".concat("team"===n.type?"Pro Teams":"Pro Individual"," ")),(0,r.jsx)(o.Z,{})]}),onClick:()=>{u({type:"showModal",modal:"changeUserTier",modalProps:{user:n,initialTier:"pro",nextPath:c,onDismiss:m}})}});return(0,r.jsxs)("div",{className:"flex items-center justify-start mv2 lh-solid",children:["large"===d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.C,{className:"mr1",type:"purple",label:"Pro",size:"thin",isFilled:!0}),p?"Edit in private with ":"Edit in private with a free trial of "]}),v]})}},61142:function(e,t,n){n.d(t,{YI:function(){return v},qC:function(){return p},uC:function(){return m}});var r=n(85893),i=n(72815),s=n(33090),o=n(87769),a=n(34091),l=n(11846),c=n(66421),d=n(3142),u=n(36448),h=n(67294),f=n(95577);const m={"team-edit":"editor","team-view":"viewer",public:"editor",private:null},p="Visibility",v=e=>{let{currentUser:t,selectedOwner:n,visibility:m,setVisibility:p,maxVisibility:v="public",showProBadge:g=!1,handleUpsellDismiss:b,nextPath:x}=e;const y="team"===n.type&&"pro"===n.tier,w="team"===n.type&&"pro_enterprise"===n.tier,C="team"===n.type&&"public"===n.tier,k="team"===n.type&&"basic"===n.tier,j="team"===n.type&&"enterprise"===n.tier,_="individual"===n.type&&"public"===n.tier,S="individual"===n.type&&"pro"===n.tier;(0,h.useEffect)((()=>{if("team"===n.type)"public"===n.tier?p("public"):(0,d.Xl)(t,n.id)?p("private"):p("private"===v?"private":"team-edit");else{p({basic:"private",public:"public",pro:"private",enterprise:"private",pro_enterprise:"private"}[n.tier])}return()=>{"basic"===n.tier&&p("private")}}),[t,p,n,v]);const Z="individual"===n.type?t:(0,u.xT)(t,n),T=e=>{let{isTeam:t=!1,disabled:n=!1,addHover:s=!0}=e;return(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)(i.C,{addHover:s,type:n?"disabled":"green",icon:o.Z,label:"Public",title:"Anyone can view, ".concat(t?"your team":"you"," can edit")})})},L=e=>{let{disabled:t=!1}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(i.C,{addHover:!0,type:t?"disabled":"purple",icon:l.Z,label:"Team",title:"Your team can view and edit"}),t&&g&&(0,r.jsx)(i.C,{type:"purple",isFilled:!0,label:"Pro"})]})},M=e=>{let{selectedOwner:t}=e;const n=!(0,d.K3)(t);return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(i.C,{addHover:!n,type:n?"disabled":"purple",icon:a.Z,label:"Only you",title:"You can view and edit"}),n&&g&&(0,r.jsx)(i.C,{type:"purple",isFilled:!0,label:"Pro"})]})};return C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.E,{label:T({isTeam:!0,disabled:"public"!==v}),value:"Public",checked:"public"===m,onChange:()=>p("public"),disabled:!1}),(0,r.jsx)(s.E,{label:L({disabled:!0}),checked:!1,disabled:!0}),(0,r.jsx)(s.E,{label:M({currentUser:t,selectedOwner:n}),checked:!1,disabled:!0}),(0,r.jsx)(r.Fragment,{children:(0,c.Yz)(t,n)&&(0,r.jsx)(f.N,{size:g?"small":"large",user:Z,handleUpsellDismiss:b,nextPath:x})})]}):y||w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.E,{label:T({isTeam:!0,disabled:"public"!==v}),value:"Public",checked:"public"===m,onChange:()=>p("public"),disabled:"public"!==v}),(0,r.jsx)(s.E,{label:L({disabled:!("team-edit"===v||"public"===v)}),checked:"team-edit"===m,onChange:()=>p("team-edit"),disabled:!("team-edit"===v||"public"===v)}),(0,r.jsx)(s.E,{label:M({currentUser:t,selectedOwner:n}),checked:"private"===m,onChange:()=>p("private")})]}):k||j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.E,{label:"Team can view and edit",checked:"team-edit"===m,onChange:()=>p("team-edit")}),(0,r.jsx)(s.E,{label:"Team can view only",checked:"team-view"===m,onChange:()=>p("team-view")}),(0,r.jsx)(s.E,{label:"Private",checked:"private"===m,onChange:()=>p("private")})]}):_||S?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.E,{label:T({isTeam:!1,disabled:"public"!==v}),value:"Public",disabled:"public"!==v,checked:"public"===m,onChange:()=>p("public")}),(0,r.jsx)(s.E,{label:M({selectedOwner:n,currentUser:t}),value:"Private",disabled:!S,checked:"private"===m,onChange:()=>p("private")}),_&&(0,r.jsx)(f.N,{size:g?"small":"large",user:Z,handleUpsellDismiss:b,nextPath:x})]}):null}},18643:function(e,t,n){n.d(t,{V:function(){return b},Z:function(){return g}});var r=n(41799),i=n(69396),s=n(92876),o=n(6917),a=n(602),l=n(5969),c=n(51970),d=n(31946),u=n(66421),h=n(3142),f=n(37724),m=n(98841),p=n(95757);function v(e,t){return e.version<t.version||e.version===t.version&&e.subversion<t.subversion}class g{setState(e,t){if(this._isSettingState)throw this._isSettingState=!1,new Error("Reentrant client setState call");try{if(this._isSettingState=!0,"aborted"===this._state)return;const{saveVersion:n,saveSubversion:r,id:i,clientState:s}=e;if(i!==this.id)throw new Error("cannot set client state - unstable id");if((0,u.ZK)(e)!==this.clientRole)throw new Error("cannot set client state - unstable role");if("aborted"===s)throw new Error("cannot set client state - client aborted");if(this._notebookState=e,this._currentUser=t,"closed"===this._state)w("client ?",{debug:"reopen",in:"setState"}),this._saveVersionPair={version:n,subversion:r},this._updateState("reopening"),this._reopen(),document.addEventListener("visibilitychange",this._visibilitychanged);else{if(v(this._saveVersionPair,{version:n,subversion:r}))throw new Error("cannot set client state - version skew");this._save()}}finally{this._isSettingState=!1}}_cleanup(){w("client ?",{in:"_cleanup"}),this._saveFocusId=null,this._saveSelection=null,this._saveSnapshot=null,this._saveVersionPair=null,this._savingFromStash=!1,this._notebookState=null,this._currentUser=null,this._token=null,this._reopenTimer&&(clearTimeout(this._reopenTimer),this._reopenTimer=null),this._pingInterval&&(clearInterval(this._pingInterval),this._pingInterval=null),this._staleTimer&&(clearTimeout(this._staleTimer),this._staleTimer=null),this._saveSelectionTimer&&(clearTimeout(this._saveSelectionTimer),this._saveSelectionTimer=null),this._stashTimer&&(clearTimeout(this._stashTimer),this._stashTimer=null),this._clientStateTimer&&(clearTimeout(this._clientStateTimer),this._clientStateTimer=null),this._socket&&(this._socket.removeEventListener("open",this._opened),this._socket.removeEventListener("close",this._closed),this._socket.removeEventListener("message",this._messaged),this._socket.close(),this._socket=null),document.removeEventListener("visibilitychange",this._visibilitychanged)}close(){"closed"!==this._state&&"aborted"!==this._state&&(this._cleanup(),this._updateState("closed"))}abort(e){e&&console.error(e),"aborted"!==this._state&&(this._cleanup(),this._updateState("aborted"),(0,s.uT)("unknown abort: ".concat(e),"error"))}_send(e){if(w("client \u2191",e),!this._socket)throw new Error("No socket at this._socket");this._socket.send(JSON.stringify(e))}_handleReverts(e){const t=e.filter((e=>"revert"===e.type));return t.length>0&&(this._dispatch({type:"revertRequested",version:t[t.length-1].node_id,saveVersion:t[t.length-1].version,remote:!0}),this.close(),!0)}_save(){if("live"===this.clientRole)return;if("edit"!==this.clientRole)return void this._saveComments();if((0,h.oI)(this._notebookState)&&!this._stashTimer&&(this._stashTimer=setTimeout(this._setStash,1e3)),"idle"!==this._state)return;const{saveVersion:e,saveSubversion:t}=this._notebookState;v({version:e,subversion:t},this._saveVersionPair)||this._saveChanges()||(this._saveFiles(),this._saveNewFocus(),this._saveComments())}_saveChanges(){const{model:e,editorStates:t}=this._notebookState;let n=e.events.slice(this._saveVersionPair.version+1).map((e=>(0,p.e)(e))),i=b(t);if(!n.length&&!i.length){const e=this._getStash();((null===e||void 0===e?void 0:e.events.length)||(null===e||void 0===e?void 0:e.edits.length))&&(({events:n,edits:i}=e),this._savingFromStash=!0)}return!(!n.length&&!i.length)&&(this._updateState("saving"),this._saveSnapshot=(0,r.Z)({events:n,edits:i},this._saveVersionPair),this._send((0,r.Z)({type:"save",events:n,edits:i},this._saveVersionPair)),!0)}_saveFiles(){const{files:e}=this._notebookState;if(e!==this._lastSavedFiles){this._lastSavedFiles=e;for(const n of this._savingFiles){var t;"local"!==(null===(t=e.get(n))||void 0===t?void 0:t.status)&&this._savingFiles.delete(n)}for(const t of this._deletingFiles){var n;"deletepending"!==(null===(n=e.get(t))||void 0===n?void 0:n.status)&&this._deletingFiles.delete(t)}for(const[t,n]of e)this._savingFiles.has(t)||this._deletingFiles.has(t)||("local"===n.status&&(this._savingFiles.add(t),(0,l.mU)({id:this.id,name:t,file:n.blob,dispatch:this._dispatch}).catch((()=>{}))),"deletepending"===n.status&&(this._deletingFiles.add(t),(0,l.T4)({id:this.id,name:t,dispatch:this._dispatch})))}}_saveComments(){const{comments:e}=this._notebookState;if(e===this._lastSavedComments)return;this._lastSavedComments=e;const t=new Map,n=new Map,r=new Set,i=new Set,s=new Set,o=new Set,a=new Set,l=new Set;for(const[c,d]of e)for(const e of d)switch(e.status){case"local":this._savingComments.has(e.nonce)?s.add(e.nonce):t.set(e.nonce,{nodeId:c,content:e.content});break;case"updatePending":this._updatingComments.has(e.id)?o.add(e.id):n.set(e.id,{content:e.content});break;case"deletePending":this._deletingComments.has(e.id)?l.add(e.id):r.add(e.id);break;case"resolvePending":this._resolvingComments.has(e.id)?a.add(e.id):i.add(e.id)}for(const c of this._savingComments)s.has(c)||this._savingComments.delete(c);for(const c of this._deletingComments)l.has(c)||this._deletingComments.delete(c);for(const c of this._resolvingComments)a.has(c)||this._resolvingComments.delete(c);for(const c of this._updatingComments)o.has(c)||this._updatingComments.delete(c);if(t.size)for(const[c,{nodeId:d,content:u}]of t)this._savingComments.add(c),this._send({type:"comment",content:u,nonce:c,node_id:d});if(n.size)for(const[c,{content:d}]of n)this._updatingComments.add(c),this._send({type:"commentmodify",content:d,id:c});if(r.size){for(const e of r)this._deletingComments.add(e);this._send({type:"commentdelete",ids:Array.from(r)})}if(i.size){for(const e of i)this._resolvingComments.add(e);this._send({type:"commentresolve",ids:Array.from(i),resolved:!0})}}_saveNewFocus(){const{saveVersion:e,saveSubversion:t,editorStates:n,focusId:r}=this._notebookState,i=null!==r?n.get(r):null,s=(null===i||void 0===i?void 0:i.selection)||null;this._saveFocusId===r&&this._saveSelection===s||(this._saveFocusId=r,this._saveSelection=s,this._saveSelectionTimer&&clearTimeout(this._saveSelectionTimer),this._saveSelectionTimer=setTimeout((()=>{this._send({type:"focus",node_id:r,selection:s&&s.toJSON(),version:e,subversion:t}),this._saveSelectionTimer=null}),100))}_getStash(){const e=f.X.getItem("notebook-next-".concat(this.id));if(!e)return;const t=JSON.parse(e,c.j);return t.version!==this._saveVersionPair.version||t.subversion!==this._saveVersionPair.subversion?void 0:t}_clearStash(){f.X.removeItem("notebook-next-".concat(this.id))}constructor(e,t,n){this._dispatch=e,this.clientRole=t,this.id=n,this._state="closed",this._clientStateTimer=null,this._socket=null,this._token=null,this._reopenDelay=250,this._staleDelay=6e4,this._reopenTimer=null,this._pingInterval=null,this._staleTimer=null,this._saveFocusId=null,this._saveSelection=null,this._saveVersionPair=null,this._saveSnapshot=null,this._savingFromStash=!1,this._stashTimer=null,this._notebookState=null,this._currentUser=null,this._saveSelectionTimer=null,this._savingFiles=new Set,this._deletingFiles=new Set,this._savingComments=new Set,this._updatingComments=new Set,this._resolvingComments=new Set,this._deletingComments=new Set,this._lastSavedFiles=null,this._lastSavedComments=null,this._isSettingState=!1,this._reopen=()=>{if("reopening"!==this._state)throw new Error("unexpected state: ".concat(this._state.toString()));this._reopenTimer&&(clearTimeout(this._reopenTimer),this._reopenTimer=null),document.hidden?w("client ?",{debug:"document hidden",in:"_reopen"}):(this._staleTimer||(this._staleTimer=setTimeout(this._stale,this._staleDelay)),this._token=(0,a.FN)(),this._socket=new WebSocket("".concat((0,d.ke)(),"/document/").concat(this.id,"/").concat(this.clientRole)),this._socket.addEventListener("open",this._opened),this._socket.addEventListener("close",this._closed),this._socket.addEventListener("message",this._messaged),this._updateState("opening"))},this._opened=()=>{if("opening"!==this._state)throw new Error("unexpected state: ".concat(this._state.toString()));this._updateState("greeting"),this._send({type:"hello",token:this._token,version:this._saveVersionPair.version,next:!0}),this._pingInterval=setInterval(this._ping,3e4)},this._closed=()=>{w("client ?",{in:"_closed"}),isFinite(this._reopenDelay)&&(this._reopenDelay=Math.min(6e4,this._reopenDelay*(1+Math.random()))),this._reopenTimer&&(clearTimeout(this._reopenTimer),this._reopenTimer=null),this._pingInterval&&(clearInterval(this._pingInterval),this._pingInterval=null),this._saveSelectionTimer&&(clearTimeout(this._saveSelectionTimer),this._saveSelectionTimer=null),this._stashTimer&&(clearTimeout(this._stashTimer),this._stashTimer=null),this._clientStateTimer&&(clearTimeout(this._clientStateTimer),this._clientStateTimer=null),this._reopenTimer=setTimeout(this._reopen,this._reopenDelay),this._updateState("reopening"),this._socket=null,this._saveFocusId=null,this._saveSelection=null,this._saveSnapshot=null,this._savingFromStash=!1,this._token=null},this._stale=()=>{w("client ?",{in:"_stale"}),this.close()},this._ping=()=>{document.hidden||this._send({type:"ping"})},this._updateState=e=>{if(this._state!==e){w("client \xb7",{state:e});const t=this._state;this._state=e,this._clientStateTimer?"idle"===e&&(clearTimeout(this._clientStateTimer),this._clientStateTimer=null):"idle"===t&&"saving"===e?this._clientStateTimer=setTimeout((()=>{this._dispatch({type:"clientStateChanged",clientState:this._state}),this._clientStateTimer=null}),2e3):this._dispatch({type:"clientStateChanged",clientState:this._state})}},this._visibilitychanged=()=>{document.hidden?this._staleTimer&&(clearTimeout(this._staleTimer),this._staleTimer=null):"reopening"===this._state?this._reopen():!this._staleTimer&&this._socket&&(this._staleTimer=setTimeout(this._stale,this._staleDelay))},this._messaged=e=>{const t=JSON.parse(e.data,c.j);switch(w("client \u2193",t),this._staleTimer&&clearTimeout(this._staleTimer),this._staleTimer=setTimeout(this._stale,this._staleDelay),t.type){case"hello":return"greeting"!==this._state?this.abort("unexpected hello"):(this._reopenDelay=Math.max(250,this._reopenDelay/10),void this._updateState("loading"));case"load":{if("loading"!==this._state)return this.abort("unexpected load");if(this._updateState("idle"),"comments"===this.clientRole)return;const{events:e,edits:n,version:r,subversion:i}=function(e){if(!("events"in e))throw new Error("Expected complete load message, got incomplete");return e}(t),s={version:r,subversion:i};if(v(s,this._saveVersionPair))return this.abort("load - version skew");if(this._handleReverts(e))return;return this._saveVersionPair=s,this._dispatch({type:"synced",saveVersion:r,saveSubversion:i,saveTime:new Date,events:e,edits:n}),void this._save()}case"error":{if("saving"!==this._state)return this.abort("unexpected error");this._updateState("idle");const{version:e,subversion:t}=this._saveSnapshot;return(0,s.n_)({type:"error",category:"client",level:"error",message:"Error while saving",data:{version:e,subversion:t,savingFromStash:this._savingFromStash}}),this._saveSnapshot=null,this._savingFromStash=!1,void(v({version:e,subversion:t},this._saveVersionPair)&&this._save())}case"saveconfirm":{const{version:e,subversion:n}=t;if("saving"!==this._state)return this.abort("unexpected saveconfirm");if(v({version:e,subversion:n},this._saveVersionPair))return this.abort("saveconfirm message - version skew");this._stashTimer&&(clearTimeout(this._stashTimer),this._stashTimer=null),this._updateState("idle");const{events:r,edits:i}=this._saveSnapshot;return this._saveSnapshot=null,this._saveVersionPair={version:e,subversion:n},this._savingFromStash?(this._savingFromStash=!1,this._clearStash(),this._dispatch({type:"saveReceived",saveVersion:e,saveSubversion:n,saveTime:new Date,events:r,edits:i})):this._dispatch({type:"saveConfirmed",saveVersion:e,saveSubversion:n,saveTime:new Date,events:r,edits:i}),void(this._notebookState&&"default"===this._notebookState.subscriptionState&&this._dispatch({type:"updateSubscription",status:"comments"}))}case"save":{const{events:e,edits:n,version:r,subversion:i}=t;if(v({version:r,subversion:i},this._saveVersionPair))return this.abort("save message - version skew");if(this._handleReverts(e))return;return this._saveVersionPair={version:r,subversion:i},void this._dispatch({type:"saveReceived",saveVersion:r,saveSubversion:i,saveTime:new Date,events:e,edits:n})}case"comments":return void this._dispatch({type:"commentsUpdated",comments:t.comments});case"file":return void this._dispatch({type:"remoteFileUpdated",file:t.file,ownUpload:this._savingFiles.has(t.file.name)});case"presence":{const e=t.participants.slice();if(e.length&&null!==this._currentUser){const n=t.participants.findIndex((e=>e.id===this._currentUser.id));let s;n>=0?[s]=e.splice(n,1):s=(0,i.Z)((0,r.Z)({},this._currentUser),{node_ids:[],selections:[]}),e.unshift((0,i.Z)((0,r.Z)({},s),{self:!0}))}return void this._dispatch({type:"presence",participants:e})}case"commentresolveconfirm":return void this._dispatch({type:"resolveCommentsConfirmed",ids:t.ids});case"commentconfirm":return void this._dispatch({type:"commentSaveConfirmed",nonce:t.nonce,id:t.id,createTime:new Date(t.create_time),updateTime:null===t.update_time?null:new Date(t.update_time)});case"commentdeleteconfirm":return void this._dispatch({type:"commentsDeleteConfirmed",ids:t.ids});case"commentmodifyconfirm":return void this._dispatch({type:"commentsUpdated",comments:[(0,r.Z)({},t.comment)]});case"commentlock":return void this._dispatch({type:"commentingLockSaved",commentingLock:t.lockStatus});case"subscription":{var n;const e="none"===t.status?"none":"comments";return void((null===(n=this._notebookState)||void 0===n?void 0:n.subscriptionState)!==e&&this._dispatch({type:"updateSubscriptionSucceeded",status:e,trigger:void 0,source:void 0}))}case"pong":return;case null:return void w("null message type")}},this._setStash=()=>{const{model:e,editorStates:t,saveVersion:n,saveSubversion:r}=this._notebookState,i=e.events.slice(n+1).map((e=>(0,p.e)(e))),s=b(t);f.X.setItem("notebook-next-".concat(this.id),JSON.stringify({events:i,edits:s,version:n,subversion:r})),this._stashTimer=null},w("client \xb7",{clientRole:t})}}function b(e){const t=[];for(const[n,r]of e){const e=(0,o.hp)(r);t.push(...e.map((e=>x(e,n))))}return t}function x(e,t){const n=[];return e.changes.iterChanges(((e,t,r,i,s)=>{n.push({from:e,to:t,insert:s.toString()})})),{node_id:t,length:e.changes.desc.length,changes:n}}const y=(0,m.P)(s.n_,(e=>{var t,n,r,i;return JSON.stringify([e.message,null===(t=e.data)||void 0===t?void 0:t.type,null===(n=e.data)||void 0===n?void 0:n.status,null===(r=e.data)||void 0===r?void 0:r.debug,null===(i=e.data)||void 0===i?void 0:i.in])}));function w(e,t){y({category:"client",level:"debug",message:e,data:t})}},23952:function(e,t,n){n.d(t,{NE:function(){return C},Zd:function(){return _},e1:function(){return j}});var r=n(41799),i=n(69396),s=n(85893),o=n(56424),a=n(37497),l=n(76267),c=n(959),d=n(90771),u=n(61142),h=n(82018),f=n(66421),m=n(3142),p=n(11163),v=n.n(p),g=n(67294),b=n(54924),x=n(59533),y=n(75713),w=n(93452);function C(e){return(0,f.RS)(e)||"pro"===(null===e||void 0===e?void 0:e.tier)}const k=e=>{const{notebook:t,currentUser:n,dispatch:l,onDismiss:c}=e,p=[n,...(0,f.T1)(n)].filter((e=>(0,f.bb)(n,t,e))),b=[n,...(0,f.T1)(n)],C=(0,f.ev)(n,t),k={fork:p,transfer:b}[e.type],j={fork:k.find((e=>e.id===t.owner.id))||k[0],transfer:k.filter((e=>e.id!==t.owner.id))[0]||k[0]}[e.type],_="transfer"===e.type?k.filter((e=>{const n=C.some((t=>t.id===e.id));if("team"===e.type&&!n)return!1;return e.id===t.owner.id})):[],{0:S,1:Z}=(0,g.useState)("private"),{0:T,1:L}=(0,g.useState)(j),{0:M,1:N}=(0,g.useState)(!1);async function E(){N(!0);const e=await(0,h.R)((0,i.Z)((0,r.Z)({notebook:t,currentUser:n,dispatch:l,trigger:"click",source:"forkModal"},"team"===T.type?{teamId:T.id}:void 0),{showToast:!1,live:"public"===S,teamRole:"team"===T.type?u.uC[S]:null}));e?v().push("/d/".concat(e.id)):c(),N(!1)}async function P(){N(!0);const n=e;await(0,x.r)({notebook:t},{type:"transfer",newOwner:T,relocate:n.relocate,teamRole:"team"===T.type?u.uC[S]:null,live:"public"===S},l),N(!1),c()}(0,g.useEffect)((()=>{"basic"!==T.tier&&"enterprise"!==T.tier||Z("private")}),[T,Z]);const R=function(t){return"transfer"===e.type||(0,m.fN)(t)||(0,m.s9)(t)?"public":(0,m.nt)(t)?"team-edit":"private"}(t),A="basic"!==T.tier&&"enterprise"!==T.tier,U="public"!==R&&"public"===S,O=t=>{t.preventDefault(),{fork:E,transfer:P}[e.type]()};return(0,s.jsx)(o.Vq,{onDismiss:c,"aria-labelledby":"modal-title","data-dialog-wide":!0,children:(0,s.jsxs)(y.l,{className:"relative",onSubmit:O,onKeyDown:e=>{"Enter"===e.key&&O(e)},children:[(0,s.jsx)(w.xB,{title:e.title,icon:e.icon,onDismiss:c}),(0,s.jsxs)(w.fe,{children:[(0,s.jsx)(w.pe,{className:"mt0",title:"Workspace"}),(0,s.jsx)("div",{className:"pb1 ph3",children:(0,s.jsx)(d.a,{owners:k.sort((e=>_.map((e=>e.id)).includes(e.id)?-1:1)),selectedOwner:T,setSelectedOwner:L,disabledOwners:_,disabledReason:"Only team owners can transfer public or shared notebooks into this team.",hasHighlightBackground:!1})}),A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.pe,{className:"mt3 inline-flex items-center",title:u.qC}),(0,s.jsx)("div",{className:"pb1 mh3",children:(0,s.jsx)(u.YI,{maxVisibility:R,currentUser:n,selectedOwner:T,visibility:S,setVisibility:Z})})]})]}),(0,s.jsx)(w.mz,{children:(0,s.jsxs)(a.CQ,{children:[(0,s.jsx)(a.kq,{text:"Cancel",type:"reset",onClick:c}),(0,s.jsx)(a.KM,{type:"submit",onClick:O,loading:M,text:e.title,disabled:U})]})})]})})},j=(0,b.ZV)((e=>{let{notebook:t,currentUser:n}=e;return{notebook:t,currentUser:n}}),(e=>({dispatch:e})))((e=>k((0,i.Z)((0,r.Z)({},e),{type:"fork",title:"Fork",icon:l.Z})))),_=(0,b.ZV)((e=>{let{notebook:t,currentUser:n,relocate:r,live:i}=e;return{notebook:t,currentUser:n,relocate:r,live:i}}),(e=>({dispatch:e})))((e=>k((0,i.Z)((0,r.Z)({},e),{type:"transfer",title:"Transfer",icon:c.Z}))))},39736:function(e,t,n){n.d(t,{F1:function(){return h},LE:function(){return b},MI:function(){return m},PK:function(){return v},bF:function(){return g},xk:function(){return x}});var r=n(85893),i=n(65988),s=n.n(i),o=n(37497),a=(n(67294),n(40042)),l=n(49516),c=n(54256),d=n(27919),u=n(22027);const h=(0,a.$j)((e=>{let{decorations:{toasts:t}}=e;return{toasts:t}}),null)((e=>{let{toasts:t}=e;return t.length>0?(0,r.jsx)("div",{className:"fixed pen z-1",style:{top:75,left:0,right:0},children:(0,r.jsx)("div",{className:"w-100 mw6 center",children:t.map(((e,t)=>(0,r.jsx)("div",{className:"pea",children:e},t)))})}):null})),f="flex justify-between bg-white f6 items-center pa3 fw5 ba b--silver dark-gray br2 light-shadow-2 mb3",m=(0,r.jsx)(l.Z,{className:"w1 h1 mh2 light-green flex-no-shrink bg-lightest-green br-pill"}),p=(0,r.jsx)(u.Z,{className:"w1 h1 mh2 blue flex-no-shrink"}),v=e=>{let{message:t,onDismiss:n,yellowIcon:i=!1}=e;return(0,r.jsxs)("div",{className:"jsx-abbb3771bd89a275 "+f,children:[(0,r.jsxs)("div",{className:"jsx-abbb3771bd89a275 flex items-center break-word",children:[i?(0,r.jsx)(c.Z,{className:"w1 h1 mh2 flex-no-shrink"}):(0,r.jsx)(d.Z,{className:"w1 h1 mh2 flex-no-shrink"}),t]}),(0,r.jsx)(o.sn,{onClick:n,text:"Dismiss",colorless:!0}),(0,r.jsx)(s(),{id:"abbb3771bd89a275",children:".light-shadow-2.jsx-abbb3771bd89a275{-webkit-box-shadow:0 4px 16px 0px rgba(0,0,0,.16);-moz-box-shadow:0 4px 16px 0px rgba(0,0,0,.16);box-shadow:0 4px 16px 0px rgba(0,0,0,.16)}"})]})},g=e=>{let{message:t,onDismiss:n}=e;return(0,r.jsxs)("div",{onClick:n,className:"jsx-abbb3771bd89a275 "+f,children:["string"===typeof t?(0,r.jsxs)("div",{className:"jsx-abbb3771bd89a275 flex items-center break-word",children:[m,t]}):t,(0,r.jsx)(s(),{id:"abbb3771bd89a275",children:".light-shadow-2.jsx-abbb3771bd89a275{-webkit-box-shadow:0 4px 16px 0px rgba(0,0,0,.16);-moz-box-shadow:0 4px 16px 0px rgba(0,0,0,.16);box-shadow:0 4px 16px 0px rgba(0,0,0,.16)}"})]})},b=e=>{let{message:t,onDismiss:n}=e;return(0,r.jsxs)("div",{onClick:n,className:"jsx-39977579ffc70426 "+f,children:[(0,r.jsxs)("div",{className:"jsx-39977579ffc70426 flex items-center break-word",children:[p,t]}),(0,r.jsx)(s(),{id:"39977579ffc70426",children:".light-shadow-2.jsx-39977579ffc70426{-webkit-box-shadow:0 4px 16px 0px rgba(0,0,0,.16);-moz-box-shadow:0 4px 16px 0px rgba(0,0,0,.16);box-shadow:0 4px 16px 0px rgba(0,0,0,.16)}"})]})},x=e=>{let{name:t,processing:n=!1,percent:i=0,onDismiss:o}=e;return(0,r.jsxs)("div",{onClick:o,className:"jsx-39977579ffc70426 "+f,children:[(0,r.jsxs)("div",{className:"jsx-39977579ffc70426 flex items-center break-word",children:[p,n?(0,r.jsxs)(r.Fragment,{children:["Processing ",t,"\u2026"]}):(0,r.jsxs)(r.Fragment,{children:["Uploading ",t,": ",i.toFixed(0),"%"]})]}),(0,r.jsx)(s(),{id:"39977579ffc70426",children:".light-shadow-2.jsx-39977579ffc70426{-webkit-box-shadow:0 4px 16px 0px rgba(0,0,0,.16);-moz-box-shadow:0 4px 16px 0px rgba(0,0,0,.16);box-shadow:0 4px 16px 0px rgba(0,0,0,.16)}"})]})}},36815:function(e,t,n){function r(e,t){return{basic:"team"===t?"Team":"Individual",public:"Free",pro:"Pro",enterprise:"Enterprise",pro_enterprise:"Enterprise"}[e]}n.d(t,{Bq:function(){return d},PK:function(){return u},VM:function(){return s},Yo:function(){return l},_n:function(){return r},c3:function(){return c},k7:function(){return a},qJ:function(){return i},wn:function(){return h},zJ:function(){return o}});const i={public:"Edit and collaborate in public.",basic:"Edit and collaborate in private and use private data sources.",pro:"Edit and collaborate in private and use private data sources.",enterprise:"Edit and collaborate in private and use private data sources with robust security and customer support.",pro_enterprise:"Edit and collaborate in private and use private data sources with robust security and customer support."},s={public:{description:"Get started with Observable and work publicly.",features:["Unlimited public notebooks","Invite up to four collaborators per notebook","Upload data (up to 50 MB per file)"]},pro:{description:"Edit in private and use private data sources.",features:["Everything in Free plus...","Unlimited public or private notebooks","Databases, secrets, and cloud files","30-day free trial"]},basic:{description:"",features:[]},enterprise:{description:"",features:[]},pro_enterprise:{description:"",features:[]}},o={public:{description:"Get started with Observable and collaborate publicly.",features:["Unlimited notebooks","Unlimited editors","Upload data (up to 50 MB per file)"]},pro:{description:"Collaborate in private and use private data sources.",features:["Everything in Free plus...","Private editing","Roles and access control","Shared databases, secrets, and cloud files","30-day free trial"]},basic:{description:"",features:[]},enterprise:{description:"",features:[]},pro_enterprise:{description:"Edit and collaborate in private with robust security and support.",features:["Everything in Pro plus...","Priority customer support","Custom onboarding","Advanced authentication","30-day free trial"]}},a="enterprise-support@observablehq.com",l="Change subscription",c="Change tier",d="Resubscribe",u="Continue to billing",h="Set up billing later"},602:function(e,t,n){n.d(t,{FN:function(){return f},Fv:function(){return d},a8:function(){return c},cT:function(){return u},h_:function(){return h}});var r=n(41799),i=n(31343),s=n(51970),o=n(31946),a=n(45219),l=n(40821);async function c(e,t){const n=await fetch("".concat((0,o.x1)()).concat(e),(0,r.Z)({credentials:"include"},t));if(!n.ok){const e=await n.json();if(401===n.status)throw(0,i.DD)(e);throw new i.ZP(n.status,n.url,e.errors)}if(204!==n.status)return JSON.parse(await n.text(),s.j)}async function d(e,t,n){return c(e,(0,r.Z)({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,r.Z)({token:f()},t))},n))}function u(e,t){const n=new FormData;n.append("token",f());for(const[s,o]of Object.entries(t))null!==o&&n.append(s,o);const r=new XMLHttpRequest;let i=0;return r.responseType="text",r.withCredentials=!0,Promise.resolve().then((()=>{r.open("POST","".concat("https://api.observablehq.com").concat(e),!0),r.send(n)})),r.upload.addEventListener("progress",(e=>{const t={type:"uploadprogress",percent:e.loaded/e.total*100};r.dispatchEvent(new CustomEvent("message",{detail:t}))})),r.addEventListener("progress",(()=>{const e=r.responseText.split("\n").filter((e=>e.trim())).map((e=>{try{return JSON.parse(e)}catch(t){return}})).filter(Boolean);e.slice(i,e.length).forEach((e=>{r.dispatchEvent(new CustomEvent("message",{detail:e}))})),i=e.length})),{xhr:r,finishPromise:new Promise(((e,t)=>{r.addEventListener("load",(n=>{r.status<400?e(n):t(n)})),r.addEventListener("error",t)}))}}function h(e,t){const{data:n,error:i,isValidating:s,mutate:o}=(0,l.ZP)(e,c,(0,r.Z)({revalidateOnFocus:!1},t));if(i)throw i;return[n,s,o]}function f(){const e=("T"===(0,o.zF)()?/(?:^|;)\s*T\s*=\s*([0-9a-f]{32})(?:$|;)/:/(?:^|;)\s*U\s*=\s*([0-9a-f]{32})(?:$|;)/).exec(document.cookie);if(e)return e[1];const t=(0,a.Z)(16),n=new Date(Date.now()+1728e5);return document.cookie="".concat((0,o.zF)(),"=").concat(t,"; Domain=").concat(".observablehq.com","; Path=/; Secure; Expires=").concat(n.toUTCString(),"; SameSite=").concat("U"===(0,o.zF)()?"None":"Lax"),t}},44754:function(e,t,n){n.d(t,{G:function(){return i}});var r=n(67294);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;const{0:n,1:i}=(0,r.useState)(e),s=(0,r.useRef)(),o=(0,r.useRef)(),{0:a,1:l}=(0,r.useState)(e),c=(0,r.useCallback)((e=>{s.current&&s.current(),i(e);const n=setTimeout((()=>{o.current&&l(e)}),t);return s.current=()=>{clearTimeout(n)},s.current}),[t]);return(0,r.useEffect)((()=>(o.current=!0,()=>{o.current=!1,s.current&&s.current()})),[]),[n,c,a]}},12447:function(e,t,n){n.d(t,{GS:function(){return l},Mo:function(){return o},hs:function(){return a},pp:function(){return s},ro:function(){return i}});var r=n(67294);const i="screen and (max-width: 30em)",s="screen and (min-width: 30em)",o="screen and (min-width: 30em) and (max-width: 60em)",a="screen and (min-width: 60em)";function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{0:n,1:i}=(0,r.useState)(t);return(0,r.useEffect)((()=>{const t=window.matchMedia(e);function n(){i(!!t.matches)}return t.addListener(n),i(t.matches),()=>{t.removeListener(n)}}),[e]),n}},74080:function(e,t,n){n.d(t,{E0:function(){return h},GT:function(){return y},H7:function(){return f},HQ:function(){return x},JJ:function(){return c},K3:function(){return l},Lj:function(){return p},MJ:function(){return j},Ni:function(){return d},QY:function(){return _},YE:function(){return w},YW:function(){return o},cn:function(){return v},g:function(){return u},id:function(){return m},j5:function(){return S},kh:function(){return C},q8:function(){return g},ur:function(){return a},ws:function(){return b},yj:function(){return k}});var r=n(66421),i=n(3142),s=n(36448);function o(e){return!e.isForking}function a(e){return!e.isPublishing&&!e.isUnpublishing&&(!(0,i.s9)(e)||(0,i.ly)(e))}function l(e){return!e.isPublishing&&!e.isUnpublishing&&!(0,i.ws)(e)&&(0,i.ly)(e)}function c(e){return!e.isPublishing&&!e.isUnpublishing&&((0,i.s9)(e)||(0,i.cg)(e)||(0,i.fN)(e))}function d(e){return(0,i.tK)(e)}function u(e){const{isReverting:t}=e;return!t&&!(0,i.tK)(e)&&!(0,i.os)(e)}function h(e){const{autosave:t,isReverting:n}=e;return t&&!n&&(0,i.ly)(e)&&!(0,i.os)(e)}function f(e){return(e.isCompare||e.autosave)&&!e.safe}function m(e){return!((0,i.tO)(e)||(0,i.w6)(e)||(0,i.sH)(e))}function p(e){return!((0,i.tO)(e)||(0,i.Wg)(e)||(0,i.sH)(e))}function v(e,t){return!((0,i.Jw)(e)||(0,i.lL)(e)&&_(t)&&"edit"===(0,r.ZK)(t))}function g(e){return(0,i.s9)(e)&&!e.isCompare&&!e.safe&&e.autosave}function b(e){return!e.isCompare&&!e.safe&&e.autosave}function x(e){return e.initialAutosave}function y(e){return!((0,i.ws)(e)&&(0,i.hv)(e))}function w(e){return(0,i.iX)(e)}function C(e){return!e.autosave}function k(e){return((0,i.s9)(e)||(0,i.cg)(e))&&(0,i.ly)(e)}function j(e){return(0,i.iX)(e)&&!e.isSuggesting&&!(0,i.Or)(e)}function _(e){return!!(0,r.ZK)(e)&&(e.isCompare||e.autosave)&&"aborted"!==e.clientState&&!e.trashed&&!e.isReverting}function S(e,t){var n;return"true"!==(null===(n=(0,s.xT)(e,t.owner))||void 0===n?void 0:n.settings.prohibit_attachments)}},2741:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(99534);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{multiple:t=!0}=e,n=(0,r.Z)(e,["multiple"]);return new Promise((e=>{const r=document.body.appendChild(document.createElement("input"));addEventListener("focus",(function(){r.remove(),setTimeout((()=>e([])),1e3)}),{once:!0}),Object.assign(r,{type:"file",multiple:t,className:"dn",onchange:()=>e(r.files?[...r.files]:[])},n),r.click()}))}},5969:function(e,t,n){n.d(t,{T4:function(){return u},ki:function(){return l},HR:function(){return s},Vo:function(){return o},PT:function(){return a},mU:function(){return d}});var r=n(602);var i=n(47692);function s(e){return Array.from(e.values()).filter(a)}function o(e,t){const n=new Set(t.map((e=>e.name))),{fileAttachments:r}=(0,i.Z)(e.model.nodes);return function(e,t){const n=new Set;for(const r of e)t.has(r)&&n.add(r);return n}(n,r)}function a(e){return"public"===e.status||"private"===e.status}function l(e){return void 0!==e&&"deleted"!==e.status}class c extends Error{constructor(e){super(e)}}function d(e){let{id:t,name:n,file:i,dispatch:s=(()=>{}),resolveWithName:o=!1}=e;const a="upload:".concat(n);return new Promise(((e,l)=>{function d(t){const{detail:r}=t;switch(r.type){case"start":if(n!==r.file.name)throw new Error("unsafe file name");o&&e(),s({type:"localFileUploadSucceeded",name:n});break;case"uploadprogress":s({type:"showUploadingToast",name:n,percent:r.percent,key:a});break;case"progress":s({type:"showUploadingToast",name:n,processing:!0,key:a});break;case"error":switch(r.message){case"FILE_QUOTA_EXCEEDED":l(new c("Sorry, your monthly upload quota has been exceeded."));break;case"FILE_EMPTY":l(new c("Could not upload ".concat(n,": empty file.")));break;default:l(new c("Could not upload ".concat(n,".")))}break;case"finish":s({type:"showSuccessToast",message:"Uploaded ".concat(n,"."),key:a}),e()}}const{xhr:u,finishPromise:h}=(0,r.cT)("/document/".concat(t,"/file"),{file:i,client_name:n});h.catch((e=>{u.removeEventListener("message",d),l(e)})),s({type:"showUploadingToast",name:n,percent:0,key:a}),u.addEventListener("message",d)})).catch((e=>{throw s({type:"showErrorToast",message:e instanceof c?e.message:"Could not upload ".concat(n,"."),key:a}),e}))}async function u(e){let{id:t,name:n,dispatch:i}=e;try{await(0,r.Fv)("/document/".concat(t,"/file/delete?name=").concat(encodeURIComponent(n))),i({type:"fileDeleteSucceeded",name:n})}catch(s){i({type:"showErrorToast",message:"Oops, could not delete ".concat(n,". Try again?"),key:"delete:".concat(n)})}}},33494:function(e,t,n){n.d(t,{Gf:function(){return s},Jc:function(){return i},zT:function(){return o},z_:function(){return a}});var r=n(49475);function i(e){e.currentTarget.focus()}function s(e){o(e.currentTarget)}function o(e){const t=e.style.scrollMarginTop,n=e.style.scrollMarginBottom;e.style.scrollMarginBottom=n||"".concat(r.t8,"px"),e.style.scrollMarginTop=t||"".concat(r.zM,"px");const i=e.getBoundingClientRect();i.bottom<r.zM+20?e.scrollIntoView(!0):i.top>innerHeight-r.t8-20&&e.scrollIntoView(!1),e.style.scrollMarginBottom=n,e.style.scrollMarginTop=t}function a(e){"Enter"!==e.key&&"Space"!==e.key||e.currentTarget.dispatchEvent(new Event("click",{bubbles:!0}))}},82018:function(e,t,n){n.d(t,{R:function(){return u}});var r=n(41799),i=n(18643),s=n(602),o=n(19671),a=n(5969),l=n(27193),c=n(90627),d=n(95757);async function u(e){let{notebook:t,currentUser:n,dispatch:u,live:h,trigger:f,source:m,teamId:p,showToast:v=!0,teamRole:g,collectionId:b}=e;const x="model"in t?t.model.title:t.title,y="model"in t?t.model.events:[],w="editorStates"in t?t.editorStates:new Map,{id:C,saveVersion:k}=t,j="model"in t?t.files:void 0;v&&u({type:"showProcessingToast",key:"fork",message:"Forking".concat(x?" ".concat((0,l.Ui)({title:x})):"")});try{const e=await(0,s.Fv)("/document/".concat(C,"/fork"),(0,r.Z)({version:k,live:h,events:y.filter((e=>e.version>k)).map((e=>(0,d.e)(e)))},w?{edits:(0,i.V)(w)}:void 0,void 0!==p?{team:p}:{},g?{team_role:g}:void 0,b?{collection_id:b}:void 0)),{id:t}=e;if(j){const e=[];for(const[t,{status:n,blob:r}]of j)"local"===n&&r&&e.push({name:t,blob:r});await Promise.allSettled(e.map((e=>{let{name:n,blob:r}=e;return(0,a.mU)({id:t,name:n,file:r,resolveWithName:!0})})))}return(0,o.MR)((0,o.ym)({type:"notebook:manage:fork",data:{signedIn:!!n,trigger:f,source:m},eventVersion:6,notebook:e,currentUser:n})),ga("send","event","Notebook","Fork"),e}catch(_){return void(0,c.S)({error:_,dispatch:u,message:"Oops, forking failed. Try again?",key:"fork"})}}},31343:function(e,t,n){n.d(t,{DD:function(){return s},ZP:function(){return r},l_:function(){return o},v6:function(){return i}});class r extends Error{toJSON(){return{status:this.status,url:this.url,errors:this.errors||null}}constructor(e,t,n){super("HTTP status ".concat(e).concat(t?" for ".concat(t):"")),this.status=e,t&&(this.url=t),n&&(this.errors=n)}}function i(){return new r(404)}function s(e){return new r(401,void 0,null===e||void 0===e?void 0:e.errors)}class o extends r{constructor(e,t){super(e),this.location=t}}},51970:function(e,t,n){n.d(t,{S:function(){return o},j:function(){return i}});var r=n(51289);function i(e,t){if(("time"===e||e.endsWith("_time")||"date"===e||e.endsWith("_date"))&&null!==t&&!(t instanceof Date)){const e=new Date(t);if(r.v9&&"Invalid Date"===e.toString())throw new Error("Invalid Date in JSON response: '".concat(t,"'"));return e}return t}function s(e,t){if(Array.isArray(t))return t.map((t=>s(e,t)));if(function(e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===Object.prototype}(t)){const e={};for(const[n,r]of Object.entries(t))e[n]=s(n,r);return e}return i(e,t)}function o(e){return s("",e)}},40178:function(e,t,n){n.d(t,{ZP:function(){return d},_9:function(){return l}});var r=n(51289);const i={Alt:r.Mq?"\u2325":"\u2387",Backspace:"\u232b",Cmd:"\u2318",Ctrl:r.Mq?"\u2303":"",Delete:"\u2326",Down:"\u2193",Enter:"\u21a9\ufe0e",Escape:"\u238b",Left:"\u2190",Option:"\u2325",Right:"\u2192",Shift:"\u21e7",Tab:"\u21e5",Up:"\u2191",Slash:"/"},s={Alt:r.Mq?"option":"Alt",Backspace:r.Mq?"delete":"Backspace",Cmd:r.Mq?"command":"Command",Ctrl:r.Mq?"control":"Ctrl",Delete:r.Mq?"delete":"Delete",Enter:r.Mq?"return":"Enter",Escape:r.Mq?"esc":"Esc",Fn:r.Mq?"fn":"Fn",Shift:r.Mq?"shift":"Shift",Tab:r.Mq?"tab":"Tab"},o={Ctrl:-4,Alt:-3,Shift:-2,Cmd:-1};function a(e,t){const n=e.split("-"),i=[];let s="";for(const a of n.map((e=>"Mod"===e?r.Mq?"Cmd":"Ctrl":e)).sort(((e,t)=>(o[e]||n.indexOf(e))-(o[t]||n.indexOf(t))))){const e=t(a);s.length>1&&i.push("-"),i.push(e),s=e}return i.join("")}function l(e){return a(e,(e=>s[e]||e))}const c=r.Mq?e=>i[e]||s[e]||e:e=>s[e]||i[e]||e;function d(e){return a(e,c)}},25158:function(e,t,n){function r(){if("undefined"===typeof navigator)return!1;if("maxTouchPoints"in navigator)return navigator.maxTouchPoints>0;if("function"===typeof window.matchMedia){const e=window.matchMedia("(pointer:coarse)");if("(pointer:coarse)"===e.media)return!!e.matches}return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Opera Mobi|Mobile|CriOS/i.test(navigator.userAgent)}n.d(t,{t:function(){return r}})},31536:function(e,t,n){n.d(t,{xh:function(){return B},Ev:function(){return H},qz:function(){return Q},D7:function(){return K},d0:function(){return q},Zu:function(){return W}});var r=n(41799),i=n(38208),s=n(57801),o=n(21390),a=n(14456),l=n(53695),c=n(59119),d=n(35524),u=n(74658);const h=c.qp.define({parser:u.E.configure({props:[c.uj.add({IfStatement:(0,c.tC)({except:/^\s*({|else\b)/}),TryStatement:(0,c.tC)({except:/^\s*({|catch|finally)\b/}),LabeledStatement:c.ze,SwitchBody:e=>{const t=e.textAfter,n=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:r?1:2)*e.unit},Block:(0,c.vw)({closing:"}"}),"TemplateString BlockComment":()=>-1,"Statement Property":(0,c.tC)({except:/^{/})}),c.x0.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":e=>({from:e.from+1,to:e.to-1}),BlockComment:e=>({from:e.from+2,to:e.to-2})}),(0,d.Gv)({"get set async static":d.pJ.modifier,"for while do if else switch try catch finally return throw break continue default case":d.pJ.controlKeyword,"in of await yield void typeof delete instanceof":d.pJ.operatorKeyword,"export import let var const function class extends viewof mutable":d.pJ.definitionKeyword,"with debugger from new":d.pJ.keyword,TemplateString:d.pJ.special(d.pJ.string),Super:d.pJ.atom,BooleanLiteral:d.pJ.bool,this:d.pJ.self,null:d.pJ.null,Star:d.pJ.modifier,VariableName:d.pJ.variableName,"CallExpression/VariableName":d.pJ.function(d.pJ.variableName),VariableDefinition:d.pJ.definition(d.pJ.variableName),Label:d.pJ.labelName,PropertyName:d.pJ.propertyName,PrivatePropertyName:d.pJ.propertyName,"CallExpression/MemberExpression/PropertyName":d.pJ.function(d.pJ.propertyName),"FunctionDeclaration/VariableDefinition":d.pJ.function(d.pJ.definition(d.pJ.variableName)),"ClassDeclaration/VariableDefinition":d.pJ.definition(d.pJ.className),PrivatePropertyDefinition:d.pJ.definition(d.pJ.propertyName),PropertyDefinition:d.pJ.definition(d.pJ.propertyName),UpdateOp:d.pJ.updateOperator,LineComment:d.pJ.lineComment,BlockComment:d.pJ.blockComment,Number:d.pJ.number,String:d.pJ.string,ArithOp:d.pJ.arithmeticOperator,LogicOp:d.pJ.logicOperator,BitOp:d.pJ.bitwiseOperator,CompareOp:d.pJ.compareOperator,RegExp:d.pJ.regexp,Equals:d.pJ.definitionOperator,"Arrow : Spread":d.pJ.punctuation,"( )":d.pJ.paren,"[ ]":d.pJ.squareBracket,"{ }":d.pJ.brace,".":d.pJ.derefOperator,", ;":d.pJ.separator})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/,wordChars:"$"}});function f(){return new c.ri(h,h.data.of({}))}var m=n(5952);const p=n(53105).WQ.deserialize({version:14,states:"nOVQPOOOOQO'#Cg'#CgOOQO'#Cd'#CdQVQPOOOOQO-E6b-E6b",stateData:"h~OPOS~ORPOSPOTPOUPOVPO~O",goto:"g[PPPPPPPP]PPcQRORSRTQOR",nodeNames:"\u26a0 LineComment TeX ControlWord Number Variable Operator Punctuation",maxTerm:11,skippedNodes:[0,1],repeatNodeCount:1,tokenData:"&v~Rjqr!sst#ntu#nuv$]vw#nz{!s{|!s|}#n}!O!s!O!P$h!P!Q!s!Q![%h![!]#n!]!^#n!^!_!s!_!`!s!`!a!s!a!b#n!b!c#n!c!}%y#O#P&[#Q#R!s#R#S!s#T#o%y#p#q!s#r#s!s~!x[U~qr!sz{!s{|!s}!O!s!P!Q!s!^!_!s!_!`!s!`!a!s#Q#R!s#R#S!s#p#q!s#r#s!s~#sWV~st#ntu#nvw#n|}#n![!]#n!]!^#n!a!b#n!b!c#n~$bQP~OY$]Z~$]~$kP!Q![$n~$sRS~!Q![$n!g!h$|#X#Y$|~%PR{|%Y}!O%Y!Q![%`~%]P!Q![%`~%ePS~!Q![%`~%mSS~!O!P$n!Q![%h!g!h$|#X#Y$|~&OST~!Q![%y!c!}%y#R#S%y#T#o%y~&_R!b!c&h!c!}&h#T#o&h~&mRR~!b!c&h!c!}&h#T#o&h",tokenizers:[0],topRules:{TeX:[0,2]},tokenPrec:0}),v=c.qp.define({parser:p.configure({props:[(0,d.Gv)({ControlWord:d.pJ.keyword,LineComment:d.pJ.lineComment,Number:d.pJ.number,Variable:d.pJ.variableName,Operator:d.pJ.arithmeticOperator,"( )":d.pJ.paren})]}),languageData:{commentTokens:{line:"%"},closeBrackets:{brackets:["(","[","{"]}}});var g=n(69396),b=n(85893);n(67294);var x=e=>(0,b.jsxs)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,b.jsx)("rect",{width:"16",height:"16",fill:"none"}),(0,b.jsx)("path",{d:"M7.98486 13.0688C10.248 13.0688 11.647 11.9116 11.647 10.0586C11.647 8.68896 10.6436 7.62695 9.2373 7.52441V7.3999C10.3359 7.23145 11.1416 6.27197 11.1416 5.12939C11.1416 3.48145 9.91846 2.5 7.88965 2.5H4.00049V13.0688H7.98486ZM6.03662 4.104H7.32568C8.43896 4.104 9.04688 4.59473 9.04688 5.50293C9.04688 6.35254 8.3877 6.85059 7.23779 6.85059H6.03662V4.104ZM6.03662 11.4355V8.37402H7.32568C8.75391 8.37402 9.479 8.87207 9.479 9.87549C9.479 10.9448 8.79053 11.4355 7.34033 11.4355H6.03662Z",fill:"currentColor"})]})),y=n(41500),w=n(3764),C=n(28041);var k=e=>(0,b.jsxs)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,b.jsx)("rect",{x:"3",y:"7",width:"10",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("path",{d:"M7 1H9V6H7V2.5L6 3V1.5L7 1Z",fill:"currentColor"}),(0,b.jsx)("path",{d:"M7 10H5L7 12.5L5 15H7L8 13.75L9 15H11L9 12.5L11 10H9L8 11.25L7 10Z",fill:"currentColor"})]}));var j=e=>(0,b.jsxs)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,b.jsx)("path",{d:"M10.5 4.5L14 8.25L10.5 12",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M5.5 12L2 8.25L5.5 4.5",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})]}));var _=e=>(0,b.jsx)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,b.jsx)("path",{d:"M4.01562 10.1216C4.10352 11.9307 5.47314 13.1025 7.60449 13.2417V14.0327H8.56396V13.2344C10.7173 13.0659 12.0356 11.8354 12.0356 9.95312C12.0356 8.32715 11.1494 7.43359 9.03271 6.95752L8.56396 6.85498V3.74219C9.45752 3.88867 10.0654 4.45264 10.168 5.25098H11.8525C11.7793 3.55908 10.4756 2.37256 8.56396 2.19678V1.39844H7.60449V2.18945C5.56836 2.35059 4.26465 3.55908 4.26465 5.34619C4.26465 6.92822 5.19482 7.89502 7.14307 8.32715L7.60449 8.42969V11.689C6.5498 11.5498 5.83203 10.9639 5.73682 10.1216H4.01562ZM6.04443 5.20703C6.04443 4.41602 6.6377 3.8667 7.60449 3.73486V6.62793C6.49121 6.32764 6.04443 5.91016 6.04443 5.20703ZM10.2705 10.1509C10.2705 10.9639 9.58936 11.5571 8.56396 11.689V8.65674C9.76514 8.96436 10.2705 9.40381 10.2705 10.1509Z",fill:"currentColor"})}));var S=e=>(0,b.jsx)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,b.jsx)("path",{d:"M10.1089 13.0688L10.3652 11.5454H8.19727L9.54492 4.02344H11.7129L11.9692 2.5H5.86084L5.60449 4.02344H7.77979L6.43213 11.5454H4.25684L4.00049 13.0688H10.1089Z",fill:"currentColor"})})),Z=n(92946);var T=e=>(0,b.jsxs)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,b.jsx)("rect",{x:"6.5",y:"3",width:"7.5",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("rect",{x:"6.5",y:"7",width:"7.5",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("rect",{x:"6.5",y:"11",width:"7.5",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("path",{d:"M5.10254 6.99754V6.16258H4.10059V2.77H3.05469L2 3.50243V4.42821L2.99902 3.73973H3.05469V6.16258H2V6.99754H5.10254Z",fill:"currentColor"}),(0,b.jsx)("path",{d:"M1.85352 10.0967V10.1143H2.83789V10.0938C2.83789 9.74512 3.08984 9.49902 3.45312 9.49902C3.79883 9.49902 4.03027 9.70703 4.03027 10.0176C4.03027 10.2725 3.86328 10.4922 3.25098 11.0547L1.91504 12.2822V13H5.12891V12.1621H3.34766V12.1064L4.04492 11.4941C4.78906 10.8408 5.07031 10.416 5.07031 9.94141C5.07031 9.19141 4.43457 8.6875 3.49121 8.6875C2.5127 8.6875 1.85352 9.25293 1.85352 10.0967Z",fill:"currentColor"})]}));var L=e=>(0,b.jsxs)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,b.jsx)("rect",{x:"5.5",y:"3",width:"8.5",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("rect",{x:"2",y:"6",width:"12",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("rect",{x:"2",y:"9",width:"12",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("rect",{x:"2",y:"12",width:"6.5",height:"2",rx:"0.5",fill:"currentColor"})]}));var M=e=>(0,b.jsxs)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,b.jsx)("path",{d:"M10.1466 5.41531C10.099 4.96973 9.89829 4.62279 9.54455 4.37449C9.19421 4.12619 8.73843 4.00204 8.1772 4.00204C7.78265 4.00204 7.44421 4.06157 7.1619 4.18061C6.87958 4.29966 6.6636 4.46123 6.51394 4.66531C6.36428 4.86939 6.28775 5.10238 6.28435 5.36429C6.28435 5.58197 6.33367 5.77075 6.43231 5.93061C6.53435 6.09048 6.6721 6.22653 6.84557 6.33878C7.01904 6.44762 7.21122 6.53946 7.4221 6.61429C7.63299 6.68912 7.84557 6.75204 8.05986 6.80306L9.03945 7.04796C9.43401 7.1398 9.81326 7.26395 10.1772 7.42041C10.5382 7.57418 10.8615 7.76738 11.1469 8H13V9H3V8H6.28115C5.8184 7.80681 5.42831 7.5677 5.11088 7.28265C4.61428 6.83027 4.36598 6.22993 4.36598 5.48163C4.36598 4.86599 4.53265 4.32687 4.86598 3.86429C5.20271 3.4017 5.6602 3.04286 6.23843 2.78776C6.81666 2.52925 7.47142 2.4 8.20271 2.4C8.94421 2.4 9.59387 2.52925 10.1517 2.78776C10.7129 3.04286 11.1534 3.3983 11.4731 3.85408C11.7928 4.30646 11.9578 4.82687 11.968 5.41531H10.1466Z",fill:"currentColor"}),(0,b.jsx)("path",{d:"M10.2168 10H12.1104C12.1107 10.0193 12.1109 10.0387 12.1109 10.0582C12.1109 10.6704 11.9544 11.2095 11.6415 11.6755C11.3286 12.1381 10.8762 12.5003 10.2843 12.7622C9.69591 13.0208 8.98333 13.15 8.14659 13.15C7.33367 13.15 6.62788 13.0242 6.02924 12.7725C5.43401 12.5208 4.96802 12.1534 4.63129 11.6704C4.31325 11.2096 4.13455 10.6528 4.09518 10H5.9619C6.00039 10.322 6.10957 10.5931 6.28945 10.8133C6.48673 11.0548 6.74353 11.235 7.05986 11.3541C7.37958 11.4731 7.73673 11.5327 8.13129 11.5327C8.54285 11.5327 8.90339 11.4714 9.21292 11.349C9.52584 11.2231 9.77074 11.0497 9.94761 10.8286C10.1245 10.6041 10.2146 10.3422 10.218 10.0429C10.2178 10.0284 10.2174 10.0142 10.2168 10Z",fill:"currentColor"})]})),N=n(45532);var E=e=>(0,b.jsxs)("svg",(0,g.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,b.jsx)("rect",{x:"6",y:"3",width:"8",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("rect",{x:"2",y:"3",width:"2",height:"2",rx:"1",fill:"currentColor"}),(0,b.jsx)("rect",{x:"2",y:"7",width:"2",height:"2",rx:"1",fill:"currentColor"}),(0,b.jsx)("rect",{x:"2",y:"11",width:"2",height:"2",rx:"1",fill:"currentColor"}),(0,b.jsx)("rect",{x:"6",y:"7",width:"8",height:"2",rx:"0.5",fill:"currentColor"}),(0,b.jsx)("rect",{x:"6",y:"11",width:"8",height:"2",rx:"0.5",fill:"currentColor"})]})),P=n(74080),R=n(2741),A=n(51289),U=n(40178);const O="Interpolation",V="InterpolationOpenMark",F="InterpolationCloseMark",I={defineNodes:[O,V,F],parseInline:[{name:"Interpolation",parse(e,t,n){if(36===t&&123===e.char(n+1)){let t,r=0,i=!1,s=!1,o=1,a=n+2;for(;a<e.end&&o>0;a++)if(92===e.char(a)&&(s||i||r))a++;else if(s)s=10!==e.char(a);else if(i)i=42!==e.char(a)||47!==e.char(a+1);else if(r)e.char(a)===r&&(r=0);else switch(e.char(a)){case 96:case 34:case 39:r=e.char(a);break;case 47:42===e.char(a+1)&&(i=!0),47===e.char(a+1)&&(s=!0);break;case 123:o++;break;case 125:o--}const l=f().language.parser.startParse(e.slice(n+2,a-1));for(;!(t=l.advance()););const c=[e.elt(V,n,n+2),e.elt(t,n+2)];return 0===o&&c.push(e.elt(F,a-1,a)),e.addElement(e.elt(O,n,a,c))}return-1},after:"Emphasis"}]},D=[(0,s.JH)({extensions:[I,{props:[(0,d.Gv)({[V]:d.pJ.comment,[F]:d.pJ.comment})]}],codeLanguages:[c.c6.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load:()=>Promise.resolve(f())})]}),s.eg.data.of({closeBrackets:{brackets:["(","[","{","'",'"',"`","*","_"]}})],B={extensions:()=>f(),keymap:[],label:"JavaScript",icon:y.Z,defaultNode:{mode:"js",value:"",pinned:!0,data:null,name:null},convertible:!0,toolbar:[{name:"attach",title:"Attach file ".concat((0,U.ZP)("Mod-Shift-U")),icon:C.q,onClick(e,t,n,i){const s={nodeId:n,nodeMode:"js",trigger:"click"};i((0,r.Z)({type:"notebookFilePickerOpened",source:"nodeToolbar"},s)),(0,R.Z)().then((e=>{i((0,r.Z)({type:"attachLocalFiles",files:e,source:"nodeToolbar"},s))}))},applies:P.j5}]},H={extensions:e=>{let{settings:t}=e;return[D,a.tk.contentAttributes.of({spellcheck:t.spellcheckOn?"true":"false"})]},keymap:[...m.a,...s.$y],label:"Markdown",icon:L,defaultNode:{mode:"md",value:"",pinned:!1,data:null,name:""},convertible:!0,toolbar:[{name:"attach",title:"Attach file ".concat((0,U.ZP)("Mod-Shift-U")),joinRight:!0,icon:C.q,onClick(e,t,n,i){const s={nodeId:n,nodeMode:"md",trigger:"click"};i((0,r.Z)({type:"notebookFilePickerOpened",source:"nodeToolbar"},s)),(0,R.Z)().then((e=>{i((0,r.Z)({type:"attachLocalFiles",files:e,source:"nodeToolbar"},s))}))},applies:P.j5},{name:"reactive",title:"Insert reference ${}",joinLeft:!0,icon:_,onClick:(e,t)=>t.applyCommand(e,l.rv)},{name:"bold",title:"Bold ".concat((0,U.ZP)("Mod-B")),joinRight:!0,icon:x,onClick:(e,t)=>t.applyCommand(e,l.Se)},{name:"italic",title:"Italic ".concat((0,U.ZP)("Mod-I")),joinRight:!0,joinLeft:!0,icon:S,onClick:(e,t)=>t.applyCommand(e,l.pU)},{name:"strikethrough",title:"Strikethrough ".concat((0,U.ZP)(A.Mq?"Shift-Mod-X":"Alt-Shift-5")),joinRight:!0,joinLeft:!0,icon:M,onClick:(e,t)=>t.applyCommand(e,l.Jq)},{name:"link",title:"Link ".concat((0,U.ZP)("Mod-K")),joinLeft:!0,icon:Z.Vp,onClick:(e,t)=>t.applyCommand(e,l.T8)},{name:"unordered",title:"Unordered list ".concat((0,U.ZP)("Shift-Mod-8")),joinRight:!0,icon:E,onClick:(e,t)=>t.applyCommand(e,l.Kr)},{name:"ordered",title:"Ordered list ".concat((0,U.ZP)("Shift-Mod-7")),joinLeft:!0,icon:T,onClick:(e,t)=>t.applyCommand(e,l.dq)}]},z={extensions:e=>{let{settings:t}=e;return(0,i.dy)({autoCloseTags:t.closeBracketsOn})},keymap:[],label:"HTML",icon:j,defaultNode:{mode:"html",value:"",pinned:!1,data:null,name:""},convertible:!0,toolbar:[{name:"reactive",title:"Insert reference",icon:_,onClick:(e,t)=>t.applyCommand(e,l.rv)}]},J={extensions:()=>new c.ri(v),keymap:[],label:"TeX",icon:k,defaultNode:{mode:"tex",value:"",pinned:!1,name:"",data:null},convertible:!1,toolbar:[{name:"reactive",title:"Insert reference",icon:_,onClick:(e,t)=>t.applyCommand(e,l.rv)}]},q={extensions:()=>[],keymap:[],label:"SQL",icon:w.Z,defaultNode:{mode:"sql",value:"",pinned:!0,name:"",data:{source:{name:null,type:null}}},convertible:!1,toolbar:[]},W={extensions:()=>[],keymap:[],label:"Table",icon:N.iA,defaultNode:{mode:"table",value:"",pinned:!0,name:"",data:{source:{name:null,type:null},operations:{select:{columns:null},from:{table:null},filter:[],sort:[],slice:{from:null,to:null}}}},convertible:!1,toolbar:[]},Q={js:B,md:H,html:z,tex:J,sql:q,table:W};function K(e){switch(e){case"postgres":return o.cA;case"mysql":return o.rs;case"mssql":return o.B5;case"sqlite":return o.ey;default:return o.Gz}}},88725:function(e,t,n){n.d(t,{$h:function(){return v},Ar:function(){return a},Bi:function(){return d},D_:function(){return o},HS:function(){return m},Lr:function(){return s},Nl:function(){return u},UW:function(){return c},o7:function(){return p},sq:function(){return l},vE:function(){return f},yY:function(){return h}});var r=n(31946),i=n(3142);const s=2,o=5e7,a=["allow-downloads","allow-forms","allow-popups-to-escape-sandbox","allow-popups","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" "),l=["accelerometer","autoplay","clipboard-write","camera","encrypted-media","fullscreen","geolocation","gyroscope","magnetometer","microphone","midi","vr"].join("; ");function c(e){let{id:t,slug:n,owner:r}=e;return n?"/@".concat(r.login,"/").concat(n):"/d/".concat(t)}function d(e,t,n){return(0,r.OV)()+c(e)+(void 0===t?"":"@".concat(t))+(void 0===n?"":"?".concat(new URLSearchParams(n)))}function u(e){return"https://".concat("static.observableusercontent.com","/thumbnail/").concat(e,".jpg")}function h(e){return"/compare/".concat(e.to_id,"...").concat(e.from_id)}function f(e){const t=e?e.login:"anonymous";return"https://{login}.static.observableusercontent.com".replace("{login}",t)}function m(e,t){const{comments:n}=e;return n.has(t)?n.get(t).filter((e=>!(0,i.sH)(e)&&!(0,i.Wg)(e))):[]}function p(e,t){const{comments:n}=e;return n.has(t)?n.get(t).filter(i.Wg):[]}function v(e){return("title"in e?e.title:e.model.title)||"Untitled"}},72760:function(e,t,n){n.d(t,{Ad:function(){return h},Hj:function(){return c},QF:function(){return x},Qc:function(){return a},WN:function(){return u},cS:function(){return b},m8:function(){return p},nR:function(){return g},q8:function(){return f},r1:function(){return y},u2:function(){return v},yL:function(){return m}});var r=n(45633),i=n(61539),s=n(31536);const o=new WeakMap;function a(e){var t;return null!==(t=l(e))&&void 0!==t?t:a(s.xh.defaultNode)}function l(e){try{return c(e)}catch(t){if(!(t instanceof SyntaxError))throw t;return}}function c(e){const t=o.get(e);if(t){if("error"in t)throw t.error;return t.value}try{const t=(0,r.T3)(e);return o.set(e,{value:t}),t}catch(n){throw o.set(e,{error:n}),n}}function d(e,t){const n=[];if("js"!==e.mode)e.name&&n.push(e.name);else{const{id:r,body:i}=a(e);if("ImportDeclaration"===(null===i||void 0===i?void 0:i.type))for(const{view:e,mutable:s,local:o}of i.specifiers){const r=o.name;e&&n.push("viewof ".concat(r)),s&&n.push("mutable ".concat(r)),(t||!e&&!s)&&n.push(r)}else if(null!==r)switch(r.type){case"MutableExpression":{const e=r.id.name;n.push("mutable ".concat(e)),t&&n.push(e);break}case"ViewExpression":{const e=r.id.name;n.push("viewof ".concat(e)),t&&n.push(e);break}default:n.push(r.name)}}return n}function u(e){return d(e,!0)}function h(e){return d(e,!1)}function f(e){var t;if("js"!==e.mode)return!!e.name;const n=a(e);return"ImportDeclaration"===(null===(t=n.body)||void 0===t?void 0:t.type)?n.body.specifiers.length>0:null!==n.id}function m(e){var t;const n=a(e);if("ImportDeclaration"===(null===(t=n.body)||void 0===t?void 0:t.type)){const e=new Set,t=n.body.injections;if(t)for(const n of t){const t=n.imported.name;n.view&&e.add("viewof ".concat(t)),n.mutable&&e.add("mutable ".concat(t)),e.add(t)}return e}const{references:r,tag:i}=n,s=new Set;for(const o of r)s.add(p(o));if(i)for(const o of i.references)s.add(p(o));return s}function p(e){switch(e.type){case"MutableExpression":return"mutable ".concat(e.id.name);case"ViewExpression":return"viewof ".concat(e.id.name);case"Identifier":return e.name}}function v(e){if("js"!==e.mode)return e.name||null;const t=a(e).id;if(!t)return null;switch(t.type){case"MutableExpression":case"ViewExpression":return t.id.name;case"Identifier":return t.name}}function g(e){if("js"!==e.mode)return e.name||null;const t=a(e).id;if(!t)return null;switch(t.type){case"MutableExpression":return t.id.name;case"ViewExpression":return"viewof ".concat(t.id.name);case"Identifier":return t.name}}function b(e){var t;return null===(null===(t=l(e))||void 0===t?void 0:t.body)}function x(e){return void 0!==l(e)}function y(e){try{var t,n;const r=(0,i.B1)("".concat(e,"=1"));return"Identifier"===(null===(t=r.id)||void 0===t?void 0:t.type)&&r.id.name===e&&0===r.id.start&&"Literal"===(null===(n=r.body)||void 0===n?void 0:n.type)&&r.body.start===r.id.end+1&&"1"===r.body.raw}catch(r){return!1}}},45219:function(e,t,n){function r(e){return Array.from(crypto.getRandomValues(new Uint8Array(e)),(e=>e.toString(16).padStart(2,"0"))).join("")}n.d(t,{Z:function(){return r}})},37724:function(e,t,n){function r(e){return{get length(){try{return window[e].length}catch(t){return 0}},key(t){try{return window[e].key(t)}catch(n){return null}},getItem(t){try{return window[e].getItem(t)}catch(n){return null}},setItem(t,n){try{return window[e].setItem(t,n)}catch(r){}},removeItem(t){try{return window[e].removeItem(t)}catch(n){}},clear(){try{return window[e].clear()}catch(t){}}}}n.d(t,{X:function(){return i},y:function(){return s}});const i=r("localStorage"),s=r("sessionStorage")},30099:function(e,t,n){n.d(t,{A:function(){return i}});var r=n(97894);function i(){return(0,r.loadStripe)("pk_live_A5hiyxHhT8FK6EIWYFZMuHo8",{apiVersion:"2022-08-01"})}r.loadStripe.setLoadParameters({advancedFraudSignals:!1})},98841:function(e,t,n){function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JSON.stringify(t)},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const r=new Map;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];const a=t(...s),l=r.get(a),c=Date.now();(void 0===l||l<c-n)&&(e(...s),r.set(a,c))}}n.d(t,{P:function(){return r}})},47692:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(72760);function i(e){const t={databaseClients:new Set,fileAttachments:new Set,secrets:new Set};for(const n of e){const{fileAttachments:e,databaseClients:i,secrets:s,tag:o}=(0,r.Qc)(n);for(const n of i.keys())t.databaseClients.add(n);for(const n of e.keys())t.fileAttachments.add(n);for(const n of s.keys())t.secrets.add(n);if(o){for(const e of o.databaseClients.keys())t.databaseClients.add(e);for(const e of o.fileAttachments.keys())t.fileAttachments.add(e);for(const e of o.secrets.keys())t.secrets.add(e)}"sql"!==n.mode&&"table"!==n.mode||"database"!==n.data.source.type&&"DatabaseClient"!==n.data.source.type||!n.data.source.name||t.databaseClients.add(n.data.source.name)}return t}},40042:function(e,t,n){n.d(t,{$j:function(){return s},I0:function(){return o},v9:function(){return a},zt:function(){return r.zt}});var r=n(14416),i=n(54924);const s=(0,i.S3)();function o(){return(0,r.I0)()}const a=(0,i.gR)()},90627:function(e,t,n){function r(e){let{error:t,key:n,dispatch:r,message:i}=e;var s,o;const a=401===t.status?null===(s=t.errors)||void 0===s?void 0:s[0]:void 0,l=404===t.status?null===(o=t.errors)||void 0===o?void 0:o[0]:void 0;if("MISSING_ORG"===(null===a||void 0===a?void 0:a.code))return r({type:"removeToast",key:n}),void r({type:"showModal",modal:"reauthenticate",modalProps:{error:t.errors[0]}});r({type:"dismissModal"}),"PRIVATE_PUBLIC"!==(null===l||void 0===l?void 0:l.code)?r({type:"showErrorToast",message:i,key:n}):r({type:"showErrorToast",message:"This is a private notebook which requires a Pro membership to access.",key:n})}n.d(t,{S:function(){return r}})},69475:function(e,t,n){n.d(t,{CL:function(){return l},D1:function(){return c},Lh:function(){return f},M:function(){return a},Yc:function(){return d},_h:function(){return u},uX:function(){return h}});var r=n(92876),i=n(602),s=n(19671),o=n(37724);function a(e,t){const n="signpost_".concat(t);var r;const i=+(null!==(r=null===e||void 0===e?void 0:e.settings[n])&&void 0!==r?r:"0");if(!(i<3))return!1;var s;return i+ +(null!==(s=o.X.getItem(n))&&void 0!==s?s:"0")<3}const l=async(e,t,n)=>{let{currentUser:s}=e,{signpost:a}=t;const l=function(){const e=o.X.getItem("last_signpost");if(null!==e)try{const{type:t,date:n}=JSON.parse(e);if(Date.now()-+new Date(n)<864e5)return t}catch(t){}return null}();if(l&&l!==a)return;let c;const d="signpost_".concat(a);if(s){try{({views:c}=await(0,i.Fv)("/user/signpost",{signpost:a}))}catch(h){return void(0,r.Tb)(h)}n({type:"currentUserSettingUpdated",key:d,value:null===c?null:String(c)})}else{var u;c=+(null!==(u=o.X.getItem(d))&&void 0!==u?u:"0")+1,isNaN(c)||o.X.setItem(d,"".concat(c))}!c||c>3||n({type:"showSignpost",signpost:a})},c=(e,t)=>{let{signpost:n}=e,{signpost:r}=t;if(r!==n)return o.X.setItem("last_signpost",JSON.stringify({type:r,date:new Date,dismissed:!1})),{signpost:r}},d=(e,t)=>{let{currentUser:n}=e,{signpost:r}=t;(0,s.MR)((0,s.a$)({type:"signpost:view",data:{signpost:r},eventVersion:1,currentUser:n}))},u=(e,t)=>{let{signpost:n}=e,{signpost:r}=t;if(n===r)return{signpost:null}},h=e=>{let{signpost:t}=e;if(null!==t)return o.X.setItem("last_signpost",JSON.stringify({type:t,date:new Date,dismissed:!0})),{signpost:null}},f=(e,t,n)=>{let{currentUser:r,decorations:{signpost:i}}=e,{trigger:a}=t;if(null===i)return;const l="signpost_".concat(i);r?n({type:"updateCurrentUserSetting",key:l,value:"hide"}):o.X.setItem(l,"hide"),(0,s.MR)((0,s.a$)({type:"signpost:dismiss",data:{signpost:i,trigger:a},eventVersion:1,currentUser:r}))}},54924:function(e,t,n){n.d(t,{S3:function(){return s},ZV:function(){return o},gR:function(){return a}});var r=n(14416);function i(e,t){return(0,r.$j)(e,t||(()=>({})))}function s(){return i}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(...t)}function a(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.wU;return(0,r.v9)(e,t)}}},59533:function(e,t,n){n.d(t,{I:function(){return p},r:function(){return m}});var r=n(41799),i=n(69396),s=n(85893),o=n(36307),a=n(84193),l=n(39736),c=n(602),d=n(88725),u=n(11163),h=n.n(u),f=(n(67294),n(90627));const m=async(e,t,n)=>{let{notebook:u}=e,{newOwner:h,relocate:m,live:p,teamRole:v}=t;const{id:g}=u;try{const e=await(0,c.Fv)("/document/".concat(g,"/transfer"),{user:h.id,live:p,team_role:null!==v&&void 0!==v?v:void 0});n({type:"transferSucceeded",owner:h,relocate:m,id:e.id,sharing:e.sharing,slug:e.slug,publishLevel:e.publish_level,publishTime:e.publish_time}),m||n({type:"showSuccessToast",message:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center",children:[l.MI,"Notebook transfered to ",h.login]}),(0,s.jsx)(a.Z,{href:(0,d.Bi)((0,r.Z)((0,i.Z)((0,r.Z)({},u),{owner:h}),e)),children:(0,s.jsxs)("a",{className:"flex items-center fw6 no-underline blue hover-lightest-blue",children:["View ",(0,s.jsx)(o.Z,{className:"ml1"})]})})]}),key:"transfer"})}catch(b){(0,f.S)({error:b,dispatch:n,message:"Oops, transfer failed. Try again?",key:"transfer"})}},p=(e,t)=>{let{id:n}=e,{relocate:r,slug:i,owner:s,sharing:o,publishLevel:a,publishTime:l}=t;if(!r)return{slug:i,owner:s,sharing:o,publishLevel:a,publishTime:l};h().replace("/[at]/[...specifiers]","/d/".concat(n))}},95757:function(e,t,n){function r(e){return{version:e.version,type:e.type,node_id:e.node_id,new_next_node_id:e.new_next_node_id,new_node_value:e.new_node_value,new_node_pinned:e.new_node_pinned,new_node_mode:e.new_node_mode,new_node_data:e.new_node_data,new_node_name:e.new_node_name,specifier_type:e.specifier_type,specifier:e.specifier,new_resolution:e.new_resolution,target_document_id:e.target_document_id,target_node_id:e.target_node_id}}n.d(t,{e:function(){return r}})},24486:function(e,t,n){n.d(t,{X:function(){return c},b:function(){return l}});var r=n(602),i=n(19671),s=n(30099),o=n(90627);const a="https://observablehq.com",l=async(e,t)=>{let{customer:{customer:n}}=e,{user:i}=t;if(!n)throw new Error("No customer to update");const o="team"===i.type?"/team/@".concat(i.login):"",l=await(0,r.Fv)("/billing/session",{action:"setup",customer:n.stripe_customer.id,success_url:a.concat("".concat(o,"/settings/billing?update=true")),cancel_url:a.concat("".concat(o,"/settings/billing")),isTeam:"team"===i.type}),c=await(0,s.A)();if(!c)throw new Error("Could not initialize Stripe API");c.redirectToCheckout({sessionId:l.id})},c=async(e,t,n)=>{let{currentUser:a}=e,{tier:l,interval:c,user:d,nextPath:u=window.location.href}=t;n({type:"showProcessingToast",key:"changeUserTier",message:"Changing plan\u2026"});const h=d.tier;let f=null;try{f=(await(0,r.Fv)("/billing/".concat(d.login,"/cycle"),{tier:l,interval:c,updateStripe:!0,path:u})).newTier}catch(v){if(402===v.status&&"errors"in v){const e=v.errors.find((e=>"PAYMENT_REQUIRED"===e.code));if(e){const t=await(0,s.A)();if(!t)throw new Error("Could not initialize Stripe API");return void t.redirectToCheckout({sessionId:e.meta.checkoutSessionId})}}return void(0,o.S)({error:v,key:"changeUserTier",dispatch:n,message:"Oops, changing plan failed. Try again?"})}const m=new URL(window.location.href),p=m.pathname+(m.search?"?".concat(m.search):"");"team"===d.type?(0,i.MR)((0,i.gv)({type:"team:manage:updateSubscription",data:{oldTier:h,newTier:f,path:p},eventVersion:2,team:d,currentUser:a})):(0,i.a$)({type:"user:manage:updateSubscription",data:{oldTier:h,newTier:f,path:p},eventVersion:1,currentUser:a}),n({type:"tierUpdated",login:d.login,newTier:f,user:d}),n({type:"updateCustomer",user:d}),n({type:"updateInvoice",user:d}),n({type:"updateContext"}),n({type:"updateCurrentUser"}),n({type:"showSuccessToast",key:"changeUserTier",message:"Plan changed."})}},11758:function(e,t,n){n.d(t,{M:function(){return T}});var r=n(41799),i=n(69396),s=n(92876),o=n(51289),a=n(98841),l=n(45217),c=n(602),d=n(30099),u=n(11163),h=n.n(u),f=n(90627);const m="https://observablehq.com";var p=n(24486),v=n(19671);const g=(e,t)=>{let{key:n,value:i}=t;if(!e)return;let{settings:s}=e;return s[n]!==i?(s=(0,r.Z)({},s),null==i?delete s[n]:s[n]=i,{settings:s}):void 0};var b=n(69475),x=n(39736),y=n(67294);async function w(e,t,n){const{autoDismiss:s=!1}=t;let o;const a=new Promise((e=>{o=e})),l=(0,y.createElement)(e,(0,i.Z)((0,r.Z)({},t),{onDismiss(){o()}}));n({type:"addToast",toast:l}),s?await Promise.race([new Promise((e=>setTimeout(e,5e3))),a]):await a,n({type:"removeToast",toast:l})}const C={showErrorToast:(e,t,n)=>{let{message:r,key:i="default"}=t;w(x.PK,{message:r,key:i},n)},showProcessingToast:(e,t,n)=>{let{message:r,key:i="default"}=t;w(x.LE,{message:r,key:i},n)},showSuccessToast:(e,t,n)=>{let{message:r,key:i="default"}=t;w(x.bF,{message:r,key:i,autoDismiss:!0},n)},showUploadingToast:(e,t,n)=>{let{name:r,percent:i,processing:s,key:o="default"}=t;w(x.xk,{name:r,percent:i,processing:s,key:o},n)},showWarningToast:(e,t,n)=>{let{message:r,key:i="default"}=t;w(x.PK,{message:r,yellowIcon:!0,key:i,autoDismiss:!0},n)},marketingFooterLinkClicked:(e,t)=>{let{currentUser:n}=e,{eventLabel:r}=t;(0,v.MR)((0,v.a$)({type:"marketing:view:footerLink",data:{eventLabel:r},currentUser:n,eventVersion:1}))},marketingNavLinkClicked:(e,t)=>{let{currentUser:n}=e,{eventLabel:r}=t;(0,v.MR)((0,v.a$)({type:"marketing:view:navLink",data:{eventLabel:r},currentUser:n,eventVersion:1}))},marketingSectionLinkClicked:(e,t)=>{let{currentUser:n}=e,{eventLabel:r,section:i}=t;(0,v.MR)((0,v.a$)({type:"marketing:view:sectionLink",data:{eventLabel:r,section:i},currentUser:n,eventVersion:1}))},dismissModal:()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()},requestSignpost:b.CL,showSignpost:b.Yc,dismissSignpost:b.Lh,updateCurrentUser:async(e,t,n)=>{n({type:"currentUserUpdated",updatedCurrentUser:await(0,c.a8)("/user")})},updateCurrentUserSetting:async(e,t,n)=>{let{currentUser:r}=e,{key:i,value:s}=t;if(r&&r.settings[i]!==s)try{await(0,c.Fv)("/user/setting",{key:i,value:s})}catch(o){n({type:"showWarningToast",message:"Unable to save settings.",key:"updateCurrentUserSetting"})}},updateContext:async(e,t,n)=>{let{context:r}=e;if(!r.context)return;n({type:"contextUpdated",updatedContext:await(0,c.a8)("/user/@".concat(r.context.login))})},showModal:(e,t)=>{let{currentUser:n}=e;switch(t.modal){case"newNotebook":{const{trigger:e,source:r}=t;(0,v.MR)((0,v.a$)({type:"newNotebookModalOpened",data:{trigger:e,source:r},eventVersion:2,currentUser:n}));break}case"login":{const{trigger:e,source:r,modalProps:i}=t,{loginReason:s=null,loginScreen:o="login"}=i||{};(0,v.MR)((0,v.a$)({type:"user:manage:signupModalOpen",data:{trigger:e,source:r,loginReason:s,loginScreen:o},eventVersion:2,currentUser:n})),"signup"===o&&ga("send","event","Conversions","Open signup modal");break}}},changePlan:p.X,createSubscription:async(e,t,n)=>{let{tier:r,interval:i,user:s,nextPath:o,coupon:a}=t;if("public"===r)throw new Error("Cannot create public-tier subscription");const l="team"===s.type,u=l?"/team/@".concat(s.login):"",p=await(0,c.a8)("/billing/".concat(s.login)),v=l?await(0,c.a8)("/team/".concat(s.id,"/members")):null;if(p.stripe_customer){null!==o&&void 0!==o||(o="".concat(u,"/settings/billing"));const e=new URL(o,m),t=new URL("".concat(u,"/settings/billing")+"?session_id={CHECKOUT_SESSION_ID}"+"&next=".concat(encodeURIComponent(e.href),"&action=resubscribe"),m);try{const n=await(0,c.Fv)("/billing/session",{action:"resubscribe",customer:p.stripe_customer.id,quantity:v?v.filter((e=>["member","owner"].includes(e.role))).length:1,success_url:t.href,cancel_url:e.href,tier:r,interval:i,isTeam:l}),s=await(0,d.A)();if(!s)throw new Error("Could not initialize Stripe API");s.redirectToCheckout({sessionId:n.id})}catch(b){(0,f.S)({error:b,key:"changeUserTier",dispatch:n,message:"Oops, changing plan failed. Try again?"})}}else try{var g;if("pro"===r||"pro_enterprise"===r)return n({type:"showProcessingToast",key:"changeUserTier",message:"Changing plan\u2026"}),await(0,c.Fv)("/billing/start-trial",{userId:s.id,userType:s.type,tier:r,interval:i,coupon:null!==(g=null===a||void 0===a?void 0:a.id)&&void 0!==g?g:null}),n({type:"tierUpdated",login:s.login,newTier:r,user:s}),n({type:"updateCustomer",user:s}),n({type:"updateInvoice",user:s}),n({type:"updateContext"}),n({type:"updateCurrentUser"}),n({type:"showSuccessToast",key:"changeUserTier",message:"Plan changed."}),void(o&&h().push(o));throw Error("Trying to start trial for non-Pro tier selection. Tier is ".concat(r))}catch(x){(0,f.S)({error:x,key:"changeUserTier",dispatch:n,message:"Oops, changing plan failed. Try again?"})}}};var k=n(36448);function j(e,t){return{defaultTeam:(0,k.Wo)(t,e),context:t}}const _={contextUpdated:(e,t)=>{let{updatedContext:n}=t;return{context:n}},tierUpdated:(e,t)=>{let{newTier:n,login:s}=t;var o;return(0,i.Z)((0,r.Z)({},e),{defaultTeam:(null===(o=e.defaultTeam)||void 0===o?void 0:o.login)===s?(0,i.Z)((0,r.Z)({},e.defaultTeam),{tier:n}):e.defaultTeam})}},S={currentUserUpdated:(e,t)=>{let{updatedCurrentUser:n}=t;return n},currentUserSettingUpdated:g,updateCurrentUserSetting:g,tierUpdated:(e,t)=>{let{login:n,newTier:s,user:o}=t;return e?"individual"===o.type?(0,i.Z)((0,r.Z)({},e),{tier:s}):(0,i.Z)((0,r.Z)({},e),{teams:e.teams.map((e=>e.login===n?(0,i.Z)((0,r.Z)({},e),{tier:s}):e))}):null}};const Z={addToast:(e,t)=>{let{toasts:n}=e;return t.toast.key&&n.find((e=>e.key===t.toast.key))?{toasts:n.map((e=>e.key===t.toast.key?t.toast:e))}:{toasts:[t.toast].concat(n)}},removeToast:(e,t)=>{let n,{toasts:r}=e;if(n="key"in t?r.find((e=>e.key===t.key)):t.toast,n)return{toasts:r.filter((e=>e!==n))}},showModal:(e,t)=>({modal:t.modal,modalProps:"modalProps"in t?t.modalProps:void 0}),dismissModal:(e,t)=>{let{modal:n}=e,{modal:r}=t;if(void 0===r||n===r)return{modal:"none",modalProps:{}}},showSignpost:b.D1,hideSignpost:b._h,dismissSignpost:b.uX};function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{type:s,slices:o,listeners:a}=e(t),{initialCurrentUser:c,initialContext:d}=t,u={};for(const r in o){if(!Object.prototype.hasOwnProperty.call(o,r))continue;const e=r,t=o[e];u[e]=L({name:e,reducers:t.reducers,initialState:t.initialState})}return(0,l.MT)((0,l.UY)((0,r.Z)((0,i.Z)((0,r.Z)({},N(c,d)),{type:L({name:"type",initialState:s,reducers:{}})}),u)),M((0,r.Z)({},C,a),n))}function L(e){let{initialState:t,reducers:n}=e;return(e,i)=>{e||(e=t);const s=n[i.type];if(s){const t=s(e,i);return t?(0,r.Z)({},e,t):e}return e}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=o.Qg&&o.v9&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.qC,r=(0,a.P)(s.n_,(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.type}));return n((0,l.md)(...t,(t=>n=>i=>{const{type:s}=i;if(r({type:"debug",category:"redux.action",data:{type:s},level:"debug"}),s in e){let n=e[s];Array.isArray(n)||(n=[n]);for(const e of n)e(t.getState(),i,(e=>{Promise.resolve().then((()=>{t.dispatch(e)}))}))}return n(i)})))}function N(e,t){return{currentUser:L({name:"currentUser",initialState:e,reducers:S}),decorations:L({name:"decorations",initialState:{signpost:null,toasts:[],modal:"none",modalProps:void 0},reducers:Z}),context:L({name:"context",initialState:j(e,t),reducers:_})}}}}]);