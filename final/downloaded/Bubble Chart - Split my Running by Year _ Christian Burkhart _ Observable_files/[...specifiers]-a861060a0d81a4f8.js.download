(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9898],{62907:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[at]/[...specifiers]",function(){return n(46838)}])},8952:function(e,t,n){"use strict";n.d(t,{W:function(){return k}});var o=n(85893),s=n(67294),r=n(40042),i=n(14921),a=n(37497),c=n(89905),l=n(97058),d=n(97559),m=n(41664),h=n.n(m),u=n(86437);const p={metadata:{tags:[]},sys:{type:"Entry",id:"35e1C9Qzh4j8ssU2HHUbTu",contentType:{sys:{type:"Link",linkType:"ContentType",id:"announcement"}},createdAt:"2022-09-22T20:06:09.490Z",updatedAt:"2022-09-22T20:12:48.120Z",locale:"en-US"},fields:{name:"Insight 2022",image:{metadata:{tags:[]},sys:{space:{sys:{type:"Link",linkType:"Space",id:"uklh5xrq1p2j"}},type:"Asset",id:"7Ca4Tx4zpOVdVFoDPkTtvs",revision:1,createdAt:"2022-10-05T14:42:47.930Z",updatedAt:"2022-10-05T14:43:09.454Z",environment:{sys:{id:"master",type:"Link",linkType:"Environment"}},contentType:{sys:{type:"Link",linkType:"ContentType",id:"announcement"}},locale:"en-US"},toPlainObject:()=>({}),fields:{title:"Observable Insight",description:"",file:{url:"//images.ctfassets.net/uklh5xrq1p2j/7Ca4Tx4zpOVdVFoDPkTtvs/527d42e0574561083733f384aea05a2e/193943728-f313f720-0754-42ac-91d1-82ae4cf4c077.png",details:{size:46657,image:{width:640,height:472}},fileName:"193943728-f313f720-0754-42ac-91d1-82ae4cf4c077.png",contentType:"image/png"}}},startDate:"2022-10-05T00:00-04:00",endDate:"2022-10-27T00:00-04:00",content:{data:{},content:[{data:{},content:[{data:{},marks:[],value:"Come see what your data can show!",nodeType:"text"}],nodeType:u.BLOCKS.PARAGRAPH},{data:{},content:[{data:{},marks:[],value:"Join us for our free community conference, ",nodeType:"text"},{data:{},marks:[{type:"bold"}],value:"Observable ",nodeType:"text"},{data:{},marks:[{type:"bold"},{type:"italic"}],value:"Insight",nodeType:"text"},{data:{},marks:[],value:", a gathering of creative data practitioners from all over the world looking to collaborate and be inspired.",nodeType:"text"}],nodeType:u.BLOCKS.PARAGRAPH}],nodeType:u.BLOCKS.DOCUMENT},buttonText:"Reserve Your Free Spot",buttonLink:"https://hopin.com/events/observable-insight?utm_source=obspopups&utm_campaign=conference22"},toPlainObject:()=>({}),update:async()=>await Promise.resolve({})},x=e=>{let{onClose:t,announcement:n=p}=e;const{fields:{content:r,image:m,buttonText:u,buttonLink:x,startDate:f,endDate:g}}=n,{0:b}=(0,s.useState)((()=>new Date)),j=new Date(f),v=new Date(g);return j<=b&&b<=v?(0,o.jsx)(i.h,{children:(0,o.jsxs)("div",{className:"ba b--light-silver br2 shadow-5 relative bg-white z-2",style:{maxWidth:"315px",bottom:30,right:30,position:"fixed"},children:[(0,o.jsx)(a.hU,{colorless:!0,icon:c.Z,className:"absolute bg-white right-0 ma2",onClick:()=>t(),solidBackground:!0,"data-testid":"announcement-banner-close"}),m&&(0,o.jsx)(l.Z,{image:m}),(0,o.jsxs)("div",{className:"pa3","data-testid":"announcement-banner-div",children:[r&&(0,o.jsx)(d.Z,{className:"pb3",document:r}),x?(0,o.jsx)(h(),{href:x,children:(0,o.jsx)("a",{className:"white bg-blue b--blue animate-all pointer primary-button-shadow hover-bg-dark-blue hover-b--dark-blue f6 fw6 br2 ba relative pa2 flex items-center justify-center no-underline",children:u})}):(0,o.jsx)(a.KM,{className:"w-100",text:u||"Got it!",onClick:()=>t()})]})]})}):null},f="announcement",g="announcement_entry_id",b="show",j="hide",v=e=>(null===e||void 0===e?void 0:e.settings.announcement_entry_id)||"initial",k=(0,r.$j)((e=>{let{currentUser:t,decorations:n}=e;return{currentUser:t,decorations:n}}),(e=>({dispatch:e})))((e=>{let{currentUser:t,dispatch:n}=e;const{sys:{id:r}}=p,{0:i,1:a}=(0,s.useState)(!1),{0:c,1:l}=(0,s.useState)();return(0,s.useEffect)((()=>{if(!t)return;const e=v(t);c!==r&&l(e),e!==r&&n({type:"updateCurrentUserSetting",key:g,value:r})}),[t,c,r,n]),(0,s.useEffect)((()=>{const e=v(t);c&&e!==c&&n({type:"updateCurrentUserSetting",key:f,value:b})}),[t,c,r,n]),(0,s.useEffect)((()=>{const e=v(t),n=(e=>(null===e||void 0===e?void 0:e.settings.announcement)||b)(t);e===r&&a(n!==j)}),[t,r]),i?(0,o.jsx)(x,{onClose:()=>n({type:"updateCurrentUserSetting",key:f,value:j})}):null}))},82469:function(e,t,n){"use strict";var o=n(85893),s=n(15295);t.Z=e=>{let{children:t,singleScreen:n=!1}=e;return(0,o.jsxs)("div",{className:"w-100 mw-max-width ph4-l ph3 center ".concat(n?"flex flex-column":""),style:n?{minHeight:"calc(100vh - 8rem)"}:{},children:[(0,o.jsx)("div",{className:n?"flex-grow-1":"",style:n?{}:{minHeight:"calc(100vh - 24rem)"},children:t}),(0,o.jsx)(s.$,{minimal:n})]})}},88188:function(e,t,n){"use strict";var o=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,o.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2"},e),{children:[(0,r.jsx)("path",{d:"M3 15V1",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M13 15V1",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M15 3L1 3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M15 13L1 13",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("line",{x1:"5",y1:"10",x2:"10",y2:"10"}),(0,r.jsx)("line",{x1:"5",y1:"7",x2:"9",y2:"7"})]}))},97058:function(e,t,n){"use strict";var o=n(41799),s=n(99534),r=n(85893);t.Z=e=>{var{image:t,alt:n}=e,i=(0,s.Z)(e,["image","alt"]);if("undefined"===typeof t)return null;const{file:a,description:c}=t.fields;return(0,r.jsx)("img",(0,o.Z)({src:a.url,alt:null!==n&&void 0!==n?n:c},i))}},97559:function(e,t,n){"use strict";var o=n(41799),s=n(85893),r=n(65988),i=n.n(r),a=n(74129),c=n(86437);t.Z=e=>{let{document:t,renderMark:n={},renderNode:r={},className:l}=e;if("undefined"===typeof t)return null;if("string"===typeof t)throw new Error("Document is not a RichText object and should be rendered directly");const d={renderMark:(0,o.Z)({},n),renderNode:(0,o.Z)({[c.BLOCKS.PARAGRAPH]:(e,t)=>(0,s.jsxs)("p",{style:{margin:0},className:"jsx-17502f83cc37dac7",children:[t,(0,s.jsx)(i(),{id:"17502f83cc37dac7",children:"p.jsx-17502f83cc37dac7:not(:last-of-type){padding-bottom:var(--spacing-medium)}"})]}),[c.BLOCKS.UL_LIST]:(e,t)=>(0,s.jsx)("ul",{className:"pl3",style:{listStyleType:"disc",margin:0},children:t}),[c.BLOCKS.LIST_ITEM]:(e,t)=>(0,s.jsxs)("li",{className:"jsx-1aac4797f0960583",children:[t,(0,s.jsx)(i(),{id:"1aac4797f0960583",children:"li.jsx-1aac4797f0960583:not(:last-of-type){padding-bottom:var(--spacing-medium)}"})]})},r)};return(0,s.jsx)("div",{className:l,children:(0,a.h)(t,d)})}},5675:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var o=n(85893),s=n(8433),r=n(66421),i=n(36448),a=n(93452);const c=e=>{let{notebook:t,dispatch:n}=e;return(0,o.jsx)(a.On,{title:"Notebook is in the trash",icon:s.Z,description:"Notebooks can\u2019t be edited from the trash. ".concat((0,r.rY)(t)?" To edit this notebook, first move it out of the trash.":" Only team owners can move published or shared notebooks out of the trash."),onCancel:function(){history.length>2?history.back():location.replace((0,i.GN)(t.owner))},cancelText:(0,r.rY)(t)?"Leave in trash":"Back",onConfirm:function(){n({type:"trashRequested",trashed:!1})},confirmText:"Move out of trash",isConfirming:t.isUpdatingTrash})}},77419:function(e,t,n){"use strict";n.d(t,{bd:function(){return h},p1:function(){return u},wd:function(){return p}});var o=n(85893),s=n(10198),r=n(27193),i=n(88725),a=n(72760),c=n(3142);const l=512,d=new Set(["Paragraph","ATXHeading2","ATXHeading3","ATXHeading4","ATXHeading5"]),m=new Set(["EmphasisMark","LinkMark","LinkLabel","URL","HeaderMark"]),h=e=>{let{notebook:t}=e;const{model:n,thumbnail:s,saveTime:d,publishTime:m}=t,h=(0,r.Ui)(n),u=function(e){let t="";for(const s of e){const{body:e,tag:r}=(0,a.Qc)(s);if(e){var n,o;const s="TemplateLiteral"===e.type&&"md"===(null===r||void 0===r?void 0:r.input)?e.quasis:"TaggedTemplateExpression"===e.type&&"md"===(null===(n=e.tag)||void 0===n?void 0:n.name)?null===(o=e.quasi)||void 0===o?void 0:o.quasis:null,i=null===s||void 0===s?void 0:s.map((e=>e.value.raw)).join(" ");for(const e of f(i))if(t+="".concat(g(e)," "),t.length>l)return t.slice(0,l).trim()}}return t.trim()||null}(n.nodes),p=t.authors.length?t.authors:[t.owner],x=(0,i.UW)(t);return(0,o.jsxs)(o.Fragment,{children:[(0,c.cg)(t)||(0,c.nv)(t)?(0,o.jsx)("meta",{name:"robots",content:"noindex"}):null,(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com").concat(x)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:h}),(0,o.jsx)("meta",{property:"og:title",content:h}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{name:"description",content:u}),(0,o.jsx)("meta",{property:"og:description",content:u})]}),s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:(0,i.Nl)(s)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,o.jsx)("meta",{name:"author",content:p.map((e=>(0,r.KY)(e))).join(", ")}),p.map((e=>(0,o.jsx)("meta",{name:"article:author",content:"".concat("https://observablehq.com","/@").concat(e.login)},e.login))),m&&(0,o.jsx)("meta",{property:"article:published_time",content:m.toISOString()}),(0,o.jsx)("meta",{property:"article:modified_time",content:d.toISOString()})]})},u=e=>{let{collection:t}=e;const{description:n,thumbnail:s,owner:a,owner:{login:c},slug:l,update_time:d}=t,m=(0,r.Ui)(t);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/collection/@").concat(c,"/").concat(l)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:m}),(0,o.jsx)("meta",{property:"og:title",content:m}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{name:"description",content:n}),(0,o.jsx)("meta",{property:"og:description",content:n})]}),s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:(0,i.Nl)(s)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,o.jsx)("meta",{name:"author",content:(0,r.KY)(a)}),(0,o.jsx)("meta",{name:"article:author",content:"".concat("https://observablehq.com","/@").concat(c)}),(0,o.jsx)("meta",{property:"article:modified_time",content:d.toISOString()})]})},p=e=>{let{user:t}=e;const{avatar_url:n,bio:s,login:i}=t,a=(0,r.KY)(t),c="Recent notebooks by ".concat(a);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:type",content:"profile"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/@").concat(i)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:c}),(0,o.jsx)("meta",{property:"og:title",content:c}),(0,o.jsx)("meta",{property:"description",content:s}),(0,o.jsx)("meta",{property:"og:description",content:s}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:n}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary"})]}),(0,o.jsx)("meta",{property:"profile:last_name",content:a}),(0,o.jsx)("meta",{property:"profile:username",content:i})]})};function x(e){const t=s.E2.startParse(e);let n;for(;!(n=t.advance()););return n}function*f(e){if(!e)return;const t=x(e).cursor();for(;t.next();)d.has(t.name)&&(yield e.slice(t.from,t.to))}function g(e){let t=e;const n=x(e).cursor();for(n.lastChild();n.prev();)m.has(n.name)&&(t=t.slice(0,n.from)+t.slice(n.to));return t.trim()}},28445:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var o=n(31115),s=n(67294);function r(e,t,n){const r=(0,s.useRef)(),i=(0,s.useRef)(e),a=(0,s.useRef)([]),c=(0,s.useRef)(t);c.current=t,(0,s.useEffect)((()=>{const t=i.current;if(i.current=e,!c.current)return;const s=[];for(const[n,o]of e){const e=t.get(n);(null===e||void 0===e?void 0:e.doc)!==o.doc&&s.push(n)}const l=Array.from(t.keys()),d=Array.from(e.keys());!s.length&&(0,o.u)(l,d)||(a.current=s,r.current||(r.current=setTimeout((()=>{r.current=void 0,n({type:"updateSearchResults",nodeIds:a.current})}),100)))}),[e,n])}},75470:function(e,t,n){"use strict";n.d(t,{w:function(){return s}});var o=n(67294);function s(e,t,n){(0,o.useEffect)((()=>{"pro"===(null===t||void 0===t?void 0:t.tier)&&t.login===n&&t.settings.confirm_migration&&e({type:"showModal",modal:"migrated"})}),[t,e,n])}},28067:function(e,t,n){"use strict";n.d(t,{T:function(){return s},r:function(){return r}});var o=n(51289);function s(e,t,n){let o=e[t];return void 0===o&&void 0!==n?n:(Array.isArray(o)&&(o=o[0]),"boolean"===typeof n?!!o&&"false"!==o:o)}function r(e){const t=o.Qg?location.pathname:"/",n=new URLSearchParams;return Object.entries(e).forEach((e=>{let[t,o]=e;void 0!==o&&null!==o&&n.append(t,String(o))})),"".concat(t,"?").concat(n.toString())}},46838:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return rn},default:function(){return an},parseParams:function(){return cn}});var o=n(41799),s=n(85893),r=n(69396),i=n(65988),a=n.n(i),c=n(8952),l=n(82029),d=n(80548),m=n(35831),h=n(28445),u=n(75470),p=n(12447),x=n(74080),f=n(19671),g=n(27193),b=n(88725),j=n(8802),v=n(66421),k=n(928),y=n(3142),w=n(36448),N=n(9008),L=n.n(N),S=n(67294),C=n(4242),T=n(23342),Z=n(11758),U=n(42019),_=n(602),F=n(70915),R=n(69150),M=n(41664),A=n.n(M),E=n(37497),P=n(17905),O=n(74878),V=n(23869),z=n(54329),q=n(89905);const B=e=>{let{notebook:t,collection:n,currentUser:o,formatTitleInCollection:r}=e;const{0:i,1:a}=(0,S.useState)(!1),[c]=(0,_.h_)(i?"/collection/@".concat(n.owner.login,"/").concat(n.slug):null),l=c?c.listings:[];return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-start mt3",children:[(0,s.jsx)(E.hU,{colorless:!0,icon:O.Z,onClick:()=>{a(!i)},className:"align-start mh2",style:i?{transform:"rotate(90deg)",padding:0}:{padding:0}}),(0,s.jsx)(A(),{href:(0,F.WG)(n),children:(0,s.jsxs)("a",{className:"flex no-underline mid-gray hover-blue db pr2",onClick:()=>{(0,f.MR)((0,f.a$)({type:"collectionRequested",data:{trigger:"click",source:"collectionsSidebar"},eventVersion:1,currentUser:o}))},children:[(0,s.jsx)("div",{className:"break-word",title:(0,g.Ui)(n),children:r(n)}),(0,s.jsxs)("span",{className:"mh1",children:[" (",n.listing_count,") "]}),(0,s.jsx)(P.Z,{className:"flex-shrink-0"})]})})]}),i?l.map(((e,o)=>(0,s.jsx)(S.Fragment,{children:"collection"===e.listing_type?(0,s.jsx)(A(),{href:(0,F.WG)(e),children:(0,s.jsxs)("a",{className:"flex items-top no-underline mid-gray hover-blue ml4 pl2 mt3 db pr1",children:[(0,s.jsx)("div",{className:"break-word",title:(0,g.Ui)(e),children:r(e)}),(0,s.jsxs)("span",{className:"mh1 align-start",children:["(",e.listing_count,")"]}),(0,s.jsx)(P.Z,{className:"flex-shrink-0"})]})}):e.id===t.id?(0,s.jsxs)("div",{className:"flex near-black items-center mt3 ml2 near-black",children:[(0,s.jsx)(V.Z,{className:"pa2"}),(0,s.jsx)("span",{className:"break-word",children:r(e)})]}):(0,s.jsx)(A(),{href:"".concat((0,b.Bi)(e),"?collection=@").concat(n.owner.login,"/").concat(n.slug),children:(0,s.jsx)("a",{className:"no-underline mid-gray hover-blue ml4 pl2 mt3 db pr2",title:(0,g.Ui)(e),children:(0,s.jsx)("div",{className:"break-word",children:r(e)})})})},o))):null]})},D=e=>{let{notebook:t,currentCollection:n,dispatch:o}=e;const{collections:r}=t;return r.length>1?(0,s.jsxs)("div",{className:"ph2 mt3 bt b--silver",children:[(0,s.jsx)("div",{className:"ph2 mt3 near-black",children:"Also listed in\u2026"}),r.map((e=>e.id!==n.id&&(0,s.jsx)(A(),{href:"".concat((0,b.Bi)(t),"?collection=@").concat(e.owner.login,"/").concat(e.slug),children:(0,s.jsx)("a",{className:"no-underline hover-blue",onClick:t=>{t.metaKey||t.ctrlKey||(o({type:"setOpenCollection",collection:e}),t.preventDefault())},children:(0,s.jsxs)("div",{className:"flex items-start ph2 mv3",children:[(0,s.jsx)(z.Z,{className:"mr2 flex-shrink-0",style:{marginTop:1}}),(0,s.jsx)("div",{title:(0,g.Ui)(e),className:"mr1 f6 fw5 lh-title break-word",children:(0,g.Ui)(e)})]})})},e.id)))]}):null},H=(0,C.$j)((e=>{let{notebook:t,currentUser:n}=e;return{notebook:t,currentUser:n}}),(e=>({dispatch:e})))((e=>{let{notebook:t,currentUser:n,dispatch:o}=e;const r=(0,U.h)(t),i=function(e){const t=(0,g.go)((0,g.Ui)(e)),n=new RegExp("(?:^".concat(t,"\\s*[-:/])|(?:[-:/]\\s*").concat(t,"$)"));return e=>{const t=(0,g.Ui)(e);return t.replace(n,"").trim()||t}}(r),{initialCollection:c}=t,l=c?c.listings:[];return(0,s.jsxs)("div",{className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" fixed self-start bg-near-white overflow-y-auto pane z-1 br3 br--right",children:[(0,s.jsxs)("div",{className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" pv3",children:[(0,s.jsxs)("div",{className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" flex justify-between items-start ph2 mb1",children:[(0,s.jsx)("div",{className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" flex items-start ",children:(0,s.jsx)(A(),{href:(0,F.WG)(r),children:(0,s.jsxs)("a",{onClick:()=>{(0,f.MR)((0,f.a$)({type:"collectionRequested",data:{trigger:"click",source:"collectionsSidebar"},eventVersion:1,currentUser:n}))},className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" flex no-underline hover-blue pv2 db near-black items-start",children:[(0,s.jsx)(z.Z,{className:"flex-shrink-0 mr2"}),(0,s.jsx)("span",{style:{marginTop:-2},className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" f5 lh-title fw6 mr1 break-word",children:(0,g.Ui)(r)}),(0,s.jsx)(P.Z,{className:"flex-shrink-0"})]})})}),(0,s.jsx)(E.hU,{colorless:!0,icon:q.Z,onClick:()=>o({type:"toggleCollectionsSidebar"})})]}),(0,s.jsx)("div",{className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]]),children:l.map(((e,o)=>(0,s.jsx)(S.Fragment,{children:"collection"===e.listing_type?(0,s.jsx)(B,{collection:e,formatTitleInCollection:i,notebook:t,currentUser:n}):e.id===t.id?(0,s.jsxs)("div",{title:(0,g.Ui)(e),className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" flex near-black mt3 near-black break-word",children:[(0,s.jsx)(V.Z,{className:"ph2 flex-shrink-0 self-start",style:{marginTop:1}}),(0,s.jsx)("div",{className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" pr2",children:i(e)})]}):(0,s.jsx)(A(),{href:"".concat((0,b.Bi)(e),"?collection=@").concat(r.owner.login,"/").concat(r.slug),children:(0,s.jsx)("a",{style:{marginLeft:16},onClick:()=>{(0,f.MR)((0,f.a$)({type:"notebookRequested",data:{trigger:"click",source:"collectionsSidebar"},eventVersion:1,currentUser:n}))},title:(0,g.Ui)(e),className:a().dynamic([["f23edcff6078a1b8",[p.pp,R.Lv+15,R.Lv]]])+" no-underline mid-gray hover-blue mt3 pl3 pr2 db break-word",children:i(e)})})},o)))})]}),(0,s.jsx)(D,{notebook:t,currentCollection:r,dispatch:o}),(0,s.jsx)(a(),{id:"f23edcff6078a1b8",dynamic:[p.pp,R.Lv+15,R.Lv],children:".pane.__jsx-style-dynamic-selector{bottom:0;left:0;right:0;top:0}@media ".concat(p.pp,"{.pane.__jsx-style-dynamic-selector{top:").concat(R.Lv+15,"px;width:220px;max-height:-webkit-calc(100vh - 2 * ").concat(R.Lv,"px);max-height:-moz-calc(100vh - 2 * ").concat(R.Lv,"px);max-height:calc(100vh - 2 * ").concat(R.Lv,"px)}}")})]})}));var I=n(15295),G=n(94717),$=n(19423),X=n(77419),K=n(39736),W=n(34236),Y=n(62806),Q=n(23105),J=n(21142);const ee={bannerText:"Create interactive documents like this one.",buttonText:"Sign up for free",footerText:(0,s.jsxs)(s.Fragment,{children:["Learn new data visualization techniques. Perform complex data analysis."," ",(0,s.jsx)("br",{})," Publish your findings in a compelling document. All in the same tool."]})},te="@observablehq/featured-creators",ne=(0,C.$j)((e=>{let{notebook:t}=e;return{canShowBanner:null===t.focusId&&null===t.selectionFocusId&&0===t.selection.size}}),(e=>({dispatch:e})))((e=>{let{canShowBanner:t,dispatch:n}=e;const{0:o,1:r}=(0,S.useState)(t);function i(){n({type:"showModal",modal:"login",modalProps:{loginScreen:"signup"},trigger:"click",source:"welcomeMat"})}(0,S.useEffect)((()=>{o&&document.cookie.split("; ").includes("dismissedWelcomeBanner=true")&&r(!1)}),[o]),(0,S.useEffect)((()=>{o&&!t&&r(!1)}),[o,t]);const a=(0,S.useRef)(null),c=(0,W.E)(a,{defaultValue:!0}),l=(0,p.GS)(p.ro),d=!(0,p.GS)(p.hs)?4:8;let m=!0,h=new Array(d).fill(null);try{const[e]=(0,_.h_)("/collection/".concat(te,"?with_listings=false"));e&&(h=e.listings.filter((e=>"notebook_reader"===e.type)),0===h.length&&(m=!1))}catch(x){m=!1,console.error("/collection/".concat(te," failed to load."))}const u=h.map((e=>null!==e?(0,Y.H)(e):null));return(0,s.jsxs)(s.Fragment,{children:[o&&(0,s.jsx)("div",{className:"fixed bottom-0 w-100 z-1",children:(0,s.jsx)("div",{className:"flex absolute left-0 right-0 f6 fw6 white bg-observable-navy z-2 items-center","data-cy":"welcome-mat-banner",style:{transition:"transform 0.1s",transform:c?"translateY(0)":"translateY(-100%)"},children:(0,s.jsxs)("div",{className:"".concat("w-100 mw-page ph4-ns ph3 center"," pv2 flex items-center"),children:[(0,s.jsx)("span",{className:"mr3 lh-copy",children:ee.bannerText}),(0,s.jsx)("div",{className:"flex-grow-1",children:(0,s.jsx)("button",{className:"pa2 f6 fw6 nowrap white br2 pointer bn bg-observable-blue-light",onClick:i,children:ee.buttonText})}),(0,s.jsx)("button",{className:"flex ph3 nr3 moon-gray hover-white items-center self-stretch bg-transparent bn pointer","aria-label":"Close welcome message",onClick:function(){r(!1),n({type:"dismissWelcomeMatBanner"});const e=new Date(Date.now()+864e5).toUTCString();document.cookie="dismissedWelcomeBanner=true; Expires=".concat(e,"; Path=/")},children:(0,s.jsx)(q.Z,{className:"w1 h1"})})]})})}),(0,s.jsxs)("div",{ref:a,children:[(0,s.jsx)("div",{className:"flex mt6 pa4 serif tc white items-center justify-center bg-observable-navy","data-cy":"welcome-mat-footer",style:{height:250},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"pb3 f4-ns f5 lh-copy",children:(0,s.jsx)("span",{children:ee.footerText})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"ph4 pv2 f6 fw6 white br2 pointer bn bg-observable-blue-light",onClick:i,children:ee.buttonText})})]})}),(0,s.jsxs)(J.Z,{children:[m?(0,s.jsxs)("div",{className:"pv3",children:[(0,s.jsxs)("div",{className:"pv3 flex justify-between items-baseline",children:[(0,s.jsx)("div",{className:"truncate serif f4 fw7 near-black",children:l?"More from Observable":"More from Observable creators"}),u.length>d?(0,s.jsx)(A(),{href:"/collection/".concat(te),children:(0,s.jsxs)("a",{className:"db flex mt2 ml2 f7 fw6 nowrap no-underline blue hover-lightest-blue items-center lh-f7",children:["View all ",(0,s.jsx)(P.Z,{})]})}):null]}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"nb4 nr3 flex-auto",children:u.slice(0,d).map(((e,t)=>e&&(0,s.jsx)("div",{className:"dib w-50-m w-25-l w-100 pr3 mb4",children:(0,s.jsx)(Q.c1,{notebook:e,format:"grid",saveListingSelectionEvent:()=>{n({type:"welcomeMatNotebookClick",clickedNotebookId:e.id})},dispatch:n,currentUser:null})},t)))})})]}):null,(0,s.jsx)("div",{style:{marginTop:"-4rem"},children:(0,s.jsx)(I.$,{})})]})]})]})}));var oe=n(5675),se=n(71539),re=n(68065),ie=n(49202),ae=n(730),ce=n(5163),le=n(78009),de=n(19702);const me=e=>{let{stuck:t,notebook:{following:n,participants:o},dispatch:r,menuActionList:i}=e;const a=o.findIndex((e=>e.id===n));if(a<0)return null;const c=o[a];return(0,s.jsx)(de.jL,{bgColor:"bg-".concat((0,ae.mQ)(a)),color:"white",stuck:t,menuActionList:i,exitLabel:"Stop following",onExit:()=>r({type:"follow",id:null}),children:(0,s.jsxs)("div",{className:"flex justify-between w-100",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(ce.Z,{}),(0,s.jsxs)("div",{className:"flex flex-center",children:[(0,s.jsx)(de.TR,{children:(0,s.jsx)("span",{className:"mh1",children:"Following"})}),(0,s.jsx)("span",{className:"ml1",children:(0,g.KY)(c)})]})]}),t&&(0,s.jsx)(le.l,{size:24})]})})};var he=n(87769),ue=n(84193);const pe=e=>{let{dispatch:t,notebook:n,stuck:o,menuActionList:r}=e;const{id:i,publishVersion:a,saveVersion:c,model:l}=n,[d]=(0,_.h_)(a&&c>a?"/document/".concat(i,"/history"):null),m=(0,S.useMemo)((()=>d?function(e,t,n){let o=0,s=e+1;for(let r=n.length-1;r>=0;r--){const e=n[r];if(e.version===t)break;e.version>=s||("revert"!==e.type?("modify_title"!==e.type&&o++,s=e.version):s=e.node_id+1)}return o}(c,a,[...d.events,...l.history.filter(Boolean)]):0),[a,c,l,d]);return(0,s.jsxs)(de.jL,{bgColor:"bg-observable-dark-gold",color:"white",stuck:o,menuActionList:r,children:[(0,s.jsxs)(de.y,{icon:he.Z,children:[(0,s.jsx)(de.TR,{children:m>0?"".concat(m," unpublished edit").concat(m>1?"s":""):"Published version"}),(0,s.jsx)("span",{className:"ml2",children:"Change sharing settings to make new edits visible to the public."})]}),(0,s.jsxs)("div",{className:"flex items-center flex-wrap",style:{gap:"16px"},children:[(0,s.jsx)(de.N_,{icon:he.Z,onClick:()=>{t({type:"showModal",modal:"share"})},children:"Share\u2026"}),(0,s.jsx)(ue.Z,{href:"/@observablehq/public-and-published-notebooks",children:(0,s.jsx)(de.N_,{icon:P.Z,iconPosition:"right",children:"Learn more"})})]})]})};var xe=n(34091);const fe=S.memo((function(e){let t,{dispatch:n,notebook:i,currentUser:a}=e;const c=(0,v.iW)(a,i.owner),l=(0,v.zB)(i),d=(0,w.yb)(a,i.owner);d?t="Notebooks are read-only because there's a problem with your account.":"public"===i.owner.tier&&(t="This notebook is read-only until you share it publicly, or upgrade your ".concat("team"===i.owner.type?"team":"account"," to work in private."));const m="".concat("team"===i.owner.type?"/team/@".concat(i.owner.login):"","/settings/billing");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(de.y,{icon:xe.Z,children:[(0,s.jsx)(de.TR,{className:"truncate mr2",children:"Read-only"}),t]}),(0,s.jsxs)("div",{className:"flex items-center flex-wrap",children:[l&&(0,s.jsx)(de.N_,{icon:he.Z,onClick:()=>n({type:"showModal",modal:"share"}),children:"Share\u2026"}),c&&(d?(0,s.jsx)(ue.Z,{href:m,children:(0,s.jsx)(de.N_,{icon:P.Z,iconPosition:"right",children:"Billing settings"})}):(0,s.jsx)(de.N_,{onClick:()=>{const e=i.owner.id===(null===a||void 0===a?void 0:a.id)?(0,r.Z)((0,o.Z)({},a),{type:"individual"}):(0,w.xT)(a,i.owner);e&&n({type:"showModal",modal:"changeUserTier",modalProps:{user:e,initialTier:"pro"}})},children:(0,s.jsx)(s.Fragment,{children:"Upgrade to Pro\u2026"})}))]})]})})),ge=e=>{let{dispatch:t,notebook:n,stuck:o,menuActionList:r,currentUser:i}=e;return(0,s.jsx)(de.jL,{bgColor:"bg-observable-dark-gold",color:"white",stuck:o,menuActionList:r,children:(0,s.jsx)(fe,{dispatch:t,notebook:n,currentUser:i})})};var be=n(25091);const je=e=>{let{dispatch:t,stuck:n,menuActionList:o}=e;return(0,s.jsx)(de.jL,{bgColor:"bg-gold",onExit:()=>t({type:"exitSafe"}),exitLabel:"Exit Safe Mode",stuck:n,menuActionList:o,children:(0,s.jsxs)(de.y,{icon:be.Z,children:[(0,s.jsx)(de.TR,{children:"Safe mode enabled."})," ",(0,s.jsx)("span",{className:"dn di-ns",children:"Use this code-only view to fix issues that might crash or hang the normal editor."})]})})};var ve=n(62990),ke=n(8433);const ye=S.memo((function(e){let{suggestionFrom:t}=e;return(0,s.jsxs)(de.y,{icon:ke.Z,children:[(0,s.jsx)(de.TR,{className:"truncate",children:(0,w.RX)(t.closer)})," ",(0,s.jsx)(de.EX,{children:"closed this suggestion to"})," ",(0,s.jsx)(de.TR,{className:"truncate",children:(0,g.Ui)(t.to_title)})," ",(0,s.jsxs)(de.EX,{children:["on ",(0,ve.LN)(t.close_time),"."]})]})})),we=e=>{let{dispatch:t,notebook:n,stuck:o,menuActionList:r}=e;return(0,s.jsx)(de.jL,{bgColor:"bg-near-white",color:"black",stuck:o,menuActionList:r,onExit:()=>t({type:"acknowledgeSuggestionClosed"}),exitLabel:"Dismiss this banner",children:(0,s.jsx)(ye,{suggestionFrom:n.suggestionFrom})})};var Ne=n(71922);const Le=S.memo((function(e){let{suggestionFrom:t}=e;return(0,s.jsxs)(de.y,{icon:Ne.Z,children:[(0,s.jsx)(de.TR,{className:"truncate",children:(0,w.RX)(t.closer)})," ",(0,s.jsx)(de.EX,{children:"merged this into"})," ",(0,s.jsx)(de.TR,{className:"truncate",children:(0,g.Ui)(t.to_title)})," ",(0,s.jsxs)(de.EX,{children:["on ",(0,ve.LN)(t.close_time),"."]})]})})),Se=e=>{let{dispatch:t,notebook:n,stuck:o,menuActionList:r}=e;return(0,s.jsx)(de.jL,{bgColor:"bg-near-white",color:"black",stuck:o,menuActionList:r,onExit:()=>t({type:"acknowledgeSuggestionClosed"}),exitLabel:"Dismiss this banner",children:(0,s.jsx)(Le,{suggestionFrom:n.suggestionFrom})})};var Ce=n(51517),Te=n(15706);const Ze=S.memo((function(e){let{id:t,owner:n,targetUrl:o,notebookTitle:r,suggestionFrom:i,isClosingSuggestion:a,forkOf:c,dispatch:l}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(de.y,{icon:Te.v,children:[(0,s.jsx)(de.TR,{children:"Suggestion"})," ",(0,s.jsx)(de.EX,{children:"sent to"})," ",(0,s.jsx)(de.TR,{className:"truncate",children:(0,s.jsx)(ue.Z,{href:o,children:(0,s.jsxs)("a",{children:[r,i.description&&":"]})})}),i.description&&(0,s.jsxs)(de.EX,{title:i.description,fill:!0,children:[" ","\u201c",i.description,"\u201d"]})]}),(0,s.jsx)(de.N_,{icon:Ce.Z,onClick:()=>l({type:"loadCompare",base:{id:c.id,owner:c.owner},target:{id:t,owner:n},trigger:"click",source:"notebookContextMenu",loadType:"fork"}),children:"Compare"}),(0,s.jsx)(de.N_,{disabled:a,icon:ke.Z,onClick:()=>{l({type:"showModal",modal:"closeSuggestion",modalProps:{trigger:"click",source:"compareBanner"}})},children:"Close"})]})})),Ue=e=>{let{dispatch:t,notebook:n,stuck:o,menuActionList:r}=e;return(0,s.jsx)(de.jL,{bgColor:"bg-near-white",color:"black",stuck:o,menuActionList:r,onExit:()=>t({type:"dismissSuggestionOpenBanner"}),exitLabel:"Dismiss this banner for the remainder of this session",children:(0,s.jsx)(Ze,{id:n.id,owner:n.owner,targetUrl:(0,b.Bi)(n.forkOf),notebookTitle:(0,g.Ui)(n.model),suggestionFrom:n.suggestionFrom,isClosingSuggestion:n.isClosingSuggestion,forkOf:n.forkOf,dispatch:t})})};var _e=n(76267),Fe=n(88188);const Re=e=>{let{dispatch:t,currentUser:n,notebook:o,stuck:r,menuActionList:i}=e;return(0,s.jsxs)(de.jL,{bgColor:"bg--observable-light-green",stuck:r,menuActionList:i,children:[(0,s.jsx)(de.y,{icon:Fe.Z,children:(0,s.jsxs)(de.TR,{children:[(0,s.jsx)(ue.Z,{href:"/templates",children:(0,s.jsx)("a",{className:"no-underline",children:"Templates"})})," / ",(0,s.jsx)(de.EX,{className:"dib-ns dn fw4 white-80",children:(0,g.Ui)(o.model)})]})}),(0,v.rk)(n,o)&&(0,x.YW)(o)&&(0,s.jsx)(de.N_,{disabled:o.isForking,icon:_e.Z,onClick:()=>t({type:"forkRequested",trigger:"click",source:"templateBanner"}),children:"Fork to get started"})]})};var Me=n(63231),Ae=n(98768),Ee=n(11163),Pe=n(43164);const Oe=S.memo((function(e){let{dispatch:t,notebook:n,currentUser:o}=e;const r=(0,Ee.useRouter)(),i=(0,v.rk)(o,n);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(de.y,{icon:Me.Z,children:[(0,s.jsx)(de.TR,{children:"Making temporary edits"}),i&&(0,s.jsx)(de.EX,{className:"ml2",children:"Fork to save your changes"})]}),(0,s.jsxs)("div",{className:"flex items-center flex-wrap",children:[(0,s.jsx)(de.N_,{icon:Ae.Z,onClick:()=>{n.saveVersion<n.initialLatestVersion?t({type:"loadVersion",version:n.saveVersion,autosave:!0}):r.replace(r.asPath)},children:"Discard"}),i&&(0,s.jsx)(de.N_,{icon:_e.Z,disabled:n.isForking,onClick:()=>t({type:"forkRequested",source:"tinkerBanner",trigger:"click"}),children:(0,Pe.tJ)(n,o)})]})]})})),Ve=e=>{let{dispatch:t,notebook:n,stuck:o,menuActionList:r,currentUser:i}=e;return(0,s.jsx)(de.jL,{bgColor:"bg-observable-dark-gold",color:"white",stuck:o,menuActionList:r,children:(0,s.jsx)(Oe,{dispatch:t,notebook:n,currentUser:i})})};var ze=n(9532);const qe=e=>{let{dispatch:t,notebook:n,stuck:o,menuActionList:r}=e;const i=(0,p.GS)(p.ro),a=(0,p.GS)(p.hs),c=(0,y.tK)(n)?"latest version":"version ".concat(n.saveVersion),l=i?"Restore v".concat(n.saveVersion):"Restore version ".concat(n.saveVersion," of ").concat(n.initialLatestVersion);return(0,s.jsxs)(de.jL,{bgColor:"bg-blue",onExit:()=>t({type:"exitVersionedMode"}),exitLabel:"Exit versioned mode",stuck:o,menuActionList:r,children:[(0,s.jsxs)(de.y,{icon:ze.Z,children:[(0,s.jsxs)(de.TR,{children:["Showing ".concat(c),"."]})," ",(0,v.i3)(n)&&(0,x.g)(n)&&a&&(0,s.jsx)(de.EX,{children:"Changes will not be saved."})]}),(0,v.i3)(n)&&(0,x.g)(n)&&(0,s.jsx)(de.N_,{icon:Ae.Z,onClick:()=>t({type:"revertRequested",version:n.saveVersion,remote:!1}),children:l})]})};var Be=n(81685);const De=e=>{let{notebook:t,dispatch:n}=e;return(0,v.mG)(t)?{onSelect:()=>n({type:"showModal",modal:"authors"}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Be.Z,{className:"mr2 h1 w1"}),"Set authors\u2026"]})}:null};var He=n(86384);const Ie=e=>{let{notebook:t,dispatch:n}=e;return(0,x.YE)(t)?{onSelect:()=>n({type:"loadCompare",base:{id:t.forkOf.id,owner:t.forkOf.owner},target:{id:t.id,owner:t.owner},trigger:"click",source:"notebookContextMenu",loadType:"fork"}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ce.Z,{className:"mr2 h1 w1"}),"Compare fork"]})}:null},Ge=e=>{let{notebook:t,dispatch:n}=e;return(0,x.kh)(t)?{onSelect:e=>n({type:"loadCompare",base:{id:t.id,version:t.saveVersion,owner:t.owner},target:{id:t.id,owner:t.owner},trigger:"click",source:"notebookHeaderPromotedAction"===e?"notebookHeaderPromotedAction":"notebookContextMenu",loadType:"latest"}),disabled:(0,y.tK)(t),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ce.Z,{className:"mr2 h1 w1"}),"Compare latest"]})}:null},$e=e=>{let{notebook:t,dispatch:n}=e;return(0,x.yj)(t)?{onSelect:()=>n({type:"loadCompare",base:{id:t.id,version:t.publishVersion,owner:t.owner},target:{id:t.id,version:t.saveVersion,owner:t.owner},trigger:"click",source:"notebookContextMenu",loadType:"published"}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ce.Z,{className:"mr2 h1 w1"}),"Compare published"]})}:null};var Xe=n(26825);const Ke=e=>{let{notebook:t,dispatch:n}=e;const{id:o,slug:r,owner:i,saveVersion:a}=t;return{as:"a",href:"".concat("https://api.observablehq.com").concat((0,b.UW)({id:o,slug:r,owner:i}),"@").concat(a,".tgz?v=3"),className:"flex items-center no-underline",onClick:(0,v.pT)(t)?e=>{e.preventDefault(),n({type:"downloadCode",trigger:"click",source:"notebookContextMenu"})}:void 0,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Xe.Z,{className:"mr2 h1 w1"})," Download code"]})}};var We=n(64804);const Ye=e=>{let{dispatch:t}=e;return{onSelect:()=>{t({type:"showModal",modal:"embed",modalProps:{},source:"notebookContextMenu"})},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(We.Z,{className:"mr2 h1 w1"}),"Embed cells"]})}};var Qe=n(96675),Je=n(93797);const et=e=>{let{notebook:t,dispatch:n}=e;return(0,v.GL)(t)?{onSelect:()=>n({type:"showModal",modal:"license"}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Je.Z,{className:"mr2 h1 w1"}),"Set license\u2026"]})}:null};var tt=n(82162);const nt=e=>{let{notebook:{like:t},currentUser:n,dispatch:o}=e;return{onSelect:()=>o({type:"like",trigger:"click",source:"notebookHeaderPromotedAction"}),tooltip:n?"".concat(t?"Unlike":"Like"," this notebook"):"Sign in to like this notebook",children:(0,s.jsx)(st,{like:t})}},ot=e=>{let{notebook:{like:t},currentUser:n,dispatch:o}=e;return n?{onSelect:()=>{o({type:"like",trigger:"click",source:"notebookContextMenu"})},tooltip:"".concat(t?"Unlike":"Like"," this notebook"),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tt.Z,{className:"mr2 w1 h1"}),t?"Unlike":"Like"]})}:null},st=e=>{let{like:t}=e;const n=(0,S.useRef)(t),o=t&&!n.current;return n.current=t,(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tt.Z,{className:o?"bump":"",color:t?"var(--dark-gray)":"inherit",fill:t?"var(--dark-gray)":"transparent"}),(0,s.jsx)(a(),{id:"6659368c4cbab750",children:"@-webkit-keyframes bump{0%{-webkit-transform:none;transform:none}25%{-webkit-transform:scale(1.5);transform:scale(1.5)}100%{-webkit-transform:none;transform:none}}@-moz-keyframes bump{0%{-moz-transform:none;transform:none}25%{-moz-transform:scale(1.5);transform:scale(1.5)}100%{-moz-transform:none;transform:none}}@-o-keyframes bump{0%{-o-transform:none;transform:none}25%{-o-transform:scale(1.5);transform:scale(1.5)}100%{-o-transform:none;transform:none}}@keyframes bump{0%{-webkit-transform:none;-moz-transform:none;-o-transform:none;transform:none}25%{-webkit-transform:scale(1.5);-moz-transform:scale(1.5);-o-transform:scale(1.5);transform:scale(1.5)}100%{-webkit-transform:none;-moz-transform:none;-o-transform:none;transform:none}}.bump{-webkit-animation-duration:350ms;-moz-animation-duration:350ms;-o-animation-duration:350ms;animation-duration:350ms;-webkit-animation-fill-mode:forwards;-moz-animation-fill-mode:forwards;-o-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-name:bump;-moz-animation-name:bump;-o-animation-name:bump;animation-name:bump}"})]})};var rt=n(84749),it=n(99534);var at=e=>{var{title:t}=e,n=(0,it.Z)(e,["title"]);return(0,s.jsx)("svg",(0,r.Z)((0,o.Z)({width:"16",height:"16",fill:"none"},n),{children:(0,s.jsxs)("g",{transform:"translate(3, 2)",children:[t&&(0,s.jsx)("title",{children:t}),(0,s.jsx)("rect",{x:"0",y:"5",width:"10",height:"7",rx:"2",fill:"currentColor"}),(0,s.jsx)("path",{d:"M3.5 6.5V4c0-4-6-4-6 0v1.5",stroke:"currentColor",strokeWidth:"2"})]})}))};const ct=e=>{let{notebook:t,dispatch:n}=e;var o;if(!(0,x.H7)(t)||!(0,x.GT)(t)||!(0,v.PG)(t))return null;const r=null===(o=t.commentingLock)||void 0===o?void 0:o.user_locked;return{onSelect:()=>{n({type:"updateCommentingLock",locked:!r})},children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(at,{className:"mr2 h1 w1"})," Unlock comments"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(rt.Z,{className:"mr2 h1 w1"})," Lock comments"]})}};var lt=n(54098),dt=n(83065);const mt=e=>{let{notebook:t,dispatch:n}=e;const{saveVersion:o,autosave:r}=t;return!(0,v.i3)(t)||r?null:{onSelect:()=>n({type:"revertRequested",version:o,remote:!1}),disabled:!(0,x.g)(t),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ae.Z,{className:"mr2 h1 w1"}),"Revert to v",o]})}},ht=e=>{let{notebook:t,dispatch:n}=e;const{publishVersion:o,autosave:r}=t;return!(0,v.i3)(t)||(0,y.ws)(t)||!r||(0,y.fN)(t)?null:{onSelect:()=>n({type:"revertRequested",version:o,remote:!1}),disabled:!(0,x.E0)(t),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ae.Z,{className:"mr2 h1 w1"}),"Revert to publish"]})}};var ut=n(43360),pt=n(14903),xt=n(5581),ft=n(61777);const gt=e=>{let{page:t,dispatch:n}=e;return{onSelect:()=>{n({type:"togglePane",pane:"dependencies"})},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ft.Z,{className:"mr2 h1 w1"}),"dependencies"===(null===t||void 0===t?void 0:t.pane)?"Hide dependencies":"Show dependencies"]})}};var bt=n(30410),jt=n(60138);const vt=e=>{let{dispatch:t,page:n}=e;return{onSelect:()=>{t({type:"togglePane",pane:"find"})},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(jt.Z,{className:"mr2 h1 w1"}),"find"===(null===n||void 0===n?void 0:n.pane)?"Hide find":"Show find"]})}};var kt=n(18530);const yt=e=>{let{notebook:t,page:n,dispatch:o}=e;return(0,v.pT)(t)?{onSelect:()=>{o({type:"togglePane",pane:"history"})},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ze.Z,{className:"mr2 h1 w1"}),"history"===(null===n||void 0===n?void 0:n.pane)?"Hide history":"Show history"]})}:null};var wt=n(86057);const Nt=e=>{let{notebook:t,page:n,dispatch:o}=e;return(0,v.ED)(t)?{onSelect:()=>o({type:"togglePane",pane:"insights"}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(wt.Z,{className:"mr2 h1 w1"}),"insights"===(null===n||void 0===n?void 0:n.pane)?"Hide insights":"Show insights"]})}:null};var Lt=n(26492);const St=e=>{let{page:t,dispatch:n}=e;return{onSelect:()=>{n({type:"togglePane",pane:"minimap"})},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Lt.Z,{className:"mr2 h1 w1"}),"minimap"===(null===t||void 0===t?void 0:t.pane)?"Hide minimap":"Show minimap"]})}};var Ct=n(2239);var Tt=e=>(0,s.jsxs)("svg",(0,r.Z)((0,o.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2"},e),{children:[(0,s.jsx)("path",{d:"M3 7.08578V7.08578C2.44772 7.08578 2 7.5335 2 8.08578V13.0858C2 13.6381 2.44772 14.0858 3 14.0858H13C13.5523 14.0858 14 13.6381 14 13.0858V8.08578C14 7.5335 13.5523 7.08578 13 7.08578V7.08578"}),(0,s.jsx)("path",{d:"M11 5.5L8 2.5L5 5.5"}),(0,s.jsx)("path",{d:"M8 10.0858L8 3.08578"})]})),Zt=n(51289),Ut=n(92946),_t=n(33396);const Ft=[{type:"twitter",icon:(0,s.jsx)(_t.Z,{style:{color:"#1DA1F2"}}),text:"Share to Twitter"}];const Rt=e=>{let{notebook:t,currentUser:n,dispatch:i}=e;const{origin:a,pathname:c}=new URL(Zt.Qg?location.href:"https://localhost"),l="".concat(a).concat(c);return{children:(0,s.jsx)(Tt,{}),tooltip:"Share via social media",actions:(0,r.Z)((0,o.Z)({},Ft.reduce(((e,o)=>{let{type:r,icon:i,text:a}=o;return e[a]={onSelect:()=>{(0,f.MR)((0,f.ym)({type:"notebook:social:externalShare",data:{type:r},currentUser:n,notebook:t,eventVersion:1}));const e=window.open();(async function(e,t,n){const{id:o,owner:s,saveVersion:r,publishVersion:i}=t,{name:a,login:c}=s;let l;l=r===i?t.model.title:(await(0,_.a8)("/document/".concat(o,"@").concat(i))).title;switch(e){case"twitter":{const e=new URL("https://twitter.com/intent/tweet");return e.searchParams.append("text",'"'.concat(l.length?l:"Untitled",'" by ').concat(a||c," on @observablehq")),e.searchParams.append("url",n),e}case"copy-link":return}})(r,t,l).then((t=>{t?e.location=t:e.close()}))},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"mr2",children:i}),a]})},e}),{})),{copyLink:{onSelect:async()=>{(0,f.MR)((0,f.ym)({type:"notebook:social:externalShare",data:{type:"copy-link"},currentUser:n,notebook:t,eventVersion:1})),await navigator.clipboard.writeText(l),i({type:"showSuccessToast",message:"Copied to clipboard"})},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"mr2",children:(0,s.jsx)(Ut.ZP,{})}),"Copy link"]})}})}};var Mt=n(23929);const At=e=>{let{dispatch:t,notebook:n}=e;return!(0,v.mG)(n)||(0,y.os)(n)?null:{onSelect:()=>n.autosave?t({type:"disableAutosave"}):t({type:"loadVersion",version:n.saveVersion,autosave:!0}),children:n.autosave?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Me.Z,{className:"mr2 h1 w1"}),"Tinker"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ae.Z,{className:"mr2 h1 w1"}),"Discard"]})}};var Et=n(2840),Pt=n(77061),Ot=n(28555),Vt=n(5196);function zt(e,t){const n=[];if((0,y.fN)(t)||(0,y.dO)(t.owner)){const o=(0,y.wd)(t);(0,v.mG)(t)&&t.autosave?(n.push({name:"publishShare"}),n.push({name:"forkIcon"})):(0,v.rk)(e,t)&&!(0,y.zC)(t)?n.push({name:"fork",highlight:o}):(0,x.kh)(t)&&n.push({name:"compareToLatest",highlight:!1})}else{if((0,v.mG)(t)&&t.autosave){if((0,v.zB)(t)){const e=(0,y.ly)(t)&&!(0,y.fN)(t);e?n.push({name:"republish",highlight:e}):(0,y.ws)(t)&&!(0,y.p0)(t)&&n.push({name:"publish"})}(0,y.p0)(t)&&n.push({name:"share"})}else if((0,v.rk)(e,t)&&!(0,y.zC)(t)){const e=(0,y.wd)(t);n.push({name:"fork",highlight:e})}else(0,x.kh)(t)&&n.push({name:"compareToLatest",highlight:!1});(0,x.q8)(t)&&n.push({name:"socialShare",highlight:!1})}return(0,x.ws)(t)&&n.push({name:"like",highlight:!1}),n}const qt=(0,C.$j)((e=>{let{notebook:t,page:n,currentUser:o}=e;return{notebook:t,page:n,currentUser:o}}),(e=>({dispatch:e})))((e=>{let t,{notebook:n,page:i,currentUser:a,dispatch:c}=e;n.following?t=me:n.safe?t=je:(0,v.mG)(n)&&n.autosave||!(0,y.oI)(n)?n.autosave?(0,y.os)(n)?t=ge:((0,y.s9)(n)||(0,y.cg)(n))&&(0,v._l)(n)&&(0,y.ly)(n)&&"basic"!==(null===a||void 0===a?void 0:a.tier)&&"enterprise"!==(null===a||void 0===a?void 0:a.tier)?t=pe:(0,y.Or)(n)&&(0,v.sm)(n.suggestionFrom)&&!i.suggestionOpenBannerDismissed?t=Ue:(0,y.to)(n)?t=we:(0,y.Y8)(n)?t=Se:(0,y.zC)(n)&&(t=Re):t=qe:t=Ve;const l=(0,y.fN)(n)||(0,y.dO)(n.owner),d={notebook:n,currentUser:a,dispatch:c,page:i},m=(0,r.Z)((0,o.Z)({suggest:(0,Mt.P)(d),revertToVersion:mt(d),compareToPublished:$e(d),compareToFork:Ie(d),compareToLatest:Ge(d),divider_0:null},l?{Share:(0,dt.Y1)(d)}:(0,r.Z)((0,o.Z)({},(0,y.ws)(n)?{Publish:(0,dt.OZ)(d)}:{Publish:{Republish:(0,dt.u8)(d),settings:(0,dt.dZ)(d),revertToPublish:ht(d),unpublish:(0,Ot.h)(d)}}),{Share:(0,pt.X)(d)})),{Fork:(0,Pe.AH)(d),divider_1:null,like:ot(d),collections:(0,He.b)(d),divider_2:null,View:{showFiles:(0,bt.m)(d),showDatabases:(0,xt.e)(d),showHistory:yt(d),showHelp:(0,kt.S)(d),showMinimap:St(d),showDependencies:gt(d),showInsights:Nt(d),showFind:vt(d),divider_0:null,fullscreen:(0,Qe.$)(d),safeMode:(0,ut.A)(d),tinkerMode:At(d)},Export:{embed:Ye(d),downloadCode:Ke(d)},Settings:{slug:(0,Ct.t)(d),license:et(d),authors:De(d),divider_0:null,lockComments:ct(d),notifications:(0,lt.A)(d),divider_1:null,transfer:(0,Et.M)(d)},divider_3:null,Delete:(0,Pt.q)(d)}),h={fork:Pe.AH,forkIcon:Pe.iE,publish:dt.OZ,republish:dt.u8,publishShare:dt.Y1,share:pt.X,socialShare:Rt,like:nt,compareToLatest:Ge};return(0,s.jsx)(Vt.n,{SelectedBanner:t,menuActionList:m,promotedActions:zt(a,n),promotableActions:h,notebook:n,currentUser:a,dispatch:c})}));var Bt=n(42613);const Dt=e=>{const t=(0,Z.M)(T.f,e),n=(0,d.w)(t);return(0,m.D)(t),(0,s.jsx)(C.zt,{store:t,children:(0,s.jsx)($t,{editors:n})})};var Ht=e=>(0,s.jsx)(Dt,(0,o.Z)({},e),(0,j.Z)(e));const It=()=>!0,Gt=()=>!1;const $t=(0,C.$j)((e=>{let{notebook:t,decorations:n,page:o,currentUser:s}=e;return{notebook:t,decorations:n,page:o,currentUser:s}}),(e=>({dispatch:e})))((e=>{let{notebook:t,currentUser:n,decorations:i,editors:d,dispatch:m,page:j}=e;const k=function(e){const{saveVersion:t,autosave:n,safe:o}=e;return(0,b.UW)(e)+(n?"":"@".concat(t))+(o?"/safe":"")}(t),w=function(e,t){if("undefined"===typeof location)return"";let n=location.search;const o=t.collectionsSidebarOpen&&e.initialCollection?function(e){let{owner:t,slug:n}=e;return"@".concat(t.login,"/").concat(n)}(e.initialCollection):null,s=o?"?collection=".concat(o):"";if(n===s)return n;const r=new URLSearchParams(n);r.get("collection")!==o&&(r.delete("collection"),n="".concat(r),n&&(n="?".concat(n)),o&&(n="".concat(n?"".concat(n,"&"):"?","collection=").concat(o)));return n}(t,j),{owner:N,model:C,isFullscreen:T,safe:Z,autosave:U,following:_}=t;return(0,l.D)(t,n,d,m),(0,u.w)(m,n,t.owner.login),(0,h.f)(t.editorStates,t.searchTerm,m),(0,S.useEffect)((()=>{if(location.pathname!==k||location.search!==w){const e="".concat(k).concat(w).concat(location.hash);history.replaceState((0,r.Z)((0,o.Z)({},history.state),{as:e,url:e}),"",e)}})),(0,S.useEffect)((()=>{j.collectionsSidebarOpen&&t.initialCollection&&!window.matchMedia(p.hs).matches&&m({type:"toggleCollectionsSidebar"}),(0,f.MR)((0,f.ym)({type:"notebook:view:view",data:{numCells:t.model.nodes.length},eventVersion:4,notebook:t,currentUser:n}))}),[]),(0,S.useEffect)((()=>{_?document.documentElement.classList.add("following"):document.documentElement.classList.remove("following")}),[_]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(L(),{children:[(0,s.jsx)("link",{rel:"canonical",href:"".concat("https://observablehq.com").concat(k),className:"jsx-89ba54f59fad5733"}),(0,s.jsx)("link",{rel:"alternate",type:"application/rss+xml",title:"".concat((0,g.KY)(N)," / Observable"),href:"".concat("https://api.observablehq.com","/documents/@").concat(N.login,".rss"),className:"jsx-89ba54f59fad5733"}),t.collections.filter((e=>"public"===e.type)).map((e=>(0,s.jsx)("link",{rel:"alternate",type:"application/rss+xml",title:"".concat((0,g.Ui)(e)," / ").concat((0,g.KY)(e.owner)," / Observable"),href:"".concat("https://api.observablehq.com","/collection/@").concat(e.owner.login,"/").concat(e.slug,".rss"),className:"jsx-89ba54f59fad5733"},"@".concat(e.owner.login,"/").concat(e.slug)))),(0,s.jsxs)("title",{className:"jsx-89ba54f59fad5733",children:[Z?"Safe Mode: ":U?"":"History: ",(0,g.Ui)(C)," / ",(0,g.KY)(N)," / Observable"]}),(0,s.jsx)(X.bd,{notebook:t})]}),(0,s.jsx)($.Z,{}),(0,s.jsx)(se.b,{}),(0,y.dI)(t)&&(0,s.jsx)(oe.z,{notebook:t,dispatch:m}),(0,s.jsx)(qt,{}),(0,s.jsx)(Bt.P,{}),j.collectionsSidebarOpen?(0,s.jsx)(H,{}):null,(0,s.jsxs)(J.Z,{children:[(0,s.jsx)(G.i,{isFullscreen:T,style:{minHeight:"calc(100vh - ".concat(n?34:85,"rem)")},dispatch:m,children:(0,s.jsx)(ie.a,{notebook:t,dispatch:m,editors:d,currentUser:n,disablePointerEvents:"none"!==i.modal,editorComponent:re.i,isNodeCommentable:(0,x.H7)(t)?It:Gt})}),(0,s.jsx)(c.W,{}),(0,s.jsx)(K.F1,{}),n&&(0,s.jsx)(I.$,{empty:(0,y.ws)(t)||(0,v.mG)(t)})]}),(0,s.jsx)(a(),{id:"89ba54f59fad5733",children:".following{scroll-behavior:smooth}"}),!n&&(0,s.jsx)(ne,{})]})}));var Xt=n(82469),Kt=n(40452),Wt=n(9234),Yt=(n(28067),n(65538)),Qt=n(24165);const Jt=(0,Yt.$j)((e=>{let{decorations:t,currentUser:n}=e;return{decorations:t,currentUser:n}}),null)((e=>{let{forks:t,parentNotebook:n}=e;return(0,s.jsxs)(Xt.Z,{children:[(0,s.jsx)(L(),{children:(0,s.jsxs)("title",{children:["Forks of \u2018",(0,b.$h)(n),"\u2019"]})}),(0,s.jsx)($.Z,{}),(0,s.jsx)(Kt.j,{}),(0,s.jsx)(K.F1,{}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"mv4 fw7 gray",style:{fontSize:"2rem"},children:["Forks of"," ",(0,s.jsx)(A(),{href:(0,b.Bi)(n),children:(0,s.jsx)("a",{className:"no-underline black hover-blue",children:(0,b.$h)(n)})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(Wt.a,{emptyMessage:"This notebook has no forks",response:t,items:"forks",children:(e,t)=>(0,s.jsx)(Q.pg,{format:t,notebook:e})})})]})]})})),en=e=>{const t=(0,Z.M)(Qt.f,e);return(0,s.jsx)(Yt.zt,{store:t,children:(0,s.jsx)(Jt,{parentNotebook:e.initialParentNotebook,forks:(0,Y.x)(e.forks)})})};const tn=(0,Yt.$j)((e=>{let{decorations:t,currentUser:n}=e;return{decorations:t,currentUser:n}}),null)((e=>{let{importers:t,parentNotebook:n}=e;return(0,s.jsxs)(Xt.Z,{children:[(0,s.jsx)(L(),{children:(0,s.jsxs)("title",{children:["Importers of \u2018",(0,b.$h)(n),"\u2019"]})}),(0,s.jsx)($.Z,{}),(0,s.jsx)(Kt.j,{}),(0,s.jsx)(K.F1,{}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"mv4 fw7 gray",style:{fontSize:"2rem"},children:["Importers of"," ",(0,s.jsx)(A(),{href:(0,b.Bi)(n),children:(0,s.jsx)("a",{className:"no-underline black hover-blue",children:(0,b.$h)(n)})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(Wt.a,{emptyMessage:"This notebook has no importers",response:t,items:"importers",children:(e,t)=>(0,s.jsx)(Q.pg,{format:t,notebook:e})})})]})]})})),nn=e=>{const t=(0,Z.M)(Qt.f,e);return(0,s.jsx)(Yt.zt,{store:t,children:(0,s.jsx)(tn,{parentNotebook:e.initialParentNotebook,importers:(0,Y.x)(e.importers)})})};var on=n(65878),sn=n(31343);var rn=!0,an=(0,on.Z)((e=>"initialNotebook"in e?(0,s.jsx)(Ht,(0,o.Z)({},e)):"forks"in e?(0,s.jsx)(en,(0,o.Z)({},e)):"importers"in e?(0,s.jsx)(nn,(0,o.Z)({},e)):null));function cn(e,t){let{at:n,specifiers:o}=e;const s="d"===n||(o.unshift(n),!1),r={allowId:s,allowSlug:!s,allowTilde:!0};let i=null;if(t.includes(o[o.length-1])&&(i=k.Z.parse(o.slice(0,-1).join("/"),r),i))return[o.pop(),i];if(i=k.Z.parse(o.join("/"),r),!i)throw(0,sn.v6)();return[null,i]}},24165:function(e,t,n){"use strict";n.d(t,{f:function(){return c}});var o=n(41799),s=n(810),r=n(54937),i=n(68298),a=n(77180);const c=()=>({type:"dashboard",slices:{notebook:{initialState:{},reducers:(0,o.Z)({},r.x,a.L)}},listeners:(0,o.Z)({},s.l,i.R)})},23342:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var o=n(41799),s=n(810),r=n(54937),i=n(33199),a=n(36620),c=n(94578);const l=e=>({type:"notebook",slices:{notebook:{initialState:(0,a.D)(e),reducers:(0,o.Z)({},r.x,a.$)},page:{initialState:(0,c.c)(e),reducers:c.q}},listeners:(0,o.Z)({},s.l,i.C)})}},function(e){e.O(0,[5880,9874,2656,5680,793,8764,3639,1564,7079,5665,5352,2338,8367,2321,5542,5299,3504,1861,1067,1699,2590,8024,8269,8758,5212,9774,2888,179],(function(){return t=62907,e(e.s=t);var t}));var t=e.O();_N_E=t}]);